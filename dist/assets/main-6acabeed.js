(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Sh(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function Ph(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=_e(i)?VE(i):Ph(i);if(r)for(const o in r)t[o]=r[o]}return t}else{if(_e(e))return e;if(Yt(e))return e}}const BE=/;(?![^(]*\))/g,zE=/:([^]+)/,$E=/\/\*.*?\*\//gs;function VE(e){const t={};return e.replace($E,"").split(BE).forEach(n=>{if(n){const i=n.split(zE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ah(e){let t="";if(_e(e))t=e;else if(pt(e))for(let n=0;n<e.length;n++){const i=Ah(e[n]);i&&(t+=i+" ")}else if(Yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const HE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jE=Sh(HE);function kg(e){return!!e||e===""}const ts=e=>_e(e)?e:e==null?"":pt(e)||Yt(e)&&(e.toString===Ng||!wt(e.toString))?JSON.stringify(e,Rg,2):String(e),Rg=(e,t)=>t&&t.__v_isRef?Rg(e,t.value):Hs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Lg(t)?{[`Set(${t.size})`]:[...t.values()]}:Yt(t)&&!pt(t)&&!Mg(t)?String(t):t,Qt={},Vs=[],wn=()=>{},qE=()=>!1,WE=/^on[^a-z]/,xl=e=>WE.test(e),xh=e=>e.startsWith("onUpdate:"),Ue=Object.assign,kh=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},KE=Object.prototype.hasOwnProperty,At=(e,t)=>KE.call(e,t),pt=Array.isArray,Hs=e=>kl(e)==="[object Map]",Lg=e=>kl(e)==="[object Set]",wt=e=>typeof e=="function",_e=e=>typeof e=="string",Rh=e=>typeof e=="symbol",Yt=e=>e!==null&&typeof e=="object",Og=e=>Yt(e)&&wt(e.then)&&wt(e.catch),Ng=Object.prototype.toString,kl=e=>Ng.call(e),ZE=e=>kl(e).slice(8,-1),Mg=e=>kl(e)==="[object Object]",Lh=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Da=Sh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rl=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},GE=/-(\w)/g,zn=Rl(e=>e.replace(GE,(t,n)=>n?n.toUpperCase():"")),QE=/\B([A-Z])/g,ur=Rl(e=>e.replace(QE,"-$1").toLowerCase()),Ll=Rl(e=>e.charAt(0).toUpperCase()+e.slice(1)),Kc=Rl(e=>e?`on${Ll(e)}`:""),so=(e,t)=>!Object.is(e,t),Zc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Qa=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},XE=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hp;const YE=()=>hp||(hp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let mn;class JE{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=mn,!t&&mn&&(this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=mn;try{return mn=this,t()}finally{mn=n}}}on(){mn=this}off(){mn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function tT(e,t=mn){t&&t.active&&t.effects.push(e)}function eT(){return mn}const Oh=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Dg=e=>(e.w&Li)>0,Ug=e=>(e.n&Li)>0,nT=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Li},iT=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Dg(r)&&!Ug(r)?r.delete(e):t[n++]=r,r.w&=~Li,r.n&=~Li}t.length=n}},Pu=new WeakMap;let zr=0,Li=1;const Au=30;let gn;const rs=Symbol(""),xu=Symbol("");class Nh{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,tT(this,i)}run(){if(!this.active)return this.fn();let t=gn,n=Si;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=gn,gn=this,Si=!0,Li=1<<++zr,zr<=Au?nT(this):dp(this),this.fn()}finally{zr<=Au&&iT(this),Li=1<<--zr,gn=this.parent,Si=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gn===this?this.deferStop=!0:this.active&&(dp(this),this.onStop&&this.onStop(),this.active=!1)}}function dp(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Si=!0;const Fg=[];function hr(){Fg.push(Si),Si=!1}function dr(){const e=Fg.pop();Si=e===void 0?!0:e}function Ke(e,t,n){if(Si&&gn){let i=Pu.get(e);i||Pu.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=Oh()),Bg(r)}}function Bg(e,t){let n=!1;zr<=Au?Ug(e)||(e.n|=Li,n=!Dg(e)):n=!e.has(gn),n&&(e.add(gn),gn.deps.push(e))}function si(e,t,n,i,r,o){const l=Pu.get(e);if(!l)return;let u=[];if(t==="clear")u=[...l.values()];else if(n==="length"&&pt(e)){const h=Number(i);l.forEach((f,m)=>{(m==="length"||m>=h)&&u.push(f)})}else switch(n!==void 0&&u.push(l.get(n)),t){case"add":pt(e)?Lh(n)&&u.push(l.get("length")):(u.push(l.get(rs)),Hs(e)&&u.push(l.get(xu)));break;case"delete":pt(e)||(u.push(l.get(rs)),Hs(e)&&u.push(l.get(xu)));break;case"set":Hs(e)&&u.push(l.get(rs));break}if(u.length===1)u[0]&&ku(u[0]);else{const h=[];for(const f of u)f&&h.push(...f);ku(Oh(h))}}function ku(e,t){const n=pt(e)?e:[...e];for(const i of n)i.computed&&fp(i);for(const i of n)i.computed||fp(i)}function fp(e,t){(e!==gn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const sT=Sh("__proto__,__v_isRef,__isVue"),zg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rh)),rT=Mh(),oT=Mh(!1,!0),aT=Mh(!0),pp=lT();function lT(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Lt(this);for(let o=0,l=this.length;o<l;o++)Ke(i,"get",o+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Lt)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){hr();const i=Lt(this)[t].apply(this,n);return dr(),i}}),e}function cT(e){const t=Lt(this);return Ke(t,"has",e),t.hasOwnProperty(e)}function Mh(e=!1,t=!1){return function(i,r,o){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&o===(e?t?CT:qg:t?jg:Hg).get(i))return i;const l=pt(i);if(!e){if(l&&At(pp,r))return Reflect.get(pp,r,o);if(r==="hasOwnProperty")return cT}const u=Reflect.get(i,r,o);return(Rh(r)?zg.has(r):sT(r))||(e||Ke(i,"get",r),t)?u:Le(u)?l&&Lh(r)?u:u.value:Yt(u)?e?Wg(u):Ao(u):u}}const uT=$g(),hT=$g(!0);function $g(e=!1){return function(n,i,r,o){let l=n[i];if(Ys(l)&&Le(l)&&!Le(r))return!1;if(!e&&(!Xa(r)&&!Ys(r)&&(l=Lt(l),r=Lt(r)),!pt(n)&&Le(l)&&!Le(r)))return l.value=r,!0;const u=pt(n)&&Lh(i)?Number(i)<n.length:At(n,i),h=Reflect.set(n,i,r,o);return n===Lt(o)&&(u?so(r,l)&&si(n,"set",i,r):si(n,"add",i,r)),h}}function dT(e,t){const n=At(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&si(e,"delete",t,void 0),i}function fT(e,t){const n=Reflect.has(e,t);return(!Rh(t)||!zg.has(t))&&Ke(e,"has",t),n}function pT(e){return Ke(e,"iterate",pt(e)?"length":rs),Reflect.ownKeys(e)}const Vg={get:rT,set:uT,deleteProperty:dT,has:fT,ownKeys:pT},mT={get:aT,set(e,t){return!0},deleteProperty(e,t){return!0}},gT=Ue({},Vg,{get:oT,set:hT}),Dh=e=>e,Ol=e=>Reflect.getPrototypeOf(e);function _a(e,t,n=!1,i=!1){e=e.__v_raw;const r=Lt(e),o=Lt(t);n||(t!==o&&Ke(r,"get",t),Ke(r,"get",o));const{has:l}=Ol(r),u=i?Dh:n?Bh:ro;if(l.call(r,t))return u(e.get(t));if(l.call(r,o))return u(e.get(o));e!==r&&e.get(t)}function va(e,t=!1){const n=this.__v_raw,i=Lt(n),r=Lt(e);return t||(e!==r&&Ke(i,"has",e),Ke(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function ya(e,t=!1){return e=e.__v_raw,!t&&Ke(Lt(e),"iterate",rs),Reflect.get(e,"size",e)}function mp(e){e=Lt(e);const t=Lt(this);return Ol(t).has.call(t,e)||(t.add(e),si(t,"add",e,e)),this}function gp(e,t){t=Lt(t);const n=Lt(this),{has:i,get:r}=Ol(n);let o=i.call(n,e);o||(e=Lt(e),o=i.call(n,e));const l=r.call(n,e);return n.set(e,t),o?so(t,l)&&si(n,"set",e,t):si(n,"add",e,t),this}function _p(e){const t=Lt(this),{has:n,get:i}=Ol(t);let r=n.call(t,e);r||(e=Lt(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&si(t,"delete",e,void 0),o}function vp(){const e=Lt(this),t=e.size!==0,n=e.clear();return t&&si(e,"clear",void 0,void 0),n}function wa(e,t){return function(i,r){const o=this,l=o.__v_raw,u=Lt(l),h=t?Dh:e?Bh:ro;return!e&&Ke(u,"iterate",rs),l.forEach((f,m)=>i.call(r,h(f),h(m),o))}}function Ea(e,t,n){return function(...i){const r=this.__v_raw,o=Lt(r),l=Hs(o),u=e==="entries"||e===Symbol.iterator&&l,h=e==="keys"&&l,f=r[e](...i),m=n?Dh:t?Bh:ro;return!t&&Ke(o,"iterate",h?xu:rs),{next(){const{value:_,done:v}=f.next();return v?{value:_,done:v}:{value:u?[m(_[0]),m(_[1])]:m(_),done:v}},[Symbol.iterator](){return this}}}}function gi(e){return function(...t){return e==="delete"?!1:this}}function _T(){const e={get(o){return _a(this,o)},get size(){return ya(this)},has:va,add:mp,set:gp,delete:_p,clear:vp,forEach:wa(!1,!1)},t={get(o){return _a(this,o,!1,!0)},get size(){return ya(this)},has:va,add:mp,set:gp,delete:_p,clear:vp,forEach:wa(!1,!0)},n={get(o){return _a(this,o,!0)},get size(){return ya(this,!0)},has(o){return va.call(this,o,!0)},add:gi("add"),set:gi("set"),delete:gi("delete"),clear:gi("clear"),forEach:wa(!0,!1)},i={get(o){return _a(this,o,!0,!0)},get size(){return ya(this,!0)},has(o){return va.call(this,o,!0)},add:gi("add"),set:gi("set"),delete:gi("delete"),clear:gi("clear"),forEach:wa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ea(o,!1,!1),n[o]=Ea(o,!0,!1),t[o]=Ea(o,!1,!0),i[o]=Ea(o,!0,!0)}),[e,n,t,i]}const[vT,yT,wT,ET]=_T();function Uh(e,t){const n=t?e?ET:wT:e?yT:vT;return(i,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(At(n,r)&&r in i?n:i,r,o)}const TT={get:Uh(!1,!1)},bT={get:Uh(!1,!0)},IT={get:Uh(!0,!1)},Hg=new WeakMap,jg=new WeakMap,qg=new WeakMap,CT=new WeakMap;function ST(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PT(e){return e.__v_skip||!Object.isExtensible(e)?0:ST(ZE(e))}function Ao(e){return Ys(e)?e:Fh(e,!1,Vg,TT,Hg)}function AT(e){return Fh(e,!1,gT,bT,jg)}function Wg(e){return Fh(e,!0,mT,IT,qg)}function Fh(e,t,n,i,r){if(!Yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const l=PT(e);if(l===0)return e;const u=new Proxy(e,l===2?i:n);return r.set(e,u),u}function js(e){return Ys(e)?js(e.__v_raw):!!(e&&e.__v_isReactive)}function Ys(e){return!!(e&&e.__v_isReadonly)}function Xa(e){return!!(e&&e.__v_isShallow)}function Kg(e){return js(e)||Ys(e)}function Lt(e){const t=e&&e.__v_raw;return t?Lt(t):e}function Zg(e){return Qa(e,"__v_skip",!0),e}const ro=e=>Yt(e)?Ao(e):e,Bh=e=>Yt(e)?Wg(e):e;function Gg(e){Si&&gn&&(e=Lt(e),Bg(e.dep||(e.dep=Oh())))}function Qg(e,t){e=Lt(e);const n=e.dep;n&&ku(n)}function Le(e){return!!(e&&e.__v_isRef===!0)}function xT(e){return Xg(e,!1)}function kT(e){return Xg(e,!0)}function Xg(e,t){return Le(e)?e:new RT(e,t)}class RT{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Lt(t),this._value=n?t:ro(t)}get value(){return Gg(this),this._value}set value(t){const n=this.__v_isShallow||Xa(t)||Ys(t);t=n?t:Lt(t),so(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ro(t),Qg(this))}}function nn(e){return Le(e)?e.value:e}const LT={get:(e,t,n)=>nn(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Le(r)&&!Le(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Yg(e){return js(e)?e:new Proxy(e,LT)}var Jg;class OT{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Jg]=!1,this._dirty=!0,this.effect=new Nh(t,()=>{this._dirty||(this._dirty=!0,Qg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Lt(this);return Gg(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Jg="__v_isReadonly";function NT(e,t,n=!1){let i,r;const o=wt(e);return o?(i=e,r=wn):(i=e.get,r=e.set),new OT(i,r,o||!r,n)}function Pi(e,t,n,i){let r;try{r=i?e(...i):e()}catch(o){Nl(o,t,n)}return r}function un(e,t,n,i){if(wt(e)){const o=Pi(e,t,n,i);return o&&Og(o)&&o.catch(l=>{Nl(l,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(un(e[o],t,n,i));return r}function Nl(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const l=t.proxy,u=n;for(;o;){const f=o.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](e,l,u)===!1)return}o=o.parent}const h=t.appContext.config.errorHandler;if(h){Pi(h,null,10,[e,l,u]);return}}MT(e,n,r,i)}function MT(e,t,n,i=!0){console.error(e)}let oo=!1,Ru=!1;const ke=[];let Rn=0;const qs=[];let Qn=null,Xi=0;const t_=Promise.resolve();let zh=null;function e_(e){const t=zh||t_;return e?t.then(this?e.bind(this):e):t}function DT(e){let t=Rn+1,n=ke.length;for(;t<n;){const i=t+n>>>1;ao(ke[i])<e?t=i+1:n=i}return t}function $h(e){(!ke.length||!ke.includes(e,oo&&e.allowRecurse?Rn+1:Rn))&&(e.id==null?ke.push(e):ke.splice(DT(e.id),0,e),n_())}function n_(){!oo&&!Ru&&(Ru=!0,zh=t_.then(s_))}function UT(e){const t=ke.indexOf(e);t>Rn&&ke.splice(t,1)}function FT(e){pt(e)?qs.push(...e):(!Qn||!Qn.includes(e,e.allowRecurse?Xi+1:Xi))&&qs.push(e),n_()}function yp(e,t=oo?Rn+1:0){for(;t<ke.length;t++){const n=ke[t];n&&n.pre&&(ke.splice(t,1),t--,n())}}function i_(e){if(qs.length){const t=[...new Set(qs)];if(qs.length=0,Qn){Qn.push(...t);return}for(Qn=t,Qn.sort((n,i)=>ao(n)-ao(i)),Xi=0;Xi<Qn.length;Xi++)Qn[Xi]();Qn=null,Xi=0}}const ao=e=>e.id==null?1/0:e.id,BT=(e,t)=>{const n=ao(e)-ao(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function s_(e){Ru=!1,oo=!0,ke.sort(BT);const t=wn;try{for(Rn=0;Rn<ke.length;Rn++){const n=ke[Rn];n&&n.active!==!1&&Pi(n,null,14)}}finally{Rn=0,ke.length=0,i_(),oo=!1,zh=null,(ke.length||qs.length)&&s_()}}function zT(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Qt;let r=n;const o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in i){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:_,trim:v}=i[m]||Qt;v&&(r=n.map(T=>_e(T)?T.trim():T)),_&&(r=n.map(XE))}let u,h=i[u=Kc(t)]||i[u=Kc(zn(t))];!h&&o&&(h=i[u=Kc(ur(t))]),h&&un(h,e,6,r);const f=i[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,un(f,e,6,r)}}function r_(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const o=e.emits;let l={},u=!1;if(!wt(e)){const h=f=>{const m=r_(f,t,!0);m&&(u=!0,Ue(l,m))};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!o&&!u?(Yt(e)&&i.set(e,null),null):(pt(o)?o.forEach(h=>l[h]=null):Ue(l,o),Yt(e)&&i.set(e,l),l)}function Ml(e,t){return!e||!xl(t)?!1:(t=t.slice(2).replace(/Once$/,""),At(e,t[0].toLowerCase()+t.slice(1))||At(e,ur(t))||At(e,t))}let ln=null,Dl=null;function Ya(e){const t=ln;return ln=e,Dl=e&&e.type.__scopeId||null,t}function o_(e){Dl=e}function a_(){Dl=null}function _n(e,t=ln,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&kp(-1);const o=Ya(t);let l;try{l=e(...r)}finally{Ya(o),i._d&&kp(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Gc(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[l],slots:u,attrs:h,emit:f,render:m,renderCache:_,data:v,setupState:T,ctx:S,inheritAttrs:I}=e;let D,B;const q=Ya(e);try{if(n.shapeFlag&4){const Y=r||i;D=kn(m.call(Y,Y,_,o,T,v,S)),B=h}else{const Y=t;D=kn(Y.length>1?Y(o,{attrs:h,slots:u,emit:f}):Y(o,null)),B=t.props?h:$T(h)}}catch(Y){Zr.length=0,Nl(Y,e,1),D=Wt(En)}let M=D;if(B&&I!==!1){const Y=Object.keys(B),{shapeFlag:ft}=M;Y.length&&ft&7&&(l&&Y.some(xh)&&(B=VT(B,l)),M=Oi(M,B))}return n.dirs&&(M=Oi(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),D=M,Ya(q),D}const $T=e=>{let t;for(const n in e)(n==="class"||n==="style"||xl(n))&&((t||(t={}))[n]=e[n]);return t},VT=(e,t)=>{const n={};for(const i in e)(!xh(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function HT(e,t,n){const{props:i,children:r,component:o}=e,{props:l,children:u,patchFlag:h}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?wp(i,l,f):!!l;if(h&8){const m=t.dynamicProps;for(let _=0;_<m.length;_++){const v=m[_];if(l[v]!==i[v]&&!Ml(f,v))return!0}}}else return(r||u)&&(!u||!u.$stable)?!0:i===l?!1:i?l?wp(i,l,f):!0:!!l;return!1}function wp(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!Ml(n,o))return!0}return!1}function jT({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const qT=e=>e.__isSuspense;function WT(e,t){t&&t.pendingBranch?pt(e)?t.effects.push(...e):t.effects.push(e):FT(e)}function Ua(e,t){if(le){let n=le.provides;const i=le.parent&&le.parent.provides;i===n&&(n=le.provides=Object.create(i)),n[e]=t}}function ei(e,t,n=!1){const i=le||ln;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&wt(t)?t.call(i.proxy):t}}const Ta={};function Fa(e,t,n){return l_(e,t,n)}function l_(e,t,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:l}=Qt){const u=eT()===(le==null?void 0:le.scope)?le:null;let h,f=!1,m=!1;if(Le(e)?(h=()=>e.value,f=Xa(e)):js(e)?(h=()=>e,i=!0):pt(e)?(m=!0,f=e.some(M=>js(M)||Xa(M)),h=()=>e.map(M=>{if(Le(M))return M.value;if(js(M))return zs(M);if(wt(M))return Pi(M,u,2)})):wt(e)?t?h=()=>Pi(e,u,2):h=()=>{if(!(u&&u.isUnmounted))return _&&_(),un(e,u,3,[v])}:h=wn,t&&i){const M=h;h=()=>zs(M())}let _,v=M=>{_=B.onStop=()=>{Pi(M,u,4)}},T;if(co)if(v=wn,t?n&&un(t,u,3,[h(),m?[]:void 0,v]):h(),r==="sync"){const M=$b();T=M.__watcherHandles||(M.__watcherHandles=[])}else return wn;let S=m?new Array(e.length).fill(Ta):Ta;const I=()=>{if(B.active)if(t){const M=B.run();(i||f||(m?M.some((Y,ft)=>so(Y,S[ft])):so(M,S)))&&(_&&_(),un(t,u,3,[M,S===Ta?void 0:m&&S[0]===Ta?[]:S,v]),S=M)}else B.run()};I.allowRecurse=!!t;let D;r==="sync"?D=I:r==="post"?D=()=>qe(I,u&&u.suspense):(I.pre=!0,u&&(I.id=u.uid),D=()=>$h(I));const B=new Nh(h,D);t?n?I():S=B.run():r==="post"?qe(B.run.bind(B),u&&u.suspense):B.run();const q=()=>{B.stop(),u&&u.scope&&kh(u.scope.effects,B)};return T&&T.push(q),q}function KT(e,t,n){const i=this.proxy,r=_e(e)?e.includes(".")?c_(i,e):()=>i[e]:e.bind(i,i);let o;wt(t)?o=t:(o=t.handler,n=t);const l=le;Js(this);const u=l_(r,o.bind(i),n);return l?Js(l):os(),u}function c_(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function zs(e,t){if(!Yt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Le(e))zs(e.value,t);else if(pt(e))for(let n=0;n<e.length;n++)zs(e[n],t);else if(Lg(e)||Hs(e))e.forEach(n=>{zs(n,t)});else if(Mg(e))for(const n in e)zs(e[n],t);return e}function ZT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return p_(()=>{e.isMounted=!0}),m_(()=>{e.isUnmounting=!0}),e}const en=[Function,Array],GT={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:en,onEnter:en,onAfterEnter:en,onEnterCancelled:en,onBeforeLeave:en,onLeave:en,onAfterLeave:en,onLeaveCancelled:en,onBeforeAppear:en,onAppear:en,onAfterAppear:en,onAppearCancelled:en},setup(e,{slots:t}){const n=Ob(),i=ZT();let r;return()=>{const o=t.default&&h_(t.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const I of o)if(I.type!==En){l=I;break}}const u=Lt(e),{mode:h}=u;if(i.isLeaving)return Qc(l);const f=Ep(l);if(!f)return Qc(l);const m=Lu(f,u,i,n);Ou(f,m);const _=n.subTree,v=_&&Ep(_);let T=!1;const{getTransitionKey:S}=f.type;if(S){const I=S();r===void 0?r=I:I!==r&&(r=I,T=!0)}if(v&&v.type!==En&&(!Yi(f,v)||T)){const I=Lu(v,u,i,n);if(Ou(v,I),h==="out-in")return i.isLeaving=!0,I.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Qc(l);h==="in-out"&&f.type!==En&&(I.delayLeave=(D,B,q)=>{const M=u_(i,v);M[String(v.key)]=v,D._leaveCb=()=>{B(),D._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=q})}return l}}},QT=GT;function u_(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Lu(e,t,n,i){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:_,onLeave:v,onAfterLeave:T,onLeaveCancelled:S,onBeforeAppear:I,onAppear:D,onAfterAppear:B,onAppearCancelled:q}=t,M=String(e.key),Y=u_(n,e),ft=(ot,Ft)=>{ot&&un(ot,i,9,Ft)},Ot=(ot,Ft)=>{const Ut=Ft[1];ft(ot,Ft),pt(ot)?ot.every(Nt=>Nt.length<=1)&&Ut():ot.length<=1&&Ut()},Gt={mode:o,persisted:l,beforeEnter(ot){let Ft=u;if(!n.isMounted)if(r)Ft=I||u;else return;ot._leaveCb&&ot._leaveCb(!0);const Ut=Y[M];Ut&&Yi(e,Ut)&&Ut.el._leaveCb&&Ut.el._leaveCb(),ft(Ft,[ot])},enter(ot){let Ft=h,Ut=f,Nt=m;if(!n.isMounted)if(r)Ft=D||h,Ut=B||f,Nt=q||m;else return;let Bt=!1;const Ze=ot._enterCb=me=>{Bt||(Bt=!0,me?ft(Nt,[ot]):ft(Ut,[ot]),Gt.delayedLeave&&Gt.delayedLeave(),ot._enterCb=void 0)};Ft?Ot(Ft,[ot,Ze]):Ze()},leave(ot,Ft){const Ut=String(e.key);if(ot._enterCb&&ot._enterCb(!0),n.isUnmounting)return Ft();ft(_,[ot]);let Nt=!1;const Bt=ot._leaveCb=Ze=>{Nt||(Nt=!0,Ft(),Ze?ft(S,[ot]):ft(T,[ot]),ot._leaveCb=void 0,Y[Ut]===e&&delete Y[Ut])};Y[Ut]=e,v?Ot(v,[ot,Bt]):Bt()},clone(ot){return Lu(ot,t,n,i)}};return Gt}function Qc(e){if(Ul(e))return e=Oi(e),e.children=null,e}function Ep(e){return Ul(e)?e.children?e.children[0]:void 0:e}function Ou(e,t){e.shapeFlag&6&&e.component?Ou(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function h_(e,t=!1,n){let i=[],r=0;for(let o=0;o<e.length;o++){let l=e[o];const u=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===We?(l.patchFlag&128&&r++,i=i.concat(h_(l.children,t,u))):(t||l.type!==En)&&i.push(u!=null?Oi(l,{key:u}):l)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function d_(e){return wt(e)?{setup:e,name:e.name}:e}const Ba=e=>!!e.type.__asyncLoader,Ul=e=>e.type.__isKeepAlive;function XT(e,t){f_(e,"a",t)}function YT(e,t){f_(e,"da",t)}function f_(e,t,n=le){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Fl(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Ul(r.parent.vnode)&&JT(i,t,n,r),r=r.parent}}function JT(e,t,n,i){const r=Fl(t,e,i,!0);g_(()=>{kh(i[t],r)},n)}function Fl(e,t,n=le,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{if(n.isUnmounted)return;hr(),Js(n);const u=un(t,n,e,l);return os(),dr(),u});return i?r.unshift(o):r.push(o),o}}const ui=e=>(t,n=le)=>(!co||e==="sp")&&Fl(e,(...i)=>t(...i),n),tb=ui("bm"),p_=ui("m"),eb=ui("bu"),nb=ui("u"),m_=ui("bum"),g_=ui("um"),ib=ui("sp"),sb=ui("rtg"),rb=ui("rtc");function ob(e,t=le){Fl("ec",e,t)}function Ki(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let l=0;l<r.length;l++){const u=r[l];o&&(u.oldValue=o[l].value);let h=u.dir[i];h&&(hr(),un(h,n,8,[e.el,u,e,t]),dr())}}const __="components";function Tp(e,t){return lb(__,e,!0,t)||e}const ab=Symbol();function lb(e,t,n=!0,i=!1){const r=ln||le;if(r){const o=r.type;if(e===__){const u=Fb(o,!1);if(u&&(u===t||u===zn(t)||u===Ll(zn(t))))return o}const l=bp(r[e]||o[e],t)||bp(r.appContext[e],t);return!l&&i?o:l}}function bp(e,t){return e&&(e[t]||e[zn(t)]||e[Ll(zn(t))])}function v_(e,t,n,i){let r;const o=n&&n[i];if(pt(e)||_e(e)){r=new Array(e.length);for(let l=0,u=e.length;l<u;l++)r[l]=t(e[l],l,void 0,o&&o[l])}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,o&&o[l])}else if(Yt(e))if(e[Symbol.iterator])r=Array.from(e,(l,u)=>t(l,u,void 0,o&&o[u]));else{const l=Object.keys(e);r=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const f=l[u];r[u]=t(e[f],f,u,o&&o[u])}}else r=[];return n&&(n[i]=r),r}const Nu=e=>e?k_(e)?qh(e)||e.proxy:Nu(e.parent):null,Kr=Ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nu(e.parent),$root:e=>Nu(e.root),$emit:e=>e.emit,$options:e=>Vh(e),$forceUpdate:e=>e.f||(e.f=()=>$h(e.update)),$nextTick:e=>e.n||(e.n=e_.bind(e.proxy)),$watch:e=>KT.bind(e)}),Xc=(e,t)=>e!==Qt&&!e.__isScriptSetup&&At(e,t),cb={get({_:e},t){const{ctx:n,setupState:i,data:r,props:o,accessCache:l,type:u,appContext:h}=e;let f;if(t[0]!=="$"){const T=l[t];if(T!==void 0)switch(T){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Xc(i,t))return l[t]=1,i[t];if(r!==Qt&&At(r,t))return l[t]=2,r[t];if((f=e.propsOptions[0])&&At(f,t))return l[t]=3,o[t];if(n!==Qt&&At(n,t))return l[t]=4,n[t];Mu&&(l[t]=0)}}const m=Kr[t];let _,v;if(m)return t==="$attrs"&&Ke(e,"get",t),m(e);if((_=u.__cssModules)&&(_=_[t]))return _;if(n!==Qt&&At(n,t))return l[t]=4,n[t];if(v=h.config.globalProperties,At(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;return Xc(r,t)?(r[t]=n,!0):i!==Qt&&At(i,t)?(i[t]=n,!0):At(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:o}},l){let u;return!!n[l]||e!==Qt&&At(e,l)||Xc(t,l)||(u=o[0])&&At(u,l)||At(i,l)||At(Kr,l)||At(r.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:At(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Mu=!0;function ub(e){const t=Vh(e),n=e.proxy,i=e.ctx;Mu=!1,t.beforeCreate&&Ip(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:l,watch:u,provide:h,inject:f,created:m,beforeMount:_,mounted:v,beforeUpdate:T,updated:S,activated:I,deactivated:D,beforeDestroy:B,beforeUnmount:q,destroyed:M,unmounted:Y,render:ft,renderTracked:Ot,renderTriggered:Gt,errorCaptured:ot,serverPrefetch:Ft,expose:Ut,inheritAttrs:Nt,components:Bt,directives:Ze,filters:me}=t;if(f&&hb(f,i,null,e.appContext.config.unwrapInjectedRef),l)for(const xt in l){const G=l[xt];wt(G)&&(i[xt]=G.bind(n))}if(r){const xt=r.call(n,n);Yt(xt)&&(e.data=Ao(xt))}if(Mu=!0,o)for(const xt in o){const G=o[xt],He=wt(G)?G.bind(n,n):wt(G.get)?G.get.bind(n,n):wn,rt=!wt(G)&&wt(G.set)?G.set.bind(n):wn,It=rn({get:He,set:rt});Object.defineProperty(i,xt,{enumerable:!0,configurable:!0,get:()=>It.value,set:zt=>It.value=zt})}if(u)for(const xt in u)y_(u[xt],i,n,xt);if(h){const xt=wt(h)?h.call(n):h;Reflect.ownKeys(xt).forEach(G=>{Ua(G,xt[G])})}m&&Ip(m,e,"c");function Ct(xt,G){pt(G)?G.forEach(He=>xt(He.bind(n))):G&&xt(G.bind(n))}if(Ct(tb,_),Ct(p_,v),Ct(eb,T),Ct(nb,S),Ct(XT,I),Ct(YT,D),Ct(ob,ot),Ct(rb,Ot),Ct(sb,Gt),Ct(m_,q),Ct(g_,Y),Ct(ib,Ft),pt(Ut))if(Ut.length){const xt=e.exposed||(e.exposed={});Ut.forEach(G=>{Object.defineProperty(xt,G,{get:()=>n[G],set:He=>n[G]=He})})}else e.exposed||(e.exposed={});ft&&e.render===wn&&(e.render=ft),Nt!=null&&(e.inheritAttrs=Nt),Bt&&(e.components=Bt),Ze&&(e.directives=Ze)}function hb(e,t,n=wn,i=!1){pt(e)&&(e=Du(e));for(const r in e){const o=e[r];let l;Yt(o)?"default"in o?l=ei(o.from||r,o.default,!0):l=ei(o.from||r):l=ei(o),Le(l)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[r]=l}}function Ip(e,t,n){un(pt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function y_(e,t,n,i){const r=i.includes(".")?c_(n,i):()=>n[i];if(_e(e)){const o=t[e];wt(o)&&Fa(r,o)}else if(wt(e))Fa(r,e.bind(n));else if(Yt(e))if(pt(e))e.forEach(o=>y_(o,t,n,i));else{const o=wt(e.handler)?e.handler.bind(n):t[e.handler];wt(o)&&Fa(r,o,e)}}function Vh(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,u=o.get(t);let h;return u?h=u:!r.length&&!n&&!i?h=t:(h={},r.length&&r.forEach(f=>Ja(h,f,l,!0)),Ja(h,t,l)),Yt(t)&&o.set(t,h),h}function Ja(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&Ja(e,o,n,!0),r&&r.forEach(l=>Ja(e,l,n,!0));for(const l in t)if(!(i&&l==="expose")){const u=db[l]||n&&n[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const db={data:Cp,props:Gi,emits:Gi,methods:Gi,computed:Gi,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Gi,directives:Gi,watch:pb,provide:Cp,inject:fb};function Cp(e,t){return t?e?function(){return Ue(wt(e)?e.call(this,this):e,wt(t)?t.call(this,this):t)}:t:e}function fb(e,t){return Gi(Du(e),Du(t))}function Du(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function Gi(e,t){return e?Ue(Ue(Object.create(null),e),t):t}function pb(e,t){if(!e)return t;if(!t)return e;const n=Ue(Object.create(null),e);for(const i in t)n[i]=$e(e[i],t[i]);return n}function mb(e,t,n,i=!1){const r={},o={};Qa(o,zl,1),e.propsDefaults=Object.create(null),w_(e,t,r,o);for(const l in e.propsOptions[0])l in r||(r[l]=void 0);n?e.props=i?r:AT(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function gb(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:l}}=e,u=Lt(r),[h]=e.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const m=e.vnode.dynamicProps;for(let _=0;_<m.length;_++){let v=m[_];if(Ml(e.emitsOptions,v))continue;const T=t[v];if(h)if(At(o,v))T!==o[v]&&(o[v]=T,f=!0);else{const S=zn(v);r[S]=Uu(h,u,S,T,e,!1)}else T!==o[v]&&(o[v]=T,f=!0)}}}else{w_(e,t,r,o)&&(f=!0);let m;for(const _ in u)(!t||!At(t,_)&&((m=ur(_))===_||!At(t,m)))&&(h?n&&(n[_]!==void 0||n[m]!==void 0)&&(r[_]=Uu(h,u,_,void 0,e,!0)):delete r[_]);if(o!==u)for(const _ in o)(!t||!At(t,_))&&(delete o[_],f=!0)}f&&si(e,"set","$attrs")}function w_(e,t,n,i){const[r,o]=e.propsOptions;let l=!1,u;if(t)for(let h in t){if(Da(h))continue;const f=t[h];let m;r&&At(r,m=zn(h))?!o||!o.includes(m)?n[m]=f:(u||(u={}))[m]=f:Ml(e.emitsOptions,h)||(!(h in i)||f!==i[h])&&(i[h]=f,l=!0)}if(o){const h=Lt(n),f=u||Qt;for(let m=0;m<o.length;m++){const _=o[m];n[_]=Uu(r,h,_,f[_],e,!At(f,_))}}return l}function Uu(e,t,n,i,r,o){const l=e[n];if(l!=null){const u=At(l,"default");if(u&&i===void 0){const h=l.default;if(l.type!==Function&&wt(h)){const{propsDefaults:f}=r;n in f?i=f[n]:(Js(r),i=f[n]=h.call(null,t),os())}else i=h}l[0]&&(o&&!u?i=!1:l[1]&&(i===""||i===ur(n))&&(i=!0))}return i}function E_(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const o=e.props,l={},u=[];let h=!1;if(!wt(e)){const m=_=>{h=!0;const[v,T]=E_(_,t,!0);Ue(l,v),T&&u.push(...T)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!h)return Yt(e)&&i.set(e,Vs),Vs;if(pt(o))for(let m=0;m<o.length;m++){const _=zn(o[m]);Sp(_)&&(l[_]=Qt)}else if(o)for(const m in o){const _=zn(m);if(Sp(_)){const v=o[m],T=l[_]=pt(v)||wt(v)?{type:v}:Object.assign({},v);if(T){const S=xp(Boolean,T.type),I=xp(String,T.type);T[0]=S>-1,T[1]=I<0||S<I,(S>-1||At(T,"default"))&&u.push(_)}}}const f=[l,u];return Yt(e)&&i.set(e,f),f}function Sp(e){return e[0]!=="$"}function Pp(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ap(e,t){return Pp(e)===Pp(t)}function xp(e,t){return pt(t)?t.findIndex(n=>Ap(n,e)):wt(t)&&Ap(t,e)?0:-1}const T_=e=>e[0]==="_"||e==="$stable",Hh=e=>pt(e)?e.map(kn):[kn(e)],_b=(e,t,n)=>{if(t._n)return t;const i=_n((...r)=>Hh(t(...r)),n);return i._c=!1,i},b_=(e,t,n)=>{const i=e._ctx;for(const r in e){if(T_(r))continue;const o=e[r];if(wt(o))t[r]=_b(r,o,i);else if(o!=null){const l=Hh(o);t[r]=()=>l}}},I_=(e,t)=>{const n=Hh(t);e.slots.default=()=>n},vb=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Lt(t),Qa(t,"_",n)):b_(t,e.slots={})}else e.slots={},t&&I_(e,t);Qa(e.slots,zl,1)},yb=(e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,l=Qt;if(i.shapeFlag&32){const u=t._;u?n&&u===1?o=!1:(Ue(r,t),!n&&u===1&&delete r._):(o=!t.$stable,b_(t,r)),l=t}else t&&(I_(e,t),l={default:1});if(o)for(const u in r)!T_(u)&&!(u in l)&&delete r[u]};function C_(){return{app:null,config:{isNativeTag:qE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wb=0;function Eb(e,t){return function(i,r=null){wt(i)||(i=Object.assign({},i)),r!=null&&!Yt(r)&&(r=null);const o=C_(),l=new Set;let u=!1;const h=o.app={_uid:wb++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:Vb,get config(){return o.config},set config(f){},use(f,...m){return l.has(f)||(f&&wt(f.install)?(l.add(f),f.install(h,...m)):wt(f)&&(l.add(f),f(h,...m))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,m){return m?(o.components[f]=m,h):o.components[f]},directive(f,m){return m?(o.directives[f]=m,h):o.directives[f]},mount(f,m,_){if(!u){const v=Wt(i,r);return v.appContext=o,m&&t?t(v,f):e(v,f,_),u=!0,h._container=f,f.__vue_app__=h,qh(v.component)||v.component.proxy}},unmount(){u&&(e(null,h._container),delete h._container.__vue_app__)},provide(f,m){return o.provides[f]=m,h}};return h}}function Fu(e,t,n,i,r=!1){if(pt(e)){e.forEach((v,T)=>Fu(v,t&&(pt(t)?t[T]:t),n,i,r));return}if(Ba(i)&&!r)return;const o=i.shapeFlag&4?qh(i.component)||i.component.proxy:i.el,l=r?null:o,{i:u,r:h}=e,f=t&&t.r,m=u.refs===Qt?u.refs={}:u.refs,_=u.setupState;if(f!=null&&f!==h&&(_e(f)?(m[f]=null,At(_,f)&&(_[f]=null)):Le(f)&&(f.value=null)),wt(h))Pi(h,u,12,[l,m]);else{const v=_e(h),T=Le(h);if(v||T){const S=()=>{if(e.f){const I=v?At(_,h)?_[h]:m[h]:h.value;r?pt(I)&&kh(I,o):pt(I)?I.includes(o)||I.push(o):v?(m[h]=[o],At(_,h)&&(_[h]=m[h])):(h.value=[o],e.k&&(m[e.k]=h.value))}else v?(m[h]=l,At(_,h)&&(_[h]=l)):T&&(h.value=l,e.k&&(m[e.k]=l))};l?(S.id=-1,qe(S,n)):S()}}}const qe=WT;function Tb(e){return bb(e)}function bb(e,t){const n=YE();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:l,createText:u,createComment:h,setText:f,setElementText:m,parentNode:_,nextSibling:v,setScopeId:T=wn,insertStaticContent:S}=e,I=(y,E,A,k=null,R=null,$=null,W=!1,V=null,j=!!E.dynamicChildren)=>{if(y===E)return;y&&!Yi(y,E)&&(k=H(y),zt(y,R,$,!0),y=null),E.patchFlag===-2&&(j=!1,E.dynamicChildren=null);const{type:U,ref:et,shapeFlag:X}=E;switch(U){case Bl:D(y,E,A,k);break;case En:B(y,E,A,k);break;case za:y==null&&q(E,A,k,W);break;case We:Bt(y,E,A,k,R,$,W,V,j);break;default:X&1?ft(y,E,A,k,R,$,W,V,j):X&6?Ze(y,E,A,k,R,$,W,V,j):(X&64||X&128)&&U.process(y,E,A,k,R,$,W,V,j,Et)}et!=null&&R&&Fu(et,y&&y.ref,$,E||y,!E)},D=(y,E,A,k)=>{if(y==null)i(E.el=u(E.children),A,k);else{const R=E.el=y.el;E.children!==y.children&&f(R,E.children)}},B=(y,E,A,k)=>{y==null?i(E.el=h(E.children||""),A,k):E.el=y.el},q=(y,E,A,k)=>{[y.el,y.anchor]=S(y.children,E,A,k,y.el,y.anchor)},M=({el:y,anchor:E},A,k)=>{let R;for(;y&&y!==E;)R=v(y),i(y,A,k),y=R;i(E,A,k)},Y=({el:y,anchor:E})=>{let A;for(;y&&y!==E;)A=v(y),r(y),y=A;r(E)},ft=(y,E,A,k,R,$,W,V,j)=>{W=W||E.type==="svg",y==null?Ot(E,A,k,R,$,W,V,j):Ft(y,E,R,$,W,V,j)},Ot=(y,E,A,k,R,$,W,V)=>{let j,U;const{type:et,props:X,shapeFlag:it,transition:lt,dirs:vt}=y;if(j=y.el=l(y.type,$,X&&X.is,X),it&8?m(j,y.children):it&16&&ot(y.children,j,null,k,R,$&&et!=="foreignObject",W,V),vt&&Ki(y,null,k,"created"),Gt(j,y,y.scopeId,W,k),X){for(const Mt in X)Mt!=="value"&&!Da(Mt)&&o(j,Mt,null,X[Mt],$,y.children,k,R,F);"value"in X&&o(j,"value",null,X.value),(U=X.onVnodeBeforeMount)&&xn(U,k,y)}vt&&Ki(y,null,k,"beforeMount");const $t=(!R||R&&!R.pendingBranch)&&lt&&!lt.persisted;$t&&lt.beforeEnter(j),i(j,E,A),((U=X&&X.onVnodeMounted)||$t||vt)&&qe(()=>{U&&xn(U,k,y),$t&&lt.enter(j),vt&&Ki(y,null,k,"mounted")},R)},Gt=(y,E,A,k,R)=>{if(A&&T(y,A),k)for(let $=0;$<k.length;$++)T(y,k[$]);if(R){let $=R.subTree;if(E===$){const W=R.vnode;Gt(y,W,W.scopeId,W.slotScopeIds,R.parent)}}},ot=(y,E,A,k,R,$,W,V,j=0)=>{for(let U=j;U<y.length;U++){const et=y[U]=V?yi(y[U]):kn(y[U]);I(null,et,E,A,k,R,$,W,V)}},Ft=(y,E,A,k,R,$,W)=>{const V=E.el=y.el;let{patchFlag:j,dynamicChildren:U,dirs:et}=E;j|=y.patchFlag&16;const X=y.props||Qt,it=E.props||Qt;let lt;A&&Zi(A,!1),(lt=it.onVnodeBeforeUpdate)&&xn(lt,A,E,y),et&&Ki(E,y,A,"beforeUpdate"),A&&Zi(A,!0);const vt=R&&E.type!=="foreignObject";if(U?Ut(y.dynamicChildren,U,V,A,k,vt,$):W||G(y,E,V,null,A,k,vt,$,!1),j>0){if(j&16)Nt(V,E,X,it,A,k,R);else if(j&2&&X.class!==it.class&&o(V,"class",null,it.class,R),j&4&&o(V,"style",X.style,it.style,R),j&8){const $t=E.dynamicProps;for(let Mt=0;Mt<$t.length;Mt++){const ne=$t[Mt],je=X[ne],jn=it[ne];(jn!==je||ne==="value")&&o(V,ne,je,jn,R,y.children,A,k,F)}}j&1&&y.children!==E.children&&m(V,E.children)}else!W&&U==null&&Nt(V,E,X,it,A,k,R);((lt=it.onVnodeUpdated)||et)&&qe(()=>{lt&&xn(lt,A,E,y),et&&Ki(E,y,A,"updated")},k)},Ut=(y,E,A,k,R,$,W)=>{for(let V=0;V<E.length;V++){const j=y[V],U=E[V],et=j.el&&(j.type===We||!Yi(j,U)||j.shapeFlag&70)?_(j.el):A;I(j,U,et,null,k,R,$,W,!0)}},Nt=(y,E,A,k,R,$,W)=>{if(A!==k){if(A!==Qt)for(const V in A)!Da(V)&&!(V in k)&&o(y,V,A[V],null,W,E.children,R,$,F);for(const V in k){if(Da(V))continue;const j=k[V],U=A[V];j!==U&&V!=="value"&&o(y,V,U,j,W,E.children,R,$,F)}"value"in k&&o(y,"value",A.value,k.value)}},Bt=(y,E,A,k,R,$,W,V,j)=>{const U=E.el=y?y.el:u(""),et=E.anchor=y?y.anchor:u("");let{patchFlag:X,dynamicChildren:it,slotScopeIds:lt}=E;lt&&(V=V?V.concat(lt):lt),y==null?(i(U,A,k),i(et,A,k),ot(E.children,A,et,R,$,W,V,j)):X>0&&X&64&&it&&y.dynamicChildren?(Ut(y.dynamicChildren,it,A,R,$,W,V),(E.key!=null||R&&E===R.subTree)&&S_(y,E,!0)):G(y,E,A,et,R,$,W,V,j)},Ze=(y,E,A,k,R,$,W,V,j)=>{E.slotScopeIds=V,y==null?E.shapeFlag&512?R.ctx.activate(E,A,k,W,j):me(E,A,k,R,$,W,j):zi(y,E,j)},me=(y,E,A,k,R,$,W)=>{const V=y.component=Lb(y,k,R);if(Ul(y)&&(V.ctx.renderer=Et),Nb(V),V.asyncDep){if(R&&R.registerDep(V,Ct),!y.el){const j=V.subTree=Wt(En);B(null,j,E,A)}return}Ct(V,y,E,A,R,$,W)},zi=(y,E,A)=>{const k=E.component=y.component;if(HT(y,E,A))if(k.asyncDep&&!k.asyncResolved){xt(k,E,A);return}else k.next=E,UT(k.update),k.update();else E.el=y.el,k.vnode=E},Ct=(y,E,A,k,R,$,W)=>{const V=()=>{if(y.isMounted){let{next:et,bu:X,u:it,parent:lt,vnode:vt}=y,$t=et,Mt;Zi(y,!1),et?(et.el=vt.el,xt(y,et,W)):et=vt,X&&Zc(X),(Mt=et.props&&et.props.onVnodeBeforeUpdate)&&xn(Mt,lt,et,vt),Zi(y,!0);const ne=Gc(y),je=y.subTree;y.subTree=ne,I(je,ne,_(je.el),H(je),y,R,$),et.el=ne.el,$t===null&&jT(y,ne.el),it&&qe(it,R),(Mt=et.props&&et.props.onVnodeUpdated)&&qe(()=>xn(Mt,lt,et,vt),R)}else{let et;const{el:X,props:it}=E,{bm:lt,m:vt,parent:$t}=y,Mt=Ba(E);if(Zi(y,!1),lt&&Zc(lt),!Mt&&(et=it&&it.onVnodeBeforeMount)&&xn(et,$t,E),Zi(y,!0),X&&mt){const ne=()=>{y.subTree=Gc(y),mt(X,y.subTree,y,R,null)};Mt?E.type.__asyncLoader().then(()=>!y.isUnmounted&&ne()):ne()}else{const ne=y.subTree=Gc(y);I(null,ne,A,k,y,R,$),E.el=ne.el}if(vt&&qe(vt,R),!Mt&&(et=it&&it.onVnodeMounted)){const ne=E;qe(()=>xn(et,$t,ne),R)}(E.shapeFlag&256||$t&&Ba($t.vnode)&&$t.vnode.shapeFlag&256)&&y.a&&qe(y.a,R),y.isMounted=!0,E=A=k=null}},j=y.effect=new Nh(V,()=>$h(U),y.scope),U=y.update=()=>j.run();U.id=y.uid,Zi(y,!0),U()},xt=(y,E,A)=>{E.component=y;const k=y.vnode.props;y.vnode=E,y.next=null,gb(y,E.props,k,A),yb(y,E.children,A),hr(),yp(),dr()},G=(y,E,A,k,R,$,W,V,j=!1)=>{const U=y&&y.children,et=y?y.shapeFlag:0,X=E.children,{patchFlag:it,shapeFlag:lt}=E;if(it>0){if(it&128){rt(U,X,A,k,R,$,W,V,j);return}else if(it&256){He(U,X,A,k,R,$,W,V,j);return}}lt&8?(et&16&&F(U,R,$),X!==U&&m(A,X)):et&16?lt&16?rt(U,X,A,k,R,$,W,V,j):F(U,R,$,!0):(et&8&&m(A,""),lt&16&&ot(X,A,k,R,$,W,V,j))},He=(y,E,A,k,R,$,W,V,j)=>{y=y||Vs,E=E||Vs;const U=y.length,et=E.length,X=Math.min(U,et);let it;for(it=0;it<X;it++){const lt=E[it]=j?yi(E[it]):kn(E[it]);I(y[it],lt,A,null,R,$,W,V,j)}U>et?F(y,R,$,!0,!1,X):ot(E,A,k,R,$,W,V,j,X)},rt=(y,E,A,k,R,$,W,V,j)=>{let U=0;const et=E.length;let X=y.length-1,it=et-1;for(;U<=X&&U<=it;){const lt=y[U],vt=E[U]=j?yi(E[U]):kn(E[U]);if(Yi(lt,vt))I(lt,vt,A,null,R,$,W,V,j);else break;U++}for(;U<=X&&U<=it;){const lt=y[X],vt=E[it]=j?yi(E[it]):kn(E[it]);if(Yi(lt,vt))I(lt,vt,A,null,R,$,W,V,j);else break;X--,it--}if(U>X){if(U<=it){const lt=it+1,vt=lt<et?E[lt].el:k;for(;U<=it;)I(null,E[U]=j?yi(E[U]):kn(E[U]),A,vt,R,$,W,V,j),U++}}else if(U>it)for(;U<=X;)zt(y[U],R,$,!0),U++;else{const lt=U,vt=U,$t=new Map;for(U=vt;U<=it;U++){const Se=E[U]=j?yi(E[U]):kn(E[U]);Se.key!=null&&$t.set(Se.key,U)}let Mt,ne=0;const je=it-vt+1;let jn=!1,Xo=0;const hi=new Array(je);for(U=0;U<je;U++)hi[U]=0;for(U=lt;U<=X;U++){const Se=y[U];if(ne>=je){zt(Se,R,$,!0);continue}let Xe;if(Se.key!=null)Xe=$t.get(Se.key);else for(Mt=vt;Mt<=it;Mt++)if(hi[Mt-vt]===0&&Yi(Se,E[Mt])){Xe=Mt;break}Xe===void 0?zt(Se,R,$,!0):(hi[Xe-vt]=U+1,Xe>=Xo?Xo=Xe:jn=!0,I(Se,E[Xe],A,null,R,$,W,V,j),ne++)}const Is=jn?Ib(hi):Vs;for(Mt=Is.length-1,U=je-1;U>=0;U--){const Se=vt+U,Xe=E[Se],di=Se+1<et?E[Se+1].el:k;hi[U]===0?I(null,Xe,A,di,R,$,W,V,j):jn&&(Mt<0||U!==Is[Mt]?It(Xe,A,di,2):Mt--)}}},It=(y,E,A,k,R=null)=>{const{el:$,type:W,transition:V,children:j,shapeFlag:U}=y;if(U&6){It(y.component.subTree,E,A,k);return}if(U&128){y.suspense.move(E,A,k);return}if(U&64){W.move(y,E,A,Et);return}if(W===We){i($,E,A);for(let X=0;X<j.length;X++)It(j[X],E,A,k);i(y.anchor,E,A);return}if(W===za){M(y,E,A);return}if(k!==2&&U&1&&V)if(k===0)V.beforeEnter($),i($,E,A),qe(()=>V.enter($),R);else{const{leave:X,delayLeave:it,afterLeave:lt}=V,vt=()=>i($,E,A),$t=()=>{X($,()=>{vt(),lt&&lt()})};it?it($,vt,$t):$t()}else i($,E,A)},zt=(y,E,A,k=!1,R=!1)=>{const{type:$,props:W,ref:V,children:j,dynamicChildren:U,shapeFlag:et,patchFlag:X,dirs:it}=y;if(V!=null&&Fu(V,null,A,y,!0),et&256){E.ctx.deactivate(y);return}const lt=et&1&&it,vt=!Ba(y);let $t;if(vt&&($t=W&&W.onVnodeBeforeUnmount)&&xn($t,E,y),et&6)P(y.component,A,k);else{if(et&128){y.suspense.unmount(A,k);return}lt&&Ki(y,null,E,"beforeUnmount"),et&64?y.type.remove(y,E,A,R,Et,k):U&&($!==We||X>0&&X&64)?F(U,E,A,!1,!0):($===We&&X&384||!R&&et&16)&&F(j,E,A),k&&oe(y)}(vt&&($t=W&&W.onVnodeUnmounted)||lt)&&qe(()=>{$t&&xn($t,E,y),lt&&Ki(y,null,E,"unmounted")},A)},oe=y=>{const{type:E,el:A,anchor:k,transition:R}=y;if(E===We){Jt(A,k);return}if(E===za){Y(y);return}const $=()=>{r(A),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(y.shapeFlag&1&&R&&!R.persisted){const{leave:W,delayLeave:V}=R,j=()=>W(A,$);V?V(y.el,$,j):j()}else $()},Jt=(y,E)=>{let A;for(;y!==E;)A=v(y),r(y),y=A;r(E)},P=(y,E,A)=>{const{bum:k,scope:R,update:$,subTree:W,um:V}=y;k&&Zc(k),R.stop(),$&&($.active=!1,zt(W,y,E,A)),V&&qe(V,E),qe(()=>{y.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},F=(y,E,A,k=!1,R=!1,$=0)=>{for(let W=$;W<y.length;W++)zt(y[W],E,A,k,R)},H=y=>y.shapeFlag&6?H(y.component.subTree):y.shapeFlag&128?y.suspense.next():v(y.anchor||y.el),Q=(y,E,A)=>{y==null?E._vnode&&zt(E._vnode,null,null,!0):I(E._vnode||null,y,E,null,null,null,A),yp(),i_(),E._vnode=y},Et={p:I,um:zt,m:It,r:oe,mt:me,mc:ot,pc:G,pbc:Ut,n:H,o:e};let jt,mt;return t&&([jt,mt]=t(Et)),{render:Q,hydrate:jt,createApp:Eb(Q,jt)}}function Zi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function S_(e,t,n=!1){const i=e.children,r=t.children;if(pt(i)&&pt(r))for(let o=0;o<i.length;o++){const l=i[o];let u=r[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=r[o]=yi(r[o]),u.el=l.el),n||S_(l,u)),u.type===Bl&&(u.el=l.el)}}function Ib(e){const t=e.slice(),n=[0];let i,r,o,l,u;const h=e.length;for(i=0;i<h;i++){const f=e[i];if(f!==0){if(r=n[n.length-1],e[r]<f){t[i]=r,n.push(i);continue}for(o=0,l=n.length-1;o<l;)u=o+l>>1,e[n[u]]<f?o=u+1:l=u;f<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}const Cb=e=>e.__isTeleport,We=Symbol(void 0),Bl=Symbol(void 0),En=Symbol(void 0),za=Symbol(void 0),Zr=[];let vn=null;function ge(e=!1){Zr.push(vn=e?null:[])}function Sb(){Zr.pop(),vn=Zr[Zr.length-1]||null}let lo=1;function kp(e){lo+=e}function P_(e){return e.dynamicChildren=lo>0?vn||Vs:null,Sb(),lo>0&&vn&&vn.push(e),e}function Oe(e,t,n,i,r,o){return P_(x(e,t,n,i,r,o,!0))}function Bu(e,t,n,i,r){return P_(Wt(e,t,n,i,r,!0))}function zu(e){return e?e.__v_isVNode===!0:!1}function Yi(e,t){return e.type===t.type&&e.key===t.key}const zl="__vInternal",A_=({key:e})=>e??null,$a=({ref:e,ref_key:t,ref_for:n})=>e!=null?_e(e)||Le(e)||wt(e)?{i:ln,r:e,k:t,f:!!n}:e:null;function x(e,t=null,n=null,i=0,r=null,o=e===We?0:1,l=!1,u=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&A_(t),ref:t&&$a(t),scopeId:Dl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ln};return u?(jh(h,n),o&128&&e.normalize(h)):n&&(h.shapeFlag|=_e(n)?8:16),lo>0&&!l&&vn&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&vn.push(h),h}const Wt=Pb;function Pb(e,t=null,n=null,i=0,r=null,o=!1){if((!e||e===ab)&&(e=En),zu(e)){const u=Oi(e,t,!0);return n&&jh(u,n),lo>0&&!o&&vn&&(u.shapeFlag&6?vn[vn.indexOf(e)]=u:vn.push(u)),u.patchFlag|=-2,u}if(Bb(e)&&(e=e.__vccOpts),t){t=Ab(t);let{class:u,style:h}=t;u&&!_e(u)&&(t.class=Ah(u)),Yt(h)&&(Kg(h)&&!pt(h)&&(h=Ue({},h)),t.style=Ph(h))}const l=_e(e)?1:qT(e)?128:Cb(e)?64:Yt(e)?4:wt(e)?2:0;return x(e,t,n,i,r,l,o,!0)}function Ab(e){return e?Kg(e)||zl in e?Ue({},e):e:null}function Oi(e,t,n=!1){const{props:i,ref:r,patchFlag:o,children:l}=e,u=t?xb(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&A_(u),ref:t&&t.ref?n&&r?pt(r)?r.concat($a(t)):[r,$a(t)]:$a(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==We?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Oi(e.ssContent),ssFallback:e.ssFallback&&Oi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function sn(e=" ",t=0){return Wt(Bl,null,e,t)}function fr(e,t){const n=Wt(za,null,e);return n.staticCount=t,n}function x_(e="",t=!1){return t?(ge(),Bu(En,null,e)):Wt(En,null,e)}function kn(e){return e==null||typeof e=="boolean"?Wt(En):pt(e)?Wt(We,null,e.slice()):typeof e=="object"?yi(e):Wt(Bl,null,String(e))}function yi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Oi(e)}function jh(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(pt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),jh(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(zl in t)?t._ctx=ln:r===3&&ln&&(ln.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else wt(t)?(t={default:t,_ctx:ln},n=32):(t=String(t),i&64?(n=16,t=[sn(t)]):n=8);e.children=t,e.shapeFlag|=n}function xb(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Ah([t.class,i.class]));else if(r==="style")t.style=Ph([t.style,i.style]);else if(xl(r)){const o=t[r],l=i[r];l&&o!==l&&!(pt(o)&&o.includes(l))&&(t[r]=o?[].concat(o,l):l)}else r!==""&&(t[r]=i[r])}return t}function xn(e,t,n,i=null){un(e,t,7,[n,i])}const kb=C_();let Rb=0;function Lb(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||kb,o={uid:Rb++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new JE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:E_(i,r),emitsOptions:r_(i,r),emit:null,emitted:null,propsDefaults:Qt,inheritAttrs:i.inheritAttrs,ctx:Qt,data:Qt,props:Qt,attrs:Qt,slots:Qt,refs:Qt,setupState:Qt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=zT.bind(null,o),e.ce&&e.ce(o),o}let le=null;const Ob=()=>le||ln,Js=e=>{le=e,e.scope.on()},os=()=>{le&&le.scope.off(),le=null};function k_(e){return e.vnode.shapeFlag&4}let co=!1;function Nb(e,t=!1){co=t;const{props:n,children:i}=e.vnode,r=k_(e);mb(e,n,r,t),vb(e,i);const o=r?Mb(e,t):void 0;return co=!1,o}function Mb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Zg(new Proxy(e.ctx,cb));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?Ub(e):null;Js(e),hr();const o=Pi(i,e,0,[e.props,r]);if(dr(),os(),Og(o)){if(o.then(os,os),t)return o.then(l=>{Rp(e,l,t)}).catch(l=>{Nl(l,e,0)});e.asyncDep=o}else Rp(e,o,t)}else R_(e,t)}function Rp(e,t,n){wt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Yt(t)&&(e.setupState=Yg(t)),R_(e,n)}let Lp;function R_(e,t,n){const i=e.type;if(!e.render){if(!t&&Lp&&!i.render){const r=i.template||Vh(e).template;if(r){const{isCustomElement:o,compilerOptions:l}=e.appContext.config,{delimiters:u,compilerOptions:h}=i,f=Ue(Ue({isCustomElement:o,delimiters:u},l),h);i.render=Lp(r,f)}}e.render=i.render||wn}Js(e),hr(),ub(e),dr(),os()}function Db(e){return new Proxy(e.attrs,{get(t,n){return Ke(e,"get","$attrs"),t[n]}})}function Ub(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=Db(e))},slots:e.slots,emit:e.emit,expose:t}}function qh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yg(Zg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Kr)return Kr[n](e)},has(t,n){return n in t||n in Kr}}))}function Fb(e,t=!0){return wt(e)?e.displayName||e.name:e.name||t&&e.__name}function Bb(e){return wt(e)&&"__vccOpts"in e}const rn=(e,t)=>NT(e,t,co);function L_(e,t,n){const i=arguments.length;return i===2?Yt(t)&&!pt(t)?zu(t)?Wt(e,null,[t]):Wt(e,t):Wt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&zu(n)&&(n=[n]),Wt(e,t,n))}const zb=Symbol(""),$b=()=>ei(zb),Vb="3.2.47",Hb="http://www.w3.org/2000/svg",Ji=typeof document<"u"?document:null,Op=Ji&&Ji.createElement("template"),jb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?Ji.createElementNS(Hb,e):Ji.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Ji.createTextNode(e),createComment:e=>Ji.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ji.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const l=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Op.innerHTML=i?`<svg>${e}</svg>`:e;const u=Op.content;if(i){const h=u.firstChild;for(;h.firstChild;)u.appendChild(h.firstChild);u.removeChild(h)}t.insertBefore(u,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function qb(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Wb(e,t,n){const i=e.style,r=_e(n);if(n&&!r){if(t&&!_e(t))for(const o in t)n[o]==null&&$u(i,o,"");for(const o in n)$u(i,o,n[o])}else{const o=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=o)}}const Np=/\s*!important$/;function $u(e,t,n){if(pt(n))n.forEach(i=>$u(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Kb(e,t);Np.test(n)?e.setProperty(ur(i),n.replace(Np,""),"important"):e[i]=n}}const Mp=["Webkit","Moz","ms"],Yc={};function Kb(e,t){const n=Yc[t];if(n)return n;let i=zn(t);if(i!=="filter"&&i in e)return Yc[t]=i;i=Ll(i);for(let r=0;r<Mp.length;r++){const o=Mp[r]+i;if(o in e)return Yc[t]=o}return t}const Dp="http://www.w3.org/1999/xlink";function Zb(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Dp,t.slice(6,t.length)):e.setAttributeNS(Dp,t,n);else{const o=jE(t);n==null||o&&!kg(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Gb(e,t,n,i,r,o,l){if(t==="innerHTML"||t==="textContent"){i&&l(i,r,o),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const h=n??"";(e.value!==h||e.tagName==="OPTION")&&(e.value=h),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=kg(n):n==null&&h==="string"?(n="",u=!0):h==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Qb(e,t,n,i){e.addEventListener(t,n,i)}function Xb(e,t,n,i){e.removeEventListener(t,n,i)}function Yb(e,t,n,i,r=null){const o=e._vei||(e._vei={}),l=o[t];if(i&&l)l.value=i;else{const[u,h]=Jb(t);if(i){const f=o[t]=nI(i,r);Qb(e,u,f,h)}else l&&(Xb(e,u,l,h),o[t]=void 0)}}const Up=/(?:Once|Passive|Capture)$/;function Jb(e){let t;if(Up.test(e)){t={};let i;for(;i=e.match(Up);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ur(e.slice(2)),t]}let Jc=0;const tI=Promise.resolve(),eI=()=>Jc||(tI.then(()=>Jc=0),Jc=Date.now());function nI(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;un(iI(i,n.value),t,5,[i])};return n.value=e,n.attached=eI(),n}function iI(e,t){if(pt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Fp=/^on[a-z]/,sI=(e,t,n,i,r=!1,o,l,u,h)=>{t==="class"?qb(e,i,r):t==="style"?Wb(e,n,i):xl(t)?xh(t)||Yb(e,t,n,i,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):rI(e,t,i,r))?Gb(e,t,i,o,l,u,h):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Zb(e,t,i,r))};function rI(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Fp.test(t)&&wt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Fp.test(t)&&_e(n)?!1:t in e}const oI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};QT.props;const aI=Ue({patchProp:sI},jb);let Bp;function lI(){return Bp||(Bp=Tb(aI))}const cI=(...e)=>{const t=lI().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=uI(i);if(!r)return;const o=t._component;!wt(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const l=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},t};function uI(e){return _e(e)?document.querySelector(e):e}const hI="/HealthyAnimalsSite/assets/Logo-2ce7b6f0.jpg";/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ds=typeof window<"u";function dI(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Vt=Object.assign;function tu(e,t){const n={};for(const i in t){const r=t[i];n[i]=Tn(r)?r.map(e):e(r)}return n}const Gr=()=>{},Tn=Array.isArray,fI=/\/$/,pI=e=>e.replace(fI,"");function eu(e,t,n="/"){let i,r={},o="",l="";const u=t.indexOf("#");let h=t.indexOf("?");return u<h&&u>=0&&(h=-1),h>-1&&(i=t.slice(0,h),o=t.slice(h+1,u>-1?u:t.length),r=e(o)),u>-1&&(i=i||t.slice(0,u),l=t.slice(u,t.length)),i=vI(i??t,n),{fullPath:i+(o&&"?")+o+l,path:i,query:r,hash:l}}function mI(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function zp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gI(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&tr(t.matched[i],n.matched[r])&&O_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function tr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function O_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_I(e[n],t[n]))return!1;return!0}function _I(e,t){return Tn(e)?$p(e,t):Tn(t)?$p(t,e):e===t}function $p(e,t){return Tn(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function vI(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,o,l;for(o=0;o<i.length;o++)if(l=i[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var uo;(function(e){e.pop="pop",e.push="push"})(uo||(uo={}));var Qr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qr||(Qr={}));function yI(e){if(!e)if(Ds){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pI(e)}const wI=/^[^#]+#/;function EI(e,t){return e.replace(wI,"#")+t}function TI(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const $l=()=>({left:window.pageXOffset,top:window.pageYOffset});function bI(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=TI(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Vp(e,t){return(history.state?history.state.position-t:-1)+e}const Vu=new Map;function II(e,t){Vu.set(e,t)}function CI(e){const t=Vu.get(e);return Vu.delete(e),t}let SI=()=>location.protocol+"//"+location.host;function N_(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let u=r.includes(e.slice(o))?e.slice(o).length:1,h=r.slice(u);return h[0]!=="/"&&(h="/"+h),zp(h,"")}return zp(n,e)+i+r}function PI(e,t,n,i){let r=[],o=[],l=null;const u=({state:v})=>{const T=N_(e,location),S=n.value,I=t.value;let D=0;if(v){if(n.value=T,t.value=v,l&&l===S){l=null;return}D=I?v.position-I.position:0}else i(T);r.forEach(B=>{B(n.value,S,{delta:D,type:uo.pop,direction:D?D>0?Qr.forward:Qr.back:Qr.unknown})})};function h(){l=n.value}function f(v){r.push(v);const T=()=>{const S=r.indexOf(v);S>-1&&r.splice(S,1)};return o.push(T),T}function m(){const{history:v}=window;v.state&&v.replaceState(Vt({},v.state,{scroll:$l()}),"")}function _(){for(const v of o)v();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",m),{pauseListeners:h,listen:f,destroy:_}}function Hp(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?$l():null}}function AI(e){const{history:t,location:n}=window,i={value:N_(e,n)},r={value:t.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(h,f,m){const _=e.indexOf("#"),v=_>-1?(n.host&&document.querySelector("base")?e:e.slice(_))+h:SI()+e+h;try{t[m?"replaceState":"pushState"](f,"",v),r.value=f}catch(T){console.error(T),n[m?"replace":"assign"](v)}}function l(h,f){const m=Vt({},t.state,Hp(r.value.back,h,r.value.forward,!0),f,{position:r.value.position});o(h,m,!0),i.value=h}function u(h,f){const m=Vt({},r.value,t.state,{forward:h,scroll:$l()});o(m.current,m,!0);const _=Vt({},Hp(i.value,h,null),{position:m.position+1},f);o(h,_,!1),i.value=h}return{location:i,state:r,push:u,replace:l}}function xI(e){e=yI(e);const t=AI(e),n=PI(e,t.state,t.location,t.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const r=Vt({location:"",base:e,go:i,createHref:EI.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function kI(e){return typeof e=="string"||e&&typeof e=="object"}function M_(e){return typeof e=="string"||typeof e=="symbol"}const _i={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},D_=Symbol("");var jp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(jp||(jp={}));function er(e,t){return Vt(new Error,{type:e,[D_]:!0},t)}function Gn(e,t){return e instanceof Error&&D_ in e&&(t==null||!!(e.type&t))}const qp="[^/]+?",RI={sensitive:!1,strict:!1,start:!0,end:!0},LI=/[.+*?^${}()[\]/\\]/g;function OI(e,t){const n=Vt({},RI,t),i=[];let r=n.start?"^":"";const o=[];for(const f of e){const m=f.length?[]:[90];n.strict&&!f.length&&(r+="/");for(let _=0;_<f.length;_++){const v=f[_];let T=40+(n.sensitive?.25:0);if(v.type===0)_||(r+="/"),r+=v.value.replace(LI,"\\$&"),T+=40;else if(v.type===1){const{value:S,repeatable:I,optional:D,regexp:B}=v;o.push({name:S,repeatable:I,optional:D});const q=B||qp;if(q!==qp){T+=10;try{new RegExp(`(${q})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${S}" (${q}): `+Y.message)}}let M=I?`((?:${q})(?:/(?:${q}))*)`:`(${q})`;_||(M=D&&f.length<2?`(?:/${M})`:"/"+M),D&&(M+="?"),r+=M,T+=20,D&&(T+=-8),I&&(T+=-20),q===".*"&&(T+=-50)}m.push(T)}i.push(m)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const l=new RegExp(r,n.sensitive?"":"i");function u(f){const m=f.match(l),_={};if(!m)return null;for(let v=1;v<m.length;v++){const T=m[v]||"",S=o[v-1];_[S.name]=T&&S.repeatable?T.split("/"):T}return _}function h(f){let m="",_=!1;for(const v of e){(!_||!m.endsWith("/"))&&(m+="/"),_=!1;for(const T of v)if(T.type===0)m+=T.value;else if(T.type===1){const{value:S,repeatable:I,optional:D}=T,B=S in f?f[S]:"";if(Tn(B)&&!I)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const q=Tn(B)?B.join("/"):B;if(!q)if(D)v.length<2&&(m.endsWith("/")?m=m.slice(0,-1):_=!0);else throw new Error(`Missing required param "${S}"`);m+=q}}return m||"/"}return{re:l,score:i,keys:o,parse:u,stringify:h}}function NI(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function MI(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const o=NI(i[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-i.length)===1){if(Wp(i))return 1;if(Wp(r))return-1}return r.length-i.length}function Wp(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const DI={type:0,value:""},UI=/[a-zA-Z0-9_]/;function FI(e){if(!e)return[[]];if(e==="/")return[[DI]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(T){throw new Error(`ERR (${n})/"${f}": ${T}`)}let n=0,i=n;const r=[];let o;function l(){o&&r.push(o),o=[]}let u=0,h,f="",m="";function _(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(h==="*"||h==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:m,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=h}for(;u<e.length;){if(h=e[u++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(f&&_(),l()):h===":"?(_(),n=1):v();break;case 4:v(),n=i;break;case 1:h==="("?n=2:UI.test(h)?v():(_(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&u--);break;case 2:h===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+h:n=3:m+=h;break;case 3:_(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&u--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),_(),l(),r}function BI(e,t,n){const i=OI(FI(e.path),n),r=Vt(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function zI(e,t){const n=[],i=new Map;t=Gp({strict:!1,end:!0,sensitive:!1},t);function r(m){return i.get(m)}function o(m,_,v){const T=!v,S=$I(m);S.aliasOf=v&&v.record;const I=Gp(t,m),D=[S];if("alias"in m){const M=typeof m.alias=="string"?[m.alias]:m.alias;for(const Y of M)D.push(Vt({},S,{components:v?v.record.components:S.components,path:Y,aliasOf:v?v.record:S}))}let B,q;for(const M of D){const{path:Y}=M;if(_&&Y[0]!=="/"){const ft=_.record.path,Ot=ft[ft.length-1]==="/"?"":"/";M.path=_.record.path+(Y&&Ot+Y)}if(B=BI(M,_,I),v?v.alias.push(B):(q=q||B,q!==B&&q.alias.push(B),T&&m.name&&!Zp(B)&&l(m.name)),S.children){const ft=S.children;for(let Ot=0;Ot<ft.length;Ot++)o(ft[Ot],B,v&&v.children[Ot])}v=v||B,(B.record.components&&Object.keys(B.record.components).length||B.record.name||B.record.redirect)&&h(B)}return q?()=>{l(q)}:Gr}function l(m){if(M_(m)){const _=i.get(m);_&&(i.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(l),_.alias.forEach(l))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&i.delete(m.record.name),m.children.forEach(l),m.alias.forEach(l))}}function u(){return n}function h(m){let _=0;for(;_<n.length&&MI(m,n[_])>=0&&(m.record.path!==n[_].record.path||!U_(m,n[_]));)_++;n.splice(_,0,m),m.record.name&&!Zp(m)&&i.set(m.record.name,m)}function f(m,_){let v,T={},S,I;if("name"in m&&m.name){if(v=i.get(m.name),!v)throw er(1,{location:m});I=v.record.name,T=Vt(Kp(_.params,v.keys.filter(q=>!q.optional).map(q=>q.name)),m.params&&Kp(m.params,v.keys.map(q=>q.name))),S=v.stringify(T)}else if("path"in m)S=m.path,v=n.find(q=>q.re.test(S)),v&&(T=v.parse(S),I=v.record.name);else{if(v=_.name?i.get(_.name):n.find(q=>q.re.test(_.path)),!v)throw er(1,{location:m,currentLocation:_});I=v.record.name,T=Vt({},_.params,m.params),S=v.stringify(T)}const D=[];let B=v;for(;B;)D.unshift(B.record),B=B.parent;return{name:I,path:S,params:T,matched:D,meta:HI(D)}}return e.forEach(m=>o(m)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:u,getRecordMatcher:r}}function Kp(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function $I(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:VI(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function VI(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function Zp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function HI(e){return e.reduce((t,n)=>Vt(t,n.meta),{})}function Gp(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function U_(e,t){return t.children.some(n=>n===e||U_(e,n))}const F_=/#/g,jI=/&/g,qI=/\//g,WI=/=/g,KI=/\?/g,B_=/\+/g,ZI=/%5B/g,GI=/%5D/g,z_=/%5E/g,QI=/%60/g,$_=/%7B/g,XI=/%7C/g,V_=/%7D/g,YI=/%20/g;function Wh(e){return encodeURI(""+e).replace(XI,"|").replace(ZI,"[").replace(GI,"]")}function JI(e){return Wh(e).replace($_,"{").replace(V_,"}").replace(z_,"^")}function Hu(e){return Wh(e).replace(B_,"%2B").replace(YI,"+").replace(F_,"%23").replace(jI,"%26").replace(QI,"`").replace($_,"{").replace(V_,"}").replace(z_,"^")}function tC(e){return Hu(e).replace(WI,"%3D")}function eC(e){return Wh(e).replace(F_,"%23").replace(KI,"%3F")}function nC(e){return e==null?"":eC(e).replace(qI,"%2F")}function tl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function iC(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const o=i[r].replace(B_," "),l=o.indexOf("="),u=tl(l<0?o:o.slice(0,l)),h=l<0?null:tl(o.slice(l+1));if(u in t){let f=t[u];Tn(f)||(f=t[u]=[f]),f.push(h)}else t[u]=h}return t}function Qp(e){let t="";for(let n in e){const i=e[n];if(n=tC(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Tn(i)?i.map(o=>o&&Hu(o)):[i&&Hu(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function sC(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Tn(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const rC=Symbol(""),Xp=Symbol(""),Kh=Symbol(""),H_=Symbol(""),ju=Symbol("");function Dr(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function wi(e,t,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const h=_=>{_===!1?u(er(4,{from:n,to:t})):_ instanceof Error?u(_):kI(_)?u(er(2,{from:t,to:_})):(o&&i.enterCallbacks[r]===o&&typeof _=="function"&&o.push(_),l())},f=e.call(i&&i.instances[r],t,n,h);let m=Promise.resolve(f);e.length<3&&(m=m.then(h)),m.catch(_=>u(_))})}function nu(e,t,n,i){const r=[];for(const o of e)for(const l in o.components){let u=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(oC(u)){const f=(u.__vccOpts||u)[t];f&&r.push(wi(f,n,i,o,l))}else{let h=u();r.push(()=>h.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const m=dI(f)?f.default:f;o.components[l]=m;const v=(m.__vccOpts||m)[t];return v&&wi(v,n,i,o,l)()}))}}return r}function oC(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Yp(e){const t=ei(Kh),n=ei(H_),i=rn(()=>t.resolve(nn(e.to))),r=rn(()=>{const{matched:h}=i.value,{length:f}=h,m=h[f-1],_=n.matched;if(!m||!_.length)return-1;const v=_.findIndex(tr.bind(null,m));if(v>-1)return v;const T=Jp(h[f-2]);return f>1&&Jp(m)===T&&_[_.length-1].path!==T?_.findIndex(tr.bind(null,h[f-2])):v}),o=rn(()=>r.value>-1&&cC(n.params,i.value.params)),l=rn(()=>r.value>-1&&r.value===n.matched.length-1&&O_(n.params,i.value.params));function u(h={}){return lC(h)?t[nn(e.replace)?"replace":"push"](nn(e.to)).catch(Gr):Promise.resolve()}return{route:i,href:rn(()=>i.value.href),isActive:o,isExactActive:l,navigate:u}}const aC=d_({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Yp,setup(e,{slots:t}){const n=Ao(Yp(e)),{options:i}=ei(Kh),r=rn(()=>({[tm(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[tm(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:L_("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Us=aC;function lC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function cC(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Tn(r)||r.length!==i.length||i.some((o,l)=>o!==r[l]))return!1}return!0}function Jp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tm=(e,t,n)=>e??t??n,uC=d_({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=ei(ju),r=rn(()=>e.route||i.value),o=ei(Xp,0),l=rn(()=>{let f=nn(o);const{matched:m}=r.value;let _;for(;(_=m[f])&&!_.components;)f++;return f}),u=rn(()=>r.value.matched[l.value]);Ua(Xp,rn(()=>l.value+1)),Ua(rC,u),Ua(ju,r);const h=xT();return Fa(()=>[h.value,u.value,e.name],([f,m,_],[v,T,S])=>{m&&(m.instances[_]=f,T&&T!==m&&f&&f===v&&(m.leaveGuards.size||(m.leaveGuards=T.leaveGuards),m.updateGuards.size||(m.updateGuards=T.updateGuards))),f&&m&&(!T||!tr(m,T)||!v)&&(m.enterCallbacks[_]||[]).forEach(I=>I(f))},{flush:"post"}),()=>{const f=r.value,m=e.name,_=u.value,v=_&&_.components[m];if(!v)return em(n.default,{Component:v,route:f});const T=_.props[m],S=T?T===!0?f.params:typeof T=="function"?T(f):T:null,D=L_(v,Vt({},S,t,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(_.instances[m]=null)},ref:h}));return em(n.default,{Component:D,route:f})||D}}});function em(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const j_=uC;function hC(e){const t=zI(e.routes,e),n=e.parseQuery||iC,i=e.stringifyQuery||Qp,r=e.history,o=Dr(),l=Dr(),u=Dr(),h=kT(_i);let f=_i;Ds&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=tu.bind(null,P=>""+P),_=tu.bind(null,nC),v=tu.bind(null,tl);function T(P,F){let H,Q;return M_(P)?(H=t.getRecordMatcher(P),Q=F):Q=P,t.addRoute(Q,H)}function S(P){const F=t.getRecordMatcher(P);F&&t.removeRoute(F)}function I(){return t.getRoutes().map(P=>P.record)}function D(P){return!!t.getRecordMatcher(P)}function B(P,F){if(F=Vt({},F||h.value),typeof P=="string"){const y=eu(n,P,F.path),E=t.resolve({path:y.path},F),A=r.createHref(y.fullPath);return Vt(y,E,{params:v(E.params),hash:tl(y.hash),redirectedFrom:void 0,href:A})}let H;if("path"in P)H=Vt({},P,{path:eu(n,P.path,F.path).path});else{const y=Vt({},P.params);for(const E in y)y[E]==null&&delete y[E];H=Vt({},P,{params:_(P.params)}),F.params=_(F.params)}const Q=t.resolve(H,F),Et=P.hash||"";Q.params=m(v(Q.params));const jt=mI(i,Vt({},P,{hash:JI(Et),path:Q.path})),mt=r.createHref(jt);return Vt({fullPath:jt,hash:Et,query:i===Qp?sC(P.query):P.query||{}},Q,{redirectedFrom:void 0,href:mt})}function q(P){return typeof P=="string"?eu(n,P,h.value.path):Vt({},P)}function M(P,F){if(f!==P)return er(8,{from:F,to:P})}function Y(P){return Gt(P)}function ft(P){return Y(Vt(q(P),{replace:!0}))}function Ot(P){const F=P.matched[P.matched.length-1];if(F&&F.redirect){const{redirect:H}=F;let Q=typeof H=="function"?H(P):H;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=q(Q):{path:Q},Q.params={}),Vt({query:P.query,hash:P.hash,params:"path"in Q?{}:P.params},Q)}}function Gt(P,F){const H=f=B(P),Q=h.value,Et=P.state,jt=P.force,mt=P.replace===!0,y=Ot(H);if(y)return Gt(Vt(q(y),{state:typeof y=="object"?Vt({},Et,y.state):Et,force:jt,replace:mt}),F||H);const E=H;E.redirectedFrom=F;let A;return!jt&&gI(i,Q,H)&&(A=er(16,{to:E,from:Q}),rt(Q,Q,!0,!1)),(A?Promise.resolve(A):Ft(E,Q)).catch(k=>Gn(k)?Gn(k,2)?k:He(k):xt(k,E,Q)).then(k=>{if(k){if(Gn(k,2))return Gt(Vt({replace:mt},q(k.to),{state:typeof k.to=="object"?Vt({},Et,k.to.state):Et,force:jt}),F||E)}else k=Nt(E,Q,!0,mt,Et);return Ut(E,Q,k),k})}function ot(P,F){const H=M(P,F);return H?Promise.reject(H):Promise.resolve()}function Ft(P,F){let H;const[Q,Et,jt]=dC(P,F);H=nu(Q.reverse(),"beforeRouteLeave",P,F);for(const y of Q)y.leaveGuards.forEach(E=>{H.push(wi(E,P,F))});const mt=ot.bind(null,P,F);return H.push(mt),Os(H).then(()=>{H=[];for(const y of o.list())H.push(wi(y,P,F));return H.push(mt),Os(H)}).then(()=>{H=nu(Et,"beforeRouteUpdate",P,F);for(const y of Et)y.updateGuards.forEach(E=>{H.push(wi(E,P,F))});return H.push(mt),Os(H)}).then(()=>{H=[];for(const y of P.matched)if(y.beforeEnter&&!F.matched.includes(y))if(Tn(y.beforeEnter))for(const E of y.beforeEnter)H.push(wi(E,P,F));else H.push(wi(y.beforeEnter,P,F));return H.push(mt),Os(H)}).then(()=>(P.matched.forEach(y=>y.enterCallbacks={}),H=nu(jt,"beforeRouteEnter",P,F),H.push(mt),Os(H))).then(()=>{H=[];for(const y of l.list())H.push(wi(y,P,F));return H.push(mt),Os(H)}).catch(y=>Gn(y,8)?y:Promise.reject(y))}function Ut(P,F,H){for(const Q of u.list())Q(P,F,H)}function Nt(P,F,H,Q,Et){const jt=M(P,F);if(jt)return jt;const mt=F===_i,y=Ds?history.state:{};H&&(Q||mt?r.replace(P.fullPath,Vt({scroll:mt&&y&&y.scroll},Et)):r.push(P.fullPath,Et)),h.value=P,rt(P,F,H,mt),He()}let Bt;function Ze(){Bt||(Bt=r.listen((P,F,H)=>{if(!Jt.listening)return;const Q=B(P),Et=Ot(Q);if(Et){Gt(Vt(Et,{replace:!0}),Q).catch(Gr);return}f=Q;const jt=h.value;Ds&&II(Vp(jt.fullPath,H.delta),$l()),Ft(Q,jt).catch(mt=>Gn(mt,12)?mt:Gn(mt,2)?(Gt(mt.to,Q).then(y=>{Gn(y,20)&&!H.delta&&H.type===uo.pop&&r.go(-1,!1)}).catch(Gr),Promise.reject()):(H.delta&&r.go(-H.delta,!1),xt(mt,Q,jt))).then(mt=>{mt=mt||Nt(Q,jt,!1),mt&&(H.delta&&!Gn(mt,8)?r.go(-H.delta,!1):H.type===uo.pop&&Gn(mt,20)&&r.go(-1,!1)),Ut(Q,jt,mt)}).catch(Gr)}))}let me=Dr(),zi=Dr(),Ct;function xt(P,F,H){He(P);const Q=zi.list();return Q.length?Q.forEach(Et=>Et(P,F,H)):console.error(P),Promise.reject(P)}function G(){return Ct&&h.value!==_i?Promise.resolve():new Promise((P,F)=>{me.add([P,F])})}function He(P){return Ct||(Ct=!P,Ze(),me.list().forEach(([F,H])=>P?H(P):F()),me.reset()),P}function rt(P,F,H,Q){const{scrollBehavior:Et}=e;if(!Ds||!Et)return Promise.resolve();const jt=!H&&CI(Vp(P.fullPath,0))||(Q||!H)&&history.state&&history.state.scroll||null;return e_().then(()=>Et(P,F,jt)).then(mt=>mt&&bI(mt)).catch(mt=>xt(mt,P,F))}const It=P=>r.go(P);let zt;const oe=new Set,Jt={currentRoute:h,listening:!0,addRoute:T,removeRoute:S,hasRoute:D,getRoutes:I,resolve:B,options:e,push:Y,replace:ft,go:It,back:()=>It(-1),forward:()=>It(1),beforeEach:o.add,beforeResolve:l.add,afterEach:u.add,onError:zi.add,isReady:G,install(P){const F=this;P.component("RouterLink",Us),P.component("RouterView",j_),P.config.globalProperties.$router=F,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>nn(h)}),Ds&&!zt&&h.value===_i&&(zt=!0,Y(r.location).catch(Et=>{}));const H={};for(const Et in _i)H[Et]=rn(()=>h.value[Et]);P.provide(Kh,F),P.provide(H_,Ao(H)),P.provide(ju,h);const Q=P.unmount;oe.add(P),P.unmount=function(){oe.delete(P),oe.size<1&&(f=_i,Bt&&Bt(),Bt=null,h.value=_i,zt=!1,Ct=!1),Q()}}};return Jt}function Os(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function dC(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let l=0;l<o;l++){const u=t.matched[l];u&&(e.matched.find(f=>tr(f,u))?i.push(u):n.push(u));const h=e.matched[l];h&&(t.matched.find(f=>tr(f,h))||r.push(h))}return[n,i,r]}const Vn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},fC={name:"LoggedContent",data(){return{userEmail:null}},mounted(){const e=cn.currentUser;e&&(this.email=e.email)}},pC=x("div",{class:"container"},[x("div",{class:"row justify-content-center"},[x("div",{class:"col-sm-12 col-md-12"},[x("h2",null,"Welcome!!")])])],-1),mC={class:"container"},gC={class:"row"},_C={class:"col-sm-3 col-md-3"},vC={class:"sidebar"},yC={class:"col-sm-9 col-md-9"};function wC(e,t,n,i,r,o){const l=Tp("RouterLink"),u=Tp("RouterView");return ge(),Oe(We,null,[pC,x("div",mC,[x("div",gC,[x("div",_C,[x("div",vC,[x("ul",null,[x("li",null,[Wt(l,{class:"sidebar-link",to:"/findVet"},{default:_n(()=>[sn("Find vet")]),_:1})]),x("li",null,[Wt(l,{class:"sidebar-link",to:"/addAnimal"},{default:_n(()=>[sn("Add animal")]),_:1})]),x("li",null,[Wt(l,{class:"sidebar-link",to:"/showAnimals"},{default:_n(()=>[sn("Show animals")]),_:1})]),x("li",null,[Wt(l,{class:"sidebar-link",to:"/makeAppointment"},{default:_n(()=>[sn("Make an appointment")]),_:1})]),x("li",null,[Wt(l,{class:"sidebar-link",to:"/showAppointment"},{default:_n(()=>[sn("Show appointments")]),_:1})])])])]),x("div",yC,[Wt(u)])])])],64)}const q_=Vn(fC,[["render",wC]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},EC=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=e[n++],l=e[n++],u=e[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const o=e[n++],l=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],l=r+1<e.length,u=l?e[r+1]:0,h=r+2<e.length,f=h?e[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(v=64)),i.push(n[m],n[_],n[v],n[T])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(W_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):EC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=n[e.charAt(r++)],u=r<e.length?n[e.charAt(r)]:0;++r;const f=r<e.length?n[e.charAt(r)]:64;++r;const _=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new TC;const v=o<<2|u>>4;if(i.push(v),f!==64){const T=u<<4&240|f>>2;if(i.push(T),_!==64){const S=f<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bC=function(e){const t=W_(e);return K_.encodeByteArray(t,!0)},el=function(e){return bC(e).replace(/\./g,"")},Z_=function(e){try{return K_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=()=>IC().__FIREBASE_DEFAULTS__,SC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},PC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Z_(e[1]);return t&&JSON.parse(t)},Vl=()=>{try{return CC()||SC()||PC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},G_=e=>{var t,n;return(n=(t=Vl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Q_=e=>{const t=G_(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},AC=()=>{var e;return(e=Vl())===null||e===void 0?void 0:e.config},X_=e=>{var t;return(t=Vl())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[el(JSON.stringify(n)),el(JSON.stringify(l)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function RC(){var e;const t=(e=Vl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LC(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function OC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){const e=Fe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function MC(){try{return typeof indexedDB=="object"}catch{return!1}}function DC(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class Hn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=UC,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xo.prototype.create)}}class xo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?FC(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Hn(r,u,i)}}function FC(e,t){return e.replace(BC,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const BC=/\{\$([^}]+)}/g;function zC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const o=e[r],l=t[r];if(nm(o)&&nm(l)){if(!nl(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function nm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function $r(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Vr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $C(e,t){const n=new VC(e,t);return n.subscribe.bind(n)}class VC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");HC(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=iu),r.error===void 0&&(r.error=iu),r.complete===void 0&&(r.complete=iu);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HC(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function iu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){return e&&e._delegate?e._delegate:e}class Ni{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new xC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WC(t))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Qi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qi){return this.instances.has(t)}getOptions(t=Qi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&t(l,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qC(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Qi){return this.component?this.component.multipleInstances?t:Qi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qC(e){return e===Qi?void 0:e}function WC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Rt||(Rt={}));const ZC={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},GC=Rt.INFO,QC={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},XC=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=QC[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zh{constructor(t){this.name=t,this._logLevel=GC,this._logHandler=XC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...t),this._logHandler(this,Rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...t),this._logHandler(this,Rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...t),this._logHandler(this,Rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...t),this._logHandler(this,Rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...t),this._logHandler(this,Rt.ERROR,...t)}}const YC=(e,t)=>t.some(n=>e instanceof n);let im,sm;function JC(){return im||(im=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tS(){return sm||(sm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,qu=new WeakMap,tv=new WeakMap,su=new WeakMap,Gh=new WeakMap;function eS(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",l)},o=()=>{n(Ai(e.result)),r()},l=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&J_.set(n,e)}).catch(()=>{}),Gh.set(t,e),t}function nS(e){if(qu.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",l),e.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",l),e.addEventListener("abort",l)});qu.set(e,t)}let Wu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function iS(e){Wu=e(Wu)}function sS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(ru(this),t,...n);return tv.set(i,t.sort?t.sort():[t]),Ai(i)}:tS().includes(e)?function(...t){return e.apply(ru(this),t),Ai(J_.get(this))}:function(...t){return Ai(e.apply(ru(this),t))}}function rS(e){return typeof e=="function"?sS(e):(e instanceof IDBTransaction&&nS(e),YC(e,JC())?new Proxy(e,Wu):e)}function Ai(e){if(e instanceof IDBRequest)return eS(e);if(su.has(e))return su.get(e);const t=rS(e);return t!==e&&(su.set(e,t),Gh.set(t,e)),t}const ru=e=>Gh.get(e);function oS(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(e,t),u=Ai(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Ai(l.result),h.oldVersion,h.newVersion,Ai(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const aS=["get","getKey","getAll","getAllKeys","count"],lS=["put","add","delete","clear"],ou=new Map;function rm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ou.get(t))return ou.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=lS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||aS.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return ou.set(t,o),o}iS(e=>({...e,get:(t,n,i)=>rm(t,n)||e.get(t,n,i),has:(t,n)=>!!rm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function uS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ku="@firebase/app",om="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Zh("@firebase/app"),hS="@firebase/app-compat",dS="@firebase/analytics-compat",fS="@firebase/analytics",pS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",_S="@firebase/auth-compat",vS="@firebase/database",yS="@firebase/database-compat",wS="@firebase/functions",ES="@firebase/functions-compat",TS="@firebase/installations",bS="@firebase/installations-compat",IS="@firebase/messaging",CS="@firebase/messaging-compat",SS="@firebase/performance",PS="@firebase/performance-compat",AS="@firebase/remote-config",xS="@firebase/remote-config-compat",kS="@firebase/storage",RS="@firebase/storage-compat",LS="@firebase/firestore",OS="@firebase/firestore-compat",NS="firebase",MS="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="[DEFAULT]",DS={[Ku]:"fire-core",[hS]:"fire-core-compat",[fS]:"fire-analytics",[dS]:"fire-analytics-compat",[mS]:"fire-app-check",[pS]:"fire-app-check-compat",[gS]:"fire-auth",[_S]:"fire-auth-compat",[vS]:"fire-rtdb",[yS]:"fire-rtdb-compat",[wS]:"fire-fn",[ES]:"fire-fn-compat",[TS]:"fire-iid",[bS]:"fire-iid-compat",[IS]:"fire-fcm",[CS]:"fire-fcm-compat",[SS]:"fire-perf",[PS]:"fire-perf-compat",[AS]:"fire-rc",[xS]:"fire-rc-compat",[kS]:"fire-gcs",[RS]:"fire-gcs-compat",[LS]:"fire-fst",[OS]:"fire-fst-compat","fire-js":"fire-js",[NS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new Map,Gu=new Map;function US(e,t){try{e.container.addComponent(t)}catch(n){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ds(e){const t=e.name;if(Gu.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Gu.set(t,e);for(const n of il.values())US(n,e);return!0}function Hl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xi=new xo("app","Firebase",FS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=MS;function ev(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Zu,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw xi.create("bad-app-name",{appName:String(r)});if(n||(n=AC()),!n)throw xi.create("no-options");const o=il.get(r);if(o){if(nl(n,o.options)&&nl(i,o.config))return o;throw xi.create("duplicate-app",{appName:r})}const l=new KC(r);for(const h of Gu.values())l.addComponent(h);const u=new BS(n,i,l);return il.set(r,u),u}function Qh(e=Zu){const t=il.get(e);if(!t&&e===Zu)return ev();if(!t)throw xi.create("no-app",{appName:e});return t}function Dn(e,t,n){var i;let r=(i=DS[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${t}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(u.join(" "));return}ds(new Ni(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebase-heartbeat-database",$S=1,ho="firebase-heartbeat-store";let au=null;function nv(){return au||(au=oS(zS,$S,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ho)}}}).catch(e=>{throw xi.create("idb-open",{originalErrorMessage:e.message})})),au}async function VS(e){try{return(await nv()).transaction(ho).objectStore(ho).get(iv(e))}catch(t){if(t instanceof Hn)hs.warn(t.message);else{const n=xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hs.warn(n.message)}}}async function am(e,t){try{const i=(await nv()).transaction(ho,"readwrite");return await i.objectStore(ho).put(t,iv(e)),i.done}catch(n){if(n instanceof Hn)hs.warn(n.message);else{const i=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hs.warn(i.message)}}}function iv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=1024,jS=30*24*60*60*1e3;class qS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const o=new Date(r.date).valueOf();return Date.now()-o<=jS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lm(),{heartbeatsToSend:n,unsentEntries:i}=WS(this._heartbeatsCache.heartbeats),r=el(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function lm(){return new Date().toISOString().substring(0,10)}function WS(e,t=HS){const n=[];let i=e.slice();for(const r of e){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),cm(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),cm(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class KS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MC()?DC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return am(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return am(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function cm(e){return el(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(e){ds(new Ni("platform-logger",t=>new cS(t),"PRIVATE")),ds(new Ni("heartbeat",t=>new qS(t),"PRIVATE")),Dn(Ku,om,e),Dn(Ku,om,"esm2017"),Dn("fire-js","")}ZS("");function Xh(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function sv(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GS=sv,rv=new xo("auth","Firebase",sv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Zh("@firebase/auth");function QS(e,...t){sl.logLevel<=Rt.WARN&&sl.warn(`Auth (${ys}): ${e}`,...t)}function Va(e,...t){sl.logLevel<=Rt.ERROR&&sl.error(`Auth (${ys}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e,...t){throw Yh(e,...t)}function Un(e,...t){return Yh(e,...t)}function ov(e,t,n){const i=Object.assign(Object.assign({},GS()),{[t]:n});return new xo("auth","Firebase",i).create(t,{appName:e.name})}function XS(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&dn(e,"argument-error"),ov(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yh(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return rv.create(e,...t)}function at(e,t,...n){if(!e)throw Yh(t,...n)}function Xn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Va(t),new Error(t)}function ri(e,t){e||Xn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function YS(){return um()==="http:"||um()==="https:"}function um(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YS()||LC()||"connection"in navigator)?navigator.onLine:!0}function tP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,n){this.shortDelay=t,this.longDelay=n,ri(n>t,"Short delay should be less than long delay!"),this.isMobile=kC()||OC()}get(){return JS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(e,t){ri(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Ro(3e4,6e4);function pr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mr(e,t,n,i,r={}){return lv(e,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=ko(Object.assign({key:e.config.apiKey},l)).slice(1),h=await e._getAdditionalHeaders();return h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode),av.fetch()(cv(e,e.config.apiHost,n,u),Object.assign({method:t,headers:h,referrerPolicy:"no-referrer"},o))})}async function lv(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},eP),t);try{const r=new iP(e),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw ba(e,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ba(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw ba(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw ba(e,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ov(e,m,f);dn(e,m)}}catch(r){if(r instanceof Hn)throw r;dn(e,"network-request-failed",{message:String(r)})}}async function Lo(e,t,n,i,r={}){const o=await mr(e,t,n,i,r);return"mfaPendingCredential"in o&&dn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function cv(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?Jh(e.config,r):`${e.config.apiScheme}://${r}`}class iP{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Un(this.auth,"network-request-failed")),nP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ba(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Un(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(e,t){return mr(e,"POST","/v1/accounts:delete",t)}async function rP(e,t){return mr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oP(e,t=!1){const n=ye(e),i=await n.getIdToken(t),r=td(i);at(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Xr(lu(r.auth_time)),issuedAtTime:Xr(lu(r.iat)),expirationTime:Xr(lu(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function lu(e){return Number(e)*1e3}function td(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Va("JWT malformed, contained fewer than 3 sections"),null;try{const r=Z_(n);return r?JSON.parse(r):(Va("Failed to decode base64 JWT payload"),null)}catch(r){return Va("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function aP(e){const t=td(e);return at(t,"internal-error"),at(typeof t.exp<"u","internal-error"),at(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Hn&&lP(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function lP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(e){var t;const n=e.auth,i=await e.getIdToken(),r=await fo(e,rP(n,{idToken:i}));at(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?dP(o.providerUserInfo):[],u=hP(e.providerData,l),h=e.isAnonymous,f=!(e.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new uv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(e,_)}async function uP(e){const t=ye(e);await rl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hP(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function dP(e){return e.map(t=>{var{providerId:n}=t,i=Xh(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(e,t){const n=await lv(e,{},async()=>{const i=ko({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,l=cv(e,r,"/v1/token",`key=${o}`),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",av.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){at(t.idToken,"internal-error"),at(typeof t.idToken<"u","internal-error"),at(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return at(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await fP(t,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new po;return i&&(at(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(at(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(at(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e,t){at(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class as{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,o=Xh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await fo(this,this.stsTokenManager.getToken(this.auth,t));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oP(this,t)}reload(){return uP(this)}_assign(t){this!==t&&(at(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new as(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await rl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await fo(this,sP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,o,l,u,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,I=(u=n.tenantId)!==null&&u!==void 0?u:void 0,D=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,B=(f=n.createdAt)!==null&&f!==void 0?f:void 0,q=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:Y,isAnonymous:ft,providerData:Ot,stsTokenManager:Gt}=n;at(M&&Gt,t,"internal-error");const ot=po.fromJSON(this.name,Gt);at(typeof M=="string",t,"internal-error"),vi(_,t.name),vi(v,t.name),at(typeof Y=="boolean",t,"internal-error"),at(typeof ft=="boolean",t,"internal-error"),vi(T,t.name),vi(S,t.name),vi(I,t.name),vi(D,t.name),vi(B,t.name),vi(q,t.name);const Ft=new as({uid:M,auth:t,email:v,emailVerified:Y,displayName:_,isAnonymous:ft,photoURL:S,phoneNumber:T,tenantId:I,stsTokenManager:ot,createdAt:B,lastLoginAt:q});return Ot&&Array.isArray(Ot)&&(Ft.providerData=Ot.map(Ut=>Object.assign({},Ut))),D&&(Ft._redirectEventId=D),Ft}static async _fromIdTokenResponse(t,n,i=!1){const r=new po;r.updateFromServerResponse(n);const o=new as({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await rl(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;function Yn(e){ri(e instanceof Function,"Expected a class definition");let t=hm.get(e);return t?(ri(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hm.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hv.type="NONE";const dm=hv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e,t,n){return`firebase:${e}:${t}:${n}`}class Ws{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ha(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ha("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?as._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ws(Yn(dm),t,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Yn(dm);const l=Ha(i,t.config.apiKey,t.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){const _=as._fromJSON(t,m);f!==o&&(u=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ws(o,t,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ws(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gv(t))return"Blackberry";if(_v(t))return"Webos";if(ed(t))return"Safari";if((t.includes("chrome/")||fv(t))&&!t.includes("edge/"))return"Chrome";if(mv(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function dv(e=Fe()){return/firefox\//i.test(e)}function ed(e=Fe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fv(e=Fe()){return/crios\//i.test(e)}function pv(e=Fe()){return/iemobile/i.test(e)}function mv(e=Fe()){return/android/i.test(e)}function gv(e=Fe()){return/blackberry/i.test(e)}function _v(e=Fe()){return/webos/i.test(e)}function jl(e=Fe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pP(e=Fe()){var t;return jl(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function mP(){return NC()&&document.documentMode===10}function vv(e=Fe()){return jl(e)||mv(e)||_v(e)||gv(e)||/windows phone/i.test(e)||pv(e)}function gP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e,t=[]){let n;switch(e){case"Browser":n=fm(Fe());break;case"Worker":n=`${fm(Fe())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ys}/${i}`}async function wv(e,t){return mr(e,"GET","/v2/recaptchaConfig",pr(e,t))}function pm(e){return e!==void 0&&e.enterprise!==void 0}class Ev{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Tv(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const o=Un("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",_P().appendChild(i)})}function vP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const yP="https://www.google.com/recaptcha/enterprise.js?render=",wP="recaptcha-enterprise",EP="NO_RECAPTCHA";class bv{constructor(t){this.type=wP,this.auth=ws(t)}async verify(t="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{wv(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new Ev(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,l,u){const h=window.grecaptcha;pm(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(EP)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(u=>{if(!n&&pm(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}Tv(yP+u).then(()=>{r(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function ol(e,t,n,i=!1){const r=new bv(e);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},t);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=o=>new Promise((l,u)=>{try{const h=t(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mm(this),this.idTokenSubscription=new mm(this),this.beforeStateQueue=new TP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rl(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?ye(t):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&at(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(t))})}async initializeRecaptchaConfig(){const t=await wv(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Ev(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new bv(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new xo("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yn(t)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return at(l,this,"internal-error"),l.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,i,r):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&QS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ws(e){return ye(e)}class mm{constructor(t){this.auth=t,this.observer=null,this.addObserver=$C(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(e,t){const n=Hl(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(nl(o,t??{}))return r;dn(r,"already-initialized")}return n.initialize({options:t})}function CP(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function SP(e,t,n){const i=ws(e);at(i._canInitEmulator,i,"emulator-config-failed"),at(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=Iv(t),{host:l,port:u}=PP(t),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||AP()}function Iv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function PP(e){const t=Iv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:gm(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:gm(l)}}}function gm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function AP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(t){return Xn("not implemented")}_linkToIdToken(t,n){return Xn("not implemented")}_getReauthenticationResolver(t){return Xn("not implemented")}}async function xP(e,t){return mr(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(e,t){return Lo(e,"POST","/v1/accounts:signInWithPassword",pr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(e,t){return Lo(e,"POST","/v1/accounts:signInWithEmailLink",pr(e,t))}async function RP(e,t){return Lo(e,"POST","/v1/accounts:signInWithEmailLink",pr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends nd{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new mo(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new mo(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const r=await ol(t,i,"signInWithPassword");return cu(t,r)}else return cu(t,i).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await ol(t,i,"signInWithPassword");return cu(t,o)}else return Promise.reject(r)});case"emailLink":return kP(t,{email:this._email,oobCode:this._password});default:dn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return xP(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return RP(t,{idToken:n,email:this._email,oobCode:this._password});default:dn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(e,t){return Lo(e,"POST","/v1/accounts:signInWithIdp",pr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="http://localhost";class fs extends nd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,o=Xh(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new fs(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Ks(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ks(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ks(t,n)}buildRequest(){const t={requestUri:LP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ko(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NP(e){const t=$r(Vr(e)).link,n=t?$r(Vr(t)).deep_link_id:null,i=$r(Vr(e)).deep_link_id;return(i?$r(Vr(i)).link:null)||i||n||t||e}class id{constructor(t){var n,i,r,o,l,u;const h=$r(Vr(t)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=OP((r=h.mode)!==null&&r!==void 0?r:null);at(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const n=NP(t);try{return new id(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.providerId=gr.PROVIDER_ID}static credential(t,n){return mo._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=id.parseLink(n);return at(i,"argument-error"),mo._fromEmailAndCode(t,i.code,i.tenantId)}}gr.PROVIDER_ID="password";gr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends sd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Oo{constructor(){super("facebook.com")}static credential(t){return fs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ei.credential(t.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends Oo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return fs._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ln.credentialFromTaggedObject(t)}static credentialFromError(t){return Ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ln.credential(n,i)}catch{return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com";Ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Oo{constructor(){super("github.com")}static credential(t){return fs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ti.credential(t.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Oo{constructor(){super("twitter.com")}static credential(t,n){return fs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return bi.credential(n,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(e,t){return Lo(e,"POST","/v1/accounts:signUp",pr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const o=await as._fromIdTokenResponse(t,i,r),l=_m(i);return new ps({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=_m(i);return new ps({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function _m(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Hn{constructor(t,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,al.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new al(t,n,i,r)}}function Cv(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?al._fromErrorAndOperation(e,o,t,i):o})}async function MP(e,t,n=!1){const i=await fo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ps._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const o=await fo(e,Cv(i,r,t,e),n);at(o.idToken,i,"internal-error");const l=td(o.idToken);at(l,i,"internal-error");const{sub:u}=l;return at(e.uid===u,i,"user-mismatch"),ps._forOperation(e,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sv(e,t,n=!1){const i="signIn",r=await Cv(e,i,t),o=await ps._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function UP(e,t){return Sv(ws(e),t)}async function FP(e,t,n){var i;const r=ws(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let l;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const f=await ol(r,o,"signUpPassword");l=uu(r,f)}else l=uu(r,o).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const m=await ol(r,o,"signUpPassword");return uu(r,m)}else return Promise.reject(f)});const u=await l.catch(f=>Promise.reject(f)),h=await ps._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function BP(e,t,n){return UP(ye(e),gr.credential(t,n))}function zP(e,t,n,i){return ye(e).onIdTokenChanged(t,n,i)}function $P(e,t,n){return ye(e).beforeAuthStateChanged(t,n)}function Pv(e,t,n,i){return ye(e).onAuthStateChanged(t,n,i)}const ll="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ll,"1"),this.storage.removeItem(ll),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){const e=Fe();return ed(e)||jl(e)}const HP=1e3,jP=10;class xv extends Av{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=VP()&&gP(),this.fallbackToPolling=vv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(t.newValue!==l)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);mP()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,jP):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}xv.type="LOCAL";const qP=xv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Av{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kv.type="SESSION";const Rv=kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new ql(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await WP(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ql.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=rd("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function ZP(e){Fn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function GP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QP(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function XP(){return Lv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="firebaseLocalStorageDb",YP=1,cl="firebaseLocalStorage",Nv="fbase_key";class No{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wl(e,t){return e.transaction([cl],t?"readwrite":"readonly").objectStore(cl)}function JP(){const e=indexedDB.deleteDatabase(Ov);return new No(e).toPromise()}function Xu(){const e=indexedDB.open(Ov,YP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(cl,{keyPath:Nv})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(cl)?t(i):(i.close(),await JP(),t(await Xu()))})})}async function vm(e,t,n){const i=Wl(e,!0).put({[Nv]:t,value:n});return new No(i).toPromise()}async function tA(e,t){const n=Wl(e,!1).get(t),i=await new No(n).toPromise();return i===void 0?null:i.value}function ym(e,t){const n=Wl(e,!0).delete(t);return new No(n).toPromise()}const eA=800,nA=3;class Mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xu(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>nA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ql._getInstance(XP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await GP(),!this.activeServiceWorker)return;this.sender=new KP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xu();return await vm(t,ll,"1"),await ym(t,ll),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>vm(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>tA(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ym(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Wl(r,!1).getAll();return new No(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mv.type="LOCAL";const iA=Mv;new Ro(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e,t){return t?Yn(t):(at(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends nd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ks(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ks(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ks(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sA(e){return Sv(e.auth,new od(e),e.bypassAuthState)}function rA(e){const{auth:t,user:n}=e;return at(n,t,"internal-error"),DP(n,new od(e),e.bypassAuthState)}async function oA(e){const{auth:t,user:n}=e;return at(n,t,"internal-error"),MP(n,new od(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,n,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sA;case"linkViaPopup":case"linkViaRedirect":return oA;case"reauthViaPopup":case"reauthViaRedirect":return rA;default:dn(this.auth,"internal-error")}}resolve(t){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Ro(2e3,1e4);async function lA(e,t,n){const i=ws(e);XS(e,t,sd);const r=Dv(i,n);return new es(i,"signInViaPopup",t,r).executeNotNull()}class es extends Uv{constructor(t,n,i,r,o){super(t,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return at(t,this.auth,"internal-error"),t}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const t=rd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aA.get())};t()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="pendingRedirect",ja=new Map;class uA extends Uv{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=ja.get(this.auth._key());if(!t){try{const i=await hA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}ja.set(this.auth._key(),t)}return this.bypassAuthState||ja.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hA(e,t){const n=pA(t),i=fA(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function dA(e,t){ja.set(e._key(),t)}function fA(e){return Yn(e._redirectPersistence)}function pA(e){return Ha(cA,e.config.apiKey,e.name)}async function mA(e,t,n=!1){const i=ws(e),r=Dv(i,t),l=await new uA(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=10*60*1e3;class _A{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vA(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!Fv(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gA&&this.cachedEventUids.clear(),this.cachedEventUids.has(wm(t))}saveEventToCache(t){this.cachedEventUids.add(wm(t)),this.lastProcessedEventTime=Date.now()}}function wm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Fv({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vA(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fv(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(e,t={}){return mr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EA=/^https?/;async function TA(e){if(e.config.emulator)return;const{authorizedDomains:t}=await yA(e);for(const n of t)try{if(bA(n))return}catch{}dn(e,"unauthorized-domain")}function bA(e){const t=Qu(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!EA.test(n))return!1;if(wA.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Ro(3e4,6e4);function Em(){const e=Fn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function CA(e){return new Promise((t,n)=>{var i,r,o;function l(){Em(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Em(),n(Un(e,"network-request-failed"))},timeout:IA.get()})}if(!((r=(i=Fn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Fn().gapi)===null||o===void 0)&&o.load)l();else{const u=vP("iframefcb");return Fn()[u]=()=>{gapi.load?l():n(Un(e,"network-request-failed"))},Tv(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>n(h))}}).catch(t=>{throw qa=null,t})}let qa=null;function SA(e){return qa=qa||CA(e),qa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new Ro(5e3,15e3),AA="__/auth/iframe",xA="emulator/auth/iframe",kA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LA(e){const t=e.config;at(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Jh(t,xA):`https://${e.config.authDomain}/${AA}`,i={apiKey:t.apiKey,appName:e.name,v:ys},r=RA.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${ko(i).slice(1)}`}async function OA(e){const t=await SA(e),n=Fn().gapi;return at(n,e,"internal-error"),t.open({where:document.body,url:LA(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kA,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Un(e,"network-request-failed"),u=Fn().setTimeout(()=>{o(l)},PA.get());function h(){Fn().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MA=500,DA=600,UA="_blank",FA="http://localhost";class Tm{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BA(e,t,n,i=MA,r=DA){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},NA),{width:i.toString(),height:r.toString(),top:o,left:l}),f=Fe().toLowerCase();n&&(u=fv(f)?UA:n),dv(f)&&(t=t||FA,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[T,S])=>`${v}${T}=${S},`,"");if(pP(f)&&u!=="_self")return zA(t||"",u),new Tm(null);const _=window.open(t||"",u,m);at(_,e,"popup-blocked");try{_.focus()}catch{}return new Tm(_)}function zA(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="__/auth/handler",VA="emulator/auth/handler",HA=encodeURIComponent("fac");async function bm(e,t,n,i,r,o){at(e.config.authDomain,e,"auth-domain-config-required"),at(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:ys,eventId:r};if(t instanceof sd){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",zC(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,_]of Object.entries(o||{}))l[m]=_}if(t instanceof Oo){const m=t.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await e._getAppCheckToken(),f=h?`#${HA}=${encodeURIComponent(h)}`:"";return`${jA(e)}?${ko(u).slice(1)}${f}`}function jA({config:e}){return e.emulator?Jh(e,VA):`https://${e.authDomain}/${$A}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="webStorageSupport";class qA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rv,this._completeRedirectFn=mA,this._overrideRedirectResult=dA}async _openPopup(t,n,i,r){var o;ri((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await bm(t,n,i,Qu(),r);return BA(t,l,rd())}async _openRedirect(t,n,i,r){await this._originValidation(t);const o=await bm(t,n,i,Qu(),r);return ZP(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(ri(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await OA(t),i=new _A(t);return n.register("authEvent",r=>(at(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(hu,{type:hu},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[hu];l!==void 0&&n(!!l),dn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TA(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return vv()||ed()||jl()}}const WA=qA;var Im="@firebase/auth",Cm="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function GA(e){ds(new Ni("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;at(l&&!l.includes(":"),"invalid-api-key",{appName:i.name}),at(!(u!=null&&u.includes(":")),"argument-error",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yv(e)},f=new bP(i,r,o,h);return CP(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ds(new Ni("auth-internal",t=>{const n=ws(t.getProvider("auth").getImmediate());return(i=>new KA(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(Im,Cm,ZA(e)),Dn(Im,Cm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=5*60,XA=X_("authIdTokenMaxAge")||QA;let Sm=null;const YA=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>XA)return;const r=n==null?void 0:n.token;Sm!==r&&(Sm=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function JA(e=Qh()){const t=Hl(e,"auth");if(t.isInitialized())return t.getImmediate();const n=IP(e,{popupRedirectResolver:WA,persistence:[iA,qP,Rv]}),i=X_("authTokenSyncURL");if(i){const o=YA(i);$P(n,o,()=>o(n.currentUser)),zP(n,l=>o(l))}const r=G_("auth");return r&&SP(n,`http://${r}`),n}GA("Browser");const t1={class:"navbar sticky-top navbar-expand-md navbar-dark bg-dark text-center"},e1=x("a",{href:"#",class:"navbar-brand"},[x("img",{class:"d-inline-block align-top",src:hI,alt:"logoAnimal",width:"50",height:"50"}),sn(" Healthy Animals ")],-1),n1={class:"container"},i1=x("button",{type:"button","data-bs-toggle":"collapse","data-bs-target":"#toggleMobileMenu",class:"navbar-toggler","aria-controls":"toggleMobileMenu","aria-expanded":"false","aria-label":"Toggle navigation"},[x("span",{class:"navbar-toggler-icon"})],-1),s1={class:"collapse navbar-collapse",id:"toggleMobileMenu"},r1={class:"navbar-nav ms-auto"},o1={key:0,class:"nav-item"},a1={key:1,class:"nav-item"},l1=["data-username"],c1={key:2,class:"nav-item"},u1={class:"nav-item"},h1={class:"nav-item"},d1={class:"nav-item"},f1=x("hr",{class:"border border-2"},null,-1),p1=x("hr",{class:"border border-2"},null,-1),m1=x("footer",{class:"container-fluid"},[x("div",{class:"row text-center"},[x("div",{class:"col-12"},[x("p",null," Healthy Animal 2023. All Rights Reserved.")])])],-1),g1={data(){return{userEmail:null}},methods:{logOut(){cn.signOut().then(()=>{console.log("User logged out.")}),this.user=null}},mounted(){Pv(cn,e=>{e?this.userEmail=e.email:this.userEmail=null})}},_1=Object.assign(g1,{__name:"App",setup(e){return(t,n)=>(ge(),Oe("main",null,[x("nav",t1,[e1,x("div",n1,[i1,x("div",s1,[x("ul",r1,[t.userEmail?(ge(),Oe("li",a1,[x("span",{class:"navbar-text","data-username":t.userEmail},null,8,l1)])):(ge(),Oe("li",o1,[Wt(nn(Us),{class:"router-link",to:"/login"},{default:_n(()=>[sn("Login")]),_:1})])),t.userEmail?(ge(),Oe("li",c1,[Wt(nn(Us),{class:"router-link",onClick:t.logOut,to:"/"},{default:_n(()=>[sn("Log out")]),_:1},8,["onClick"])])):x_("",!0),x("li",u1,[Wt(nn(Us),{class:"router-link",to:"/"},{default:_n(()=>[sn("Home")]),_:1})]),x("li",h1,[Wt(nn(Us),{class:"router-link",to:"/about"},{default:_n(()=>[sn("About")]),_:1})]),x("li",d1,[Wt(nn(Us),{class:"router-link",to:"/contact"},{default:_n(()=>[sn("Contact")]),_:1})])])])])]),f1,t.userEmail?(ge(),Bu(q_,{key:0})):(ge(),Bu(nn(j_),{key:1})),p1,m1]))}}),v1="/HealthyAnimalsSite/assets/Dog-2cf05a26.jpg",y1="/HealthyAnimalsSite/assets/Cat-8fe08539.jpg",w1="/HealthyAnimalsSite/assets/guineaPig-1bb62193.jpg",E1={},T1=fr('<div class="container"><div class="col-sm-10 col-md-10 text-center mx-auto"><h6>&quot;Welcome to Healthy Animal, a company dedicated to providing top-quality care for your pets and other animals. We offer a range of services, including organizing visits to veterinarians, providing treatments for animals, and offering expert advice on pet health and wellbeing. Our team of professionals is passionate about animals and committed to ensuring that they receive the best possible care. Browse our site to learn more about our services and how we can help you and your furry friends. Contact us today to schedule an appointment or to speak with one of our experts.&quot; </h6></div></div><div class="container"><div class="row justify-content-center"><div class="col-sm-8 col-md-8"><div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel"><div class="carousel-indicators"><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button></div><div class="carousel-inner"><div class="carousel-item active"><img src="'+v1+'" class="d-block w-100" alt="dog"></div><div class="carousel-item"><img src="'+y1+'" class="d-block w-100" alt="cat"></div><div class="carousel-item"><img src="'+w1+'" class="d-block w-100" alt="guineaPig"></div></div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button></div></div></div></div>',2);function b1(e,t){return T1}const I1=Vn(E1,[["render",b1]]),C1={},S1=fr('<div class="container"><div class="row justify-content-center"><div class="col-sm-10 col-md-10"><h2>About Us</h2><p> We are a team of experienced veterinarians and animal lovers who are passionate about animals and committed to ensuring that they receive the best possible care. With years of experience and a deep understanding of animal health and wellbeing, we are dedicated to providing the highest quality care for your pets.</p><p>We believe that pets are part of the family, and we treat each animal as if they were our own. We take the time to get to know your pets and understand their unique needs, so that we can provide personalized care that is tailored to their individual needs.</p><p>At Healthy Animal, we believe that prevention is the key to keeping your pets healthy and happy. That&#39;s why we offer a range of services designed to keep your pets in top condition, including regular check-ups, vaccinations, and preventative care. We also provide treatments for illnesses and injuries, as well as expert advice on pet health and wellbeing.</p><p>Contact us today to learn more about our services and how we can help keep your pets healthy and happy. </p></div></div></div><div class="container"><div class="row justify-content-center"><div class="col-sm-10 col-md-10"><h2>Our Services</h2><p>We offer a wide range of services to meet all of your pet care needs, including:</p><ul><li>Veterinary care</li><li>Grooming</li><li>Training</li><li>Boarding</li><li>Dental care</li><li>Nutrition and dietary advice</li><li>Behavioral counseling</li><li>And much more!</li></ul><p>We are committed to providing personalized care for each and every pet we treat. Contact us today to schedule an appointment or to speak with one of our experts about how we can help keep your pets healthy and happy.</p></div></div></div>',2);function P1(e,t){return S1}const A1=Vn(C1,[["render",P1]]);const x1={data(){return{mediaRecorder:null,audioChunks:[],audioURL:null}},methods:{async startRecording(){const e=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(e),this.mediaRecorder.addEventListener("dataavailable",t=>{this.audioChunks.push(t.data)}),this.mediaRecorder.addEventListener("stop",()=>{const t=new Blob(this.audioChunks);this.audioURL=URL.createObjectURL(t)}),alert("Microphone recording started!"),this.mediaRecorder.start()},stopRecording(){this.mediaRecorder.stop()},playRecording(){new Audio(this.audioURL).play()}}},Bv=e=>(o_("data-v-b6adb3f9"),e=e(),a_(),e),k1=Bv(()=>x("div",{class:"container"},[x("div",{class:"row justify-content-center"},[x("div",{class:"col-sm-9 col-md-9"},[x("h2",null,"Contact Us"),x("p",null,"Thank you for considering Healthy Animal for your pet care needs. Our team of experts is always available to answer your questions, provide advice, and schedule appointments for your pets. Whether you need to book a visit to the veterinarian, request a treatment for your animal, or simply have a question about pet health and wellbeing, we're here to help."),x("p",null,"To get in touch with us, please fill out the form below or reach out to us directly via email. We strive to respond to all inquiries as quickly as possible, usually within 24 hours. We look forward to hearing from you soon!")])])],-1)),R1={class:"container"},L1={class:"col-sm-9 col-md-9 mx-auto"},O1=Bv(()=>x("form",{class:"row g-3",action:"https://formsubmit.co/45e01e9003d1f20987ad6f09a49af148",method:"POST",enctype:"multipart/form-data"},[x("input",{type:"text",name:"_honey",style:{display:"none"}}),x("input",{type:"hidden",name:"_captcha",value:"false"}),x("input",{type:"hidden",name:"_next",value:"https://roachosl.github.io/HealthyAnimalsSite/"}),x("div",{class:"col-md-5"},[x("label",{for:"firstName"},"Name:"),x("input",{type:"text",class:"form-control",name:"Name:",id:"firstName",required:""})]),x("div",{class:"col-md-7"},[x("label",{for:"emailInfo"},"Email:"),x("input",{type:"email",class:"form-control",name:"E-mail:",id:"emailInfo",required:""})]),x("div",{class:"col-md-12"},[x("input",{type:"file",name:"attachment",accept:"audio/*"})]),x("div",{class:"col-md-12"},[x("label",{for:"message"},"Message:"),x("textarea",{class:"form-control",name:"Comments,questions:",id:"message",rows:"5",required:""})]),x("div",{class:"col-md-12 text-center"},[x("button",{type:"submit",class:"btn-lg btn-primary"},"Submit")])],-1)),N1={class:"microButtons text-center"},M1=["href"];function D1(e,t,n,i,r,o){return ge(),Oe(We,null,[k1,x("div",R1,[x("div",L1,[O1,x("div",N1,[x("button",{class:"start",onClick:t[0]||(t[0]=(...l)=>o.startRecording&&o.startRecording(...l))},"Start Recording"),x("button",{class:"stop",onClick:t[1]||(t[1]=(...l)=>o.stopRecording&&o.stopRecording(...l))},"Stop Recording"),x("button",{onClick:t[2]||(t[2]=(...l)=>o.playRecording&&o.playRecording(...l))},"Play Recording"),x("a",{href:r.audioURL,download:"recording.wav"},"Download Recording",8,M1)])])])],64)}const U1=Vn(x1,[["render",D1],["__scopeId","data-v-b6adb3f9"]]);var F1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,ad=ad||{},ht=F1||self;function ul(){}function Kl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Mo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function B1(e){return Object.prototype.hasOwnProperty.call(e,du)&&e[du]||(e[du]=++z1)}var du="closure_uid_"+(1e9*Math.random()>>>0),z1=0;function $1(e,t,n){return e.call.apply(e.bind,arguments)}function V1(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Ne(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ne=$1:Ne=V1,Ne.apply(null,arguments)}function Ia(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Ee(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,r,o){for(var l=Array(arguments.length-2),u=2;u<arguments.length;u++)l[u-2]=arguments[u];return t.prototype[r].apply(i,l)}}function Fi(){this.s=this.s,this.o=this.o}var H1=0;Fi.prototype.s=!1;Fi.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),H1!=0)&&B1(this)};Fi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ld(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Pm(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Kl(i)){const r=e.length||0,o=i.length||0;e.length=r+o;for(let l=0;l<o;l++)e[r+l]=i[l]}else e.push(i)}}function Me(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var j1=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ht.addEventListener("test",ul,t),ht.removeEventListener("test",ul,t)}catch{}return e}();function hl(e){return/^[\s\xa0]*$/.test(e)}var Am=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fu(e,t){return e<t?-1:e>t?1:0}function Zl(){var e=ht.navigator;return e&&(e=e.userAgent)?e:""}function On(e){return Zl().indexOf(e)!=-1}function cd(e){return cd[" "](e),e}cd[" "]=ul;function $v(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}var q1=On("Opera"),nr=On("Trident")||On("MSIE"),Vv=On("Edge"),Yu=Vv||nr,Hv=On("Gecko")&&!(Zl().toLowerCase().indexOf("webkit")!=-1&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),W1=Zl().toLowerCase().indexOf("webkit")!=-1&&!On("Edge");function jv(){var e=ht.document;return e?e.documentMode:void 0}var dl;t:{var pu="",mu=function(){var e=Zl();if(Hv)return/rv:([^\);]+)(\)|;)/.exec(e);if(Vv)return/Edge\/([\d\.]+)/.exec(e);if(nr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(W1)return/WebKit\/(\S+)/.exec(e);if(q1)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(mu&&(pu=mu?mu[1]:""),nr){var gu=jv();if(gu!=null&&gu>parseFloat(pu)){dl=String(gu);break t}}dl=pu}var K1={};function Z1(){return $v(K1,9,function(){let e=0;const t=Am(String(dl)).split("."),n=Am("9").split("."),i=Math.max(t.length,n.length);for(let l=0;e==0&&l<i;l++){var r=t[l]||"",o=n[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],r[0].length==0&&o[0].length==0)break;e=fu(r[1].length==0?0:parseInt(r[1],10),o[1].length==0?0:parseInt(o[1],10))||fu(r[2].length==0,o[2].length==0)||fu(r[2],o[2]),r=r[3],o=o[3]}while(e==0)}return 0<=e})}var Ju;if(ht.document&&nr){var xm=jv();Ju=xm||parseInt(dl,10)||void 0}else Ju=void 0;var G1=Ju;function go(e,t){if(Me.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hv){t:{try{cd(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Q1[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&go.$.h.call(this)}}Ee(go,Me);var Q1={2:"touch",3:"pen",4:"mouse"};go.prototype.h=function(){go.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Do="closure_listenable_"+(1e6*Math.random()|0),X1=0;function Y1(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++X1,this.fa=this.ia=!1}function Gl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ud(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function qv(e){const t={};for(const n in e)t[n]=e[n];return t}const km="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wv(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let o=0;o<km.length;o++)n=km[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Ql(e){this.src=e,this.g={},this.h=0}Ql.prototype.add=function(e,t,n,i,r){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var l=eh(e,t,i,r);return-1<l?(t=e[l],n||(t.ia=!1)):(t=new Y1(t,this.src,o,!!i,r),t.ia=n,e.push(t)),t};function th(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=zv(i,t),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Gl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function eh(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==i)return r}return-1}var hd="closure_lm_"+(1e6*Math.random()|0),_u={};function Kv(e,t,n,i,r){if(i&&i.once)return Gv(e,t,n,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Kv(e,t[o],n,i,r);return null}return n=pd(n),e&&e[Do]?e.O(t,n,Mo(i)?!!i.capture:!!i,r):Zv(e,t,n,!1,i,r)}function Zv(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var l=Mo(r)?!!r.capture:!!r,u=fd(e);if(u||(e[hd]=u=new Ql(e)),n=u.add(t,n,i,l,o),n.proxy)return n;if(i=J1(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)j1||(r=l),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Xv(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function J1(){function e(n){return t.call(e.src,e.listener,n)}const t=tx;return e}function Gv(e,t,n,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Gv(e,t[o],n,i,r);return null}return n=pd(n),e&&e[Do]?e.P(t,n,Mo(i)?!!i.capture:!!i,r):Zv(e,t,n,!0,i,r)}function Qv(e,t,n,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Qv(e,t[o],n,i,r);else i=Mo(i)?!!i.capture:!!i,n=pd(n),e&&e[Do]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=eh(o,n,i,r),-1<n&&(Gl(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=fd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=eh(t,n,i,r)),(n=-1<e?t[e]:null)&&dd(n))}function dd(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Do])th(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Xv(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=fd(t))?(th(n,e),n.h==0&&(n.src=null,t[hd]=null)):Gl(e)}}}function Xv(e){return e in _u?_u[e]:_u[e]="on"+e}function tx(e,t){if(e.fa)e=!0;else{t=new go(t,this);var n=e.listener,i=e.la||e.src;e.ia&&dd(e),e=n.call(i,t)}return e}function fd(e){return e=e[hd],e instanceof Ql?e:null}var vu="__closure_events_fn_"+(1e9*Math.random()>>>0);function pd(e){return typeof e=="function"?e:(e[vu]||(e[vu]=function(t){return e.handleEvent(t)}),e[vu])}function we(){Fi.call(this),this.i=new Ql(this),this.S=this,this.J=null}Ee(we,Fi);we.prototype[Do]=!0;we.prototype.removeEventListener=function(e,t,n,i){Qv(this,e,t,n,i)};function Ce(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Me(t,e);else if(t instanceof Me)t.target=t.target||e;else{var r=t;t=new Me(i,e),Wv(t,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var l=t.g=n[o];r=Ca(l,i,!0,t)&&r}if(l=t.g=e,r=Ca(l,i,!0,t)&&r,r=Ca(l,i,!1,t)&&r,n)for(o=0;o<n.length;o++)l=t.g=n[o],r=Ca(l,i,!1,t)&&r}we.prototype.N=function(){if(we.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Gl(n[i]);delete e.g[t],e.h--}}this.J=null};we.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};we.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ca(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var l=t[o];if(l&&!l.fa&&l.capture==n){var u=l.listener,h=l.la||l.src;l.ia&&th(e.i,l),r=u.call(h,i)!==!1&&r}}return r&&!i.defaultPrevented}var md=ht.JSON.stringify;function ex(){var e=ty;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class nx{constructor(){this.h=this.g=null}add(t,n){const i=Yv.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var Yv=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ix,e=>e.reset());class ix{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sx(e){ht.setTimeout(()=>{throw e},0)}function Jv(e,t){nh||rx(),ih||(nh(),ih=!0),ty.add(e,t)}var nh;function rx(){var e=ht.Promise.resolve(void 0);nh=function(){e.then(ox)}}var ih=!1,ty=new nx;function ox(){for(var e;e=ex();){try{e.h.call(e.g)}catch(n){sx(n)}var t=Yv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ih=!1}function Xl(e,t){we.call(this),this.h=e||1,this.g=t||ht,this.j=Ne(this.qb,this),this.l=Date.now()}Ee(Xl,we);Z=Xl.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ce(this,"tick"),this.ga&&(gd(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Z.N=function(){Xl.$.N.call(this),gd(this),delete this.g};function _d(e,t,n){if(typeof e=="function")n&&(e=Ne(e,n));else if(e&&typeof e.handleEvent=="function")e=Ne(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ht.setTimeout(e,t||0)}function ey(e){e.g=_d(()=>{e.g=null,e.i&&(e.i=!1,ey(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class ax extends Fi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ey(this)}N(){super.N(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(e){Fi.call(this),this.h=e,this.g={}}Ee(_o,Fi);var Rm=[];function ny(e,t,n,i){Array.isArray(n)||(n&&(Rm[0]=n.toString()),n=Rm);for(var r=0;r<n.length;r++){var o=Kv(t,n[r],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function iy(e){ud(e.g,function(t,n){this.g.hasOwnProperty(n)&&dd(t)},e),e.g={}}_o.prototype.N=function(){_o.$.N.call(this),iy(this)};_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yl(){this.g=!0}Yl.prototype.Ea=function(){this.g=!1};function lx(e,t,n,i,r,o){e.info(function(){if(e.g)if(o)for(var l="",u=o.split("&"),h=0;h<u.length;h++){var f=u[h].split("=");if(1<f.length){var m=f[0];f=f[1];var _=m.split("_");l=2<=_.length&&_[1]=="type"?l+(m+"="+f+"&"):l+(m+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+l})}function cx(e,t,n,i,r,o,l){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+o+" "+l})}function $s(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+hx(e,n)+(i?" "+i:"")})}function ux(e,t){e.info(function(){return"TIMEOUT: "+t})}Yl.prototype.info=function(){};function hx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<r.length;l++)r[l]=""}}}}return md(n)}catch{return t}}var Es={},Lm=null;function Jl(){return Lm=Lm||new we}Es.Ta="serverreachability";function sy(e){Me.call(this,Es.Ta,e)}Ee(sy,Me);function vo(e){const t=Jl();Ce(t,new sy(t))}Es.STAT_EVENT="statevent";function ry(e,t){Me.call(this,Es.STAT_EVENT,e),this.stat=t}Ee(ry,Me);function Ve(e){const t=Jl();Ce(t,new ry(t,e))}Es.Ua="timingevent";function oy(e,t){Me.call(this,Es.Ua,e),this.size=t}Ee(oy,Me);function Uo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){e()},t)}var tc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ay={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vd(){}vd.prototype.h=null;function Om(e){return e.h||(e.h=e.i())}function ly(){}var Fo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yd(){Me.call(this,"d")}Ee(yd,Me);function wd(){Me.call(this,"c")}Ee(wd,Me);var sh;function ec(){}Ee(ec,vd);ec.prototype.g=function(){return new XMLHttpRequest};ec.prototype.i=function(){return{}};sh=new ec;function Bo(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new _o(this),this.P=dx,e=Yu?125:void 0,this.V=new Xl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new cy}function cy(){this.i=null,this.g="",this.h=!1}var dx=45e3,rh={},fl={};Z=Bo.prototype;Z.setTimeout=function(e){this.P=e};function oh(e,t,n){e.L=1,e.v=ic(oi(t)),e.s=n,e.S=!0,uy(e,null)}function uy(e,t){e.G=Date.now(),zo(e),e.A=oi(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),vy(n.i,"t",i),e.C=0,n=e.l.I,e.h=new cy,e.g=By(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ax(Ne(e.Pa,e,e.g),e.O)),ny(e.U,e.g,"readystatechange",e.nb),t=e.I?qv(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),vo(),lx(e.j,e.u,e.A,e.m,e.W,e.s)}Z.nb=function(e){e=e.target;const t=this.M;t&&Jn(e)==3?t.l():this.Pa(e)};Z.Pa=function(e){try{if(e==this.g)t:{const m=Jn(this.g);var t=this.g.Ia();const _=this.g.da();if(!(3>m)&&(m!=3||Yu||this.g&&(this.h.h||this.g.ja()||Um(this.g)))){this.J||m!=4||t==7||(t==8||0>=_?vo(3):vo(2)),nc(this);var n=this.g.da();this.aa=n;e:if(hy(this)){var i=Um(this.g);e="";var r=i.length,o=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Yr(this);var l="";break e}this.h.i=new ht.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,cx(this.j,this.u,this.A,this.m,this.W,m,n),this.i){if(this.ba&&!this.K){e:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hl(u)){var f=u;break e}}f=null}if(n=f)$s(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ah(this,n);else{this.i=!1,this.o=3,Ve(12),ns(this),Yr(this);break t}}this.S?(dy(this,m,l),Yu&&this.i&&m==3&&(ny(this.U,this.V,"tick",this.mb),this.V.start())):($s(this.j,this.m,l,null),ah(this,l)),m==4&&ns(this),this.i&&!this.J&&(m==4?My(this.l,this):(this.i=!1,zo(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Ve(12)):(this.o=0,Ve(13)),ns(this),Yr(this)}}}catch{}finally{}};function hy(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function dy(e,t,n){let i=!0,r;for(;!e.J&&e.C<n.length;)if(r=fx(e,n),r==fl){t==4&&(e.o=4,Ve(14),i=!1),$s(e.j,e.m,null,"[Incomplete Response]");break}else if(r==rh){e.o=4,Ve(15),$s(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else $s(e.j,e.m,r,null),ah(e,r);hy(e)&&r!=fl&&r!=rh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ve(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,t=e.l,t.g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pd(t),t.L=!0,Ve(11))):($s(e.j,e.m,n,"[Invalid Chunked Response]"),ns(e),Yr(e))}Z.mb=function(){if(this.g){var e=Jn(this.g),t=this.g.ja();this.C<t.length&&(nc(this),dy(this,e,t),this.i&&e!=4&&zo(this))}};function fx(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?fl:(n=Number(t.substring(n,i)),isNaN(n)?rh:(i+=1,i+n>t.length?fl:(t=t.substr(i,n),e.C=i+n,t)))}Z.cancel=function(){this.J=!0,ns(this)};function zo(e){e.Y=Date.now()+e.P,fy(e,e.P)}function fy(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Uo(Ne(e.lb,e),t)}function nc(e){e.B&&(ht.clearTimeout(e.B),e.B=null)}Z.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(ux(this.j,this.A),this.L!=2&&(vo(),Ve(17)),ns(this),this.o=2,Yr(this)):fy(this,this.Y-e)};function Yr(e){e.l.H==0||e.J||My(e.l,e)}function ns(e){nc(e);var t=e.M;t&&typeof t.ra=="function"&&t.ra(),e.M=null,gd(e.V),iy(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function ah(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||lh(n.h,e))){if(!e.K&&lh(n.h,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)gl(n),oc(n);else break t;Sd(n),Ve(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&n.A==0&&!n.v&&(n.v=Uo(Ne(n.ib,n),6e3));if(1>=Ey(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else is(n,11)}else if((e.K||n.g==e)&&gl(n),!hl(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.J=f[1],n.oa=f[2];const m=f[3];m!=null&&(n.qa=m,n.j.info("VER="+n.qa));const _=f[4];_!=null&&(n.Ga=_,n.j.info("SVER="+n.Ga));const v=f[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,n.K=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const T=e.g;if(T){const S=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var o=i.h;o.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Ed(o,o.h),o.h=null))}if(i.F){const I=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(i.Da=I,Xt(i.G,i.F,I))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms")),i=n;var l=e;if(i.wa=Fy(i,i.I?i.oa:null,i.Y),l.K){Ty(i.h,l);var u=l,h=i.K;h&&u.setTimeout(h),u.B&&(nc(u),zo(u)),i.g=l}else Oy(i);0<n.i.length&&ac(n)}else f[0]!="stop"&&f[0]!="close"||is(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?is(n,7):Cd(n):f[0]!="noop"&&n.l&&n.l.Aa(f),n.A=0)}}vo(4)}catch{}}function px(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Kl(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function mx(e){if(e.sa&&typeof e.sa=="function")return e.sa();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Kl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function py(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Kl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=mx(e),i=px(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}var my=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ls(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ls){this.h=t!==void 0?t:e.h,pl(this,e.j),this.s=e.s,this.g=e.g,ml(this,e.m),this.l=e.l,t=e.i;var n=new yo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nm(this,n),this.o=e.o}else e&&(n=String(e).match(my))?(this.h=!!t,pl(this,n[1]||"",!0),this.s=Hr(n[2]||""),this.g=Hr(n[3]||"",!0),ml(this,n[4]),this.l=Hr(n[5]||"",!0),Nm(this,n[6]||"",!0),this.o=Hr(n[7]||"")):(this.h=!!t,this.i=new yo(null,this.h))}ls.prototype.toString=function(){var e=[],t=this.j;t&&e.push(jr(t,Mm,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(jr(t,Mm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(jr(n,n.charAt(0)=="/"?yx:vx,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",jr(n,Ex)),e.join("")};function oi(e){return new ls(e)}function pl(e,t,n){e.j=n?Hr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ml(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nm(e,t,n){t instanceof yo?(e.i=t,Tx(e.i,e.h)):(n||(t=jr(t,wx)),e.i=new yo(t,e.h))}function Xt(e,t,n){e.i.set(t,n)}function ic(e){return Xt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jr(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,_x),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _x(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Mm=/[#\/\?@]/g,vx=/[#\?:]/g,yx=/[#\?]/g,wx=/[#\?@]/g,Ex=/#/g;function yo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bi(e){e.g||(e.g=new Map,e.h=0,e.i&&gx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Z=yo.prototype;Z.add=function(e,t){Bi(this),this.i=null,e=_r(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function gy(e,t){Bi(e),t=_r(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _y(e,t){return Bi(e),t=_r(e,t),e.g.has(t)}Z.forEach=function(e,t){Bi(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};Z.sa=function(){Bi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let o=0;o<r.length;o++)n.push(t[i])}return n};Z.Z=function(e){Bi(this);let t=[];if(typeof e=="string")_y(this,e)&&(t=t.concat(this.g.get(_r(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Z.set=function(e,t){return Bi(this),this.i=null,e=_r(this,e),_y(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Z.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function vy(e,t,n){gy(e,t),0<n.length&&(e.i=null,e.g.set(_r(e,t),ld(n)),e.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=o;l[i]!==""&&(r+="="+encodeURIComponent(String(l[i]))),e.push(r)}}return this.i=e.join("&")};function _r(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tx(e,t){t&&!e.j&&(Bi(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(gy(this,i),vy(this,r,n))},e)),e.j=t}var bx=class{constructor(e,t){this.h=e,this.g=t}};function yy(e){this.l=e||Ix,ht.PerformanceNavigationTiming?(e=ht.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ht.g&&ht.g.Ka&&ht.g.Ka()&&ht.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ix=10;function wy(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Ey(e){return e.h?1:e.g?e.g.size:0}function lh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ed(e,t){e.g?e.g.add(t):e.h=t}function Ty(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}yy.prototype.cancel=function(){if(this.i=by(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function by(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ld(e.i)}function Td(){}Td.prototype.stringify=function(e){return ht.JSON.stringify(e,void 0)};Td.prototype.parse=function(e){return ht.JSON.parse(e,void 0)};function Cx(){this.g=new Td}function Sx(e,t,n){const i=n||"";try{py(e,function(r,o){let l=r;Mo(r)&&(l=md(r)),t.push(i+o+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Px(e,t){const n=new Yl;if(ht.Image){const i=new Image;i.onload=Ia(Sa,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Ia(Sa,n,i,"TestLoadImage: error",!1,t),i.onabort=Ia(Sa,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ia(Sa,n,i,"TestLoadImage: timeout",!1,t),ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Sa(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function $o(e){this.l=e.fc||null,this.j=e.ob||!1}Ee($o,vd);$o.prototype.g=function(){return new sc(this.l,this.j)};$o.prototype.i=function(e){return function(){return e}}({});function sc(e,t){we.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ee(sc,we);var bd=0;Z=sc.prototype;Z.open=function(e,t){if(this.readyState!=bd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wo(this)};Z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ht).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=bd};Z.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wo(this)),this.g&&(this.readyState=3,wo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ht.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Iy(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Iy(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Z.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vo(this):wo(this),this.readyState==3&&Iy(this)}};Z.Za=function(e){this.g&&(this.response=this.responseText=e,Vo(this))};Z.Ya=function(e){this.g&&(this.response=e,Vo(this))};Z.ka=function(){this.g&&Vo(this)};function Vo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wo(e)}Z.setRequestHeader=function(e,t){this.v.append(e,t)};Z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function wo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Ax=ht.JSON.parse;function ie(e){we.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cy,this.L=this.M=!1}Ee(ie,we);var Cy="",xx=/^https?$/i,kx=["POST","PUT"];Z=ie.prototype;Z.Oa=function(e){this.M=e};Z.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sh.g(),this.C=this.u?Om(this.u):Om(sh),this.g.onreadystatechange=Ne(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){Dm(this,o);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=ht.FormData&&e instanceof ht.FormData,!(0<=zv(kx,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ay(this),0<this.B&&((this.L=Rx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.ua,this)):this.A=_d(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Dm(this,o)}};function Rx(e){return nr&&Z1()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Z.ua=function(){typeof ad<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))};function Dm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Sy(e),rc(e)}function Sy(e){e.F||(e.F=!0,Ce(e,"complete"),Ce(e,"error"))}Z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),rc(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rc(this,!0)),ie.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?Py(this):this.kb())};Z.kb=function(){Py(this)};function Py(e){if(e.h&&typeof ad<"u"&&(!e.C[1]||Jn(e)!=4||e.da()!=2)){if(e.v&&Jn(e)==4)_d(e.La,0,e);else if(Ce(e,"readystatechange"),Jn(e)==4){e.h=!1;try{const u=e.da();t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=u===0){var r=String(e.I).match(my)[1]||null;if(!r&&ht.self&&ht.self.location){var o=ht.self.location.protocol;r=o.substr(0,o.length-1)}i=!xx.test(r?r.toLowerCase():"")}n=i}if(n)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var l=2<Jn(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.da()+"]",Sy(e)}}finally{rc(e)}}}}function rc(e,t){if(e.g){Ay(e);const n=e.g,i=e.C[0]?ul:null;e.g=null,e.C=null,t||Ce(e,"ready");try{n.onreadystatechange=i}catch{}}}function Ay(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ht.clearTimeout(e.A),e.A=null)}function Jn(e){return e.g?e.g.readyState:0}Z.da=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Ax(t)}};function Um(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Cy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function xy(e){let t="";return ud(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Id(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=xy(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Xt(e,t,n))}function Ur(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ky(e){this.Ga=0,this.i=[],this.j=new Yl,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ur("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ur("baseRetryDelayMs",5e3,e),this.hb=Ur("retryDelaySeedMs",1e4,e),this.eb=Ur("forwardChannelMaxRetries",2,e),this.xa=Ur("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new yy(e&&e.concurrentRequestLimit),this.Ja=new Cx,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}Z=ky.prototype;Z.qa=8;Z.H=1;function Cd(e){if(Ry(e),e.H==3){var t=e.W++,n=oi(e.G);Xt(n,"SID",e.J),Xt(n,"RID",t),Xt(n,"TYPE","terminate"),Ho(e,n),t=new Bo(e,e.j,t,void 0),t.L=2,t.v=ic(oi(n)),n=!1,ht.navigator&&ht.navigator.sendBeacon&&(n=ht.navigator.sendBeacon(t.v.toString(),"")),!n&&ht.Image&&(new Image().src=t.v,n=!0),n||(t.g=By(t.l,null),t.g.ha(t.v)),t.G=Date.now(),zo(t)}Uy(e)}function oc(e){e.g&&(Pd(e),e.g.cancel(),e.g=null)}function Ry(e){oc(e),e.u&&(ht.clearTimeout(e.u),e.u=null),gl(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&ht.clearTimeout(e.m),e.m=null)}function ac(e){wy(e.h)||e.m||(e.m=!0,Jv(e.Na,e),e.C=0)}function Lx(e,t){return Ey(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.F.concat(e.i),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Uo(Ne(e.Na,e,t),Dy(e,e.C)),e.C++,!0)}Z.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new Bo(this,this.j,e,void 0);let o=this.s;if(this.U&&(o?(o=qv(o),Wv(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)t:{for(var t=0,n=0;n<this.i.length;n++){e:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.i.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Ly(this,r,t),n=oi(this.G),Xt(n,"RID",e),Xt(n,"CVER",22),this.F&&Xt(n,"X-HTTP-Session-Id",this.F),Ho(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(xy(o)))+"&"+t:this.o&&Id(n,this.o,o)),Ed(this.h,r),this.bb&&Xt(n,"TYPE","init"),this.P?(Xt(n,"$req",t),Xt(n,"SID","null"),r.ba=!0,oh(r,n,null)):oh(r,n,t),this.H=2}}else this.H==3&&(e?Fm(this,e):this.i.length==0||wy(this.h)||Fm(this))};function Fm(e,t){var n;t?n=t.m:n=e.W++;const i=oi(e.G);Xt(i,"SID",e.J),Xt(i,"RID",n),Xt(i,"AID",e.V),Ho(e,i),e.o&&e.s&&Id(i,e.o,e.s),n=new Bo(e,e.j,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Ly(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ed(e.h,n),oh(n,i,t)}function Ho(e,t){e.ma&&ud(e.ma,function(n,i){Xt(t,i,n)}),e.l&&py({},function(n,i){Xt(t,i,n)})}function Ly(e,t,n){n=Math.min(e.i.length,n);var i=e.l?Ne(e.l.Va,e.l,e):null;t:{var r=e.i;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=r[0].h,l.push("ofs="+o)):o=0:l.push("ofs="+o);let u=!0;for(let h=0;h<n;h++){let f=r[h].h;const m=r[h].g;if(f-=o,0>f)o=Math.max(0,r[h].h-100),u=!1;else try{Sx(m,l,"req"+f+"_")}catch{i&&i(m)}}if(u){i=l.join("&");break t}}}return e=e.i.splice(0,n),t.F=e,i}function Oy(e){e.g||e.u||(e.ba=1,Jv(e.Ma,e),e.A=0)}function Sd(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Uo(Ne(e.Ma,e),Dy(e,e.A)),e.A++,!0)}Z.Ma=function(){if(this.u=null,Ny(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Uo(Ne(this.jb,this),e)}};Z.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ve(10),oc(this),Ny(this))};function Pd(e){e.B!=null&&(ht.clearTimeout(e.B),e.B=null)}function Ny(e){e.g=new Bo(e,e.j,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=oi(e.wa);Xt(t,"RID","rpc"),Xt(t,"SID",e.J),Xt(t,"CI",e.M?"0":"1"),Xt(t,"AID",e.V),Xt(t,"TYPE","xmlhttp"),Ho(e,t),e.o&&e.s&&Id(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=ic(oi(t)),n.s=null,n.S=!0,uy(n,e)}Z.ib=function(){this.v!=null&&(this.v=null,oc(this),Sd(this),Ve(19))};function gl(e){e.v!=null&&(ht.clearTimeout(e.v),e.v=null)}function My(e,t){var n=null;if(e.g==t){gl(e),Pd(e),e.g=null;var i=2}else if(lh(e.h,t))n=t.F,Ty(e.h,t),i=1;else return;if(e.H!=0){if(e.ta=t.aa,t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;i=Jl(),Ce(i,new oy(i,n)),ac(e)}else Oy(e);else if(r=t.o,r==3||r==0&&0<e.ta||!(i==1&&Lx(e,t)||i==2&&Sd(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:is(e,5);break;case 4:is(e,10);break;case 3:is(e,6);break;default:is(e,2)}}}function Dy(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function is(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var i=Ne(e.pb,e);n||(n=new ls("//www.google.com/images/cleardot.gif"),ht.location&&ht.location.protocol=="http"||pl(n,"https"),ic(n)),Px(n.toString(),i)}else Ve(2);e.H=0,e.l&&e.l.za(t),Uy(e),Ry(e)}Z.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Uy(e){if(e.H=0,e.pa=[],e.l){const t=by(e.h);(t.length!=0||e.i.length!=0)&&(Pm(e.pa,t),Pm(e.pa,e.i),e.h.i.length=0,ld(e.i),e.i.length=0),e.l.ya()}}function Fy(e,t,n){var i=n instanceof ls?oi(n):new ls(n,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),ml(i,i.m);else{var r=ht.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new ls(null,void 0);i&&pl(o,i),t&&(o.g=t),r&&ml(o,r),n&&(o.l=n),i=o}return n=e.F,t=e.Da,n&&t&&Xt(i,n,t),Xt(i,"VER",e.qa),Ho(e,i),i}function By(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new ie(new $o({ob:!0})):new ie(e.va),t.Oa(e.I),t}function zy(){}Z=zy.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.Va=function(){};function _l(){if(nr&&!(10<=Number(G1)))throw Error("Environmental error: no available transport.")}_l.prototype.g=function(e,t){return new Qe(e,t)};function Qe(e,t){we.call(this),this.g=new ky(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!hl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hl(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new vr(this)}Ee(Qe,we);Qe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Ve(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Fy(e,null,e.Y),ac(e)};Qe.prototype.close=function(){Cd(this.g)};Qe.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=md(e),e=n);t.i.push(new bx(t.fb++,e)),t.H==3&&ac(t)};Qe.prototype.N=function(){this.g.l=null,delete this.j,Cd(this.g),delete this.g,Qe.$.N.call(this)};function $y(e){yd.call(this);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ee($y,yd);function Vy(){wd.call(this),this.status=1}Ee(Vy,wd);function vr(e){this.g=e}Ee(vr,zy);vr.prototype.Ba=function(){Ce(this.g,"a")};vr.prototype.Aa=function(e){Ce(this.g,new $y(e))};vr.prototype.za=function(e){Ce(this.g,new Vy)};vr.prototype.ya=function(){Ce(this.g,"b")};function Ox(){this.blockSize=-1}function bn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ee(bn,Ox);bn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function yu(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var o=e.g[3],l=t+(o^n&(r^o))+i[0]+3614090360&4294967295;t=n+(l<<7&4294967295|l>>>25),l=o+(r^t&(n^r))+i[1]+3905402710&4294967295,o=t+(l<<12&4294967295|l>>>20),l=r+(n^o&(t^n))+i[2]+606105819&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(t^r&(o^t))+i[3]+3250441966&4294967295,n=r+(l<<22&4294967295|l>>>10),l=t+(o^n&(r^o))+i[4]+4118548399&4294967295,t=n+(l<<7&4294967295|l>>>25),l=o+(r^t&(n^r))+i[5]+1200080426&4294967295,o=t+(l<<12&4294967295|l>>>20),l=r+(n^o&(t^n))+i[6]+2821735955&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(t^r&(o^t))+i[7]+4249261313&4294967295,n=r+(l<<22&4294967295|l>>>10),l=t+(o^n&(r^o))+i[8]+1770035416&4294967295,t=n+(l<<7&4294967295|l>>>25),l=o+(r^t&(n^r))+i[9]+2336552879&4294967295,o=t+(l<<12&4294967295|l>>>20),l=r+(n^o&(t^n))+i[10]+4294925233&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(t^r&(o^t))+i[11]+2304563134&4294967295,n=r+(l<<22&4294967295|l>>>10),l=t+(o^n&(r^o))+i[12]+1804603682&4294967295,t=n+(l<<7&4294967295|l>>>25),l=o+(r^t&(n^r))+i[13]+4254626195&4294967295,o=t+(l<<12&4294967295|l>>>20),l=r+(n^o&(t^n))+i[14]+2792965006&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(t^r&(o^t))+i[15]+1236535329&4294967295,n=r+(l<<22&4294967295|l>>>10),l=t+(r^o&(n^r))+i[1]+4129170786&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(t^n))+i[6]+3225465664&4294967295,o=t+(l<<9&4294967295|l>>>23),l=r+(t^n&(o^t))+i[11]+643717713&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(r^o))+i[0]+3921069994&4294967295,n=r+(l<<20&4294967295|l>>>12),l=t+(r^o&(n^r))+i[5]+3593408605&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(t^n))+i[10]+38016083&4294967295,o=t+(l<<9&4294967295|l>>>23),l=r+(t^n&(o^t))+i[15]+3634488961&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(r^o))+i[4]+3889429448&4294967295,n=r+(l<<20&4294967295|l>>>12),l=t+(r^o&(n^r))+i[9]+568446438&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(t^n))+i[14]+3275163606&4294967295,o=t+(l<<9&4294967295|l>>>23),l=r+(t^n&(o^t))+i[3]+4107603335&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(r^o))+i[8]+1163531501&4294967295,n=r+(l<<20&4294967295|l>>>12),l=t+(r^o&(n^r))+i[13]+2850285829&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(t^n))+i[2]+4243563512&4294967295,o=t+(l<<9&4294967295|l>>>23),l=r+(t^n&(o^t))+i[7]+1735328473&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(r^o))+i[12]+2368359562&4294967295,n=r+(l<<20&4294967295|l>>>12),l=t+(n^r^o)+i[5]+4294588738&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^r)+i[8]+2272392833&4294967295,o=t+(l<<11&4294967295|l>>>21),l=r+(o^t^n)+i[11]+1839030562&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^t)+i[14]+4259657740&4294967295,n=r+(l<<23&4294967295|l>>>9),l=t+(n^r^o)+i[1]+2763975236&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^r)+i[4]+1272893353&4294967295,o=t+(l<<11&4294967295|l>>>21),l=r+(o^t^n)+i[7]+4139469664&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^t)+i[10]+3200236656&4294967295,n=r+(l<<23&4294967295|l>>>9),l=t+(n^r^o)+i[13]+681279174&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^r)+i[0]+3936430074&4294967295,o=t+(l<<11&4294967295|l>>>21),l=r+(o^t^n)+i[3]+3572445317&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^t)+i[6]+76029189&4294967295,n=r+(l<<23&4294967295|l>>>9),l=t+(n^r^o)+i[9]+3654602809&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^r)+i[12]+3873151461&4294967295,o=t+(l<<11&4294967295|l>>>21),l=r+(o^t^n)+i[15]+530742520&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^t)+i[2]+3299628645&4294967295,n=r+(l<<23&4294967295|l>>>9),l=t+(r^(n|~o))+i[0]+4096336452&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~r))+i[7]+1126891415&4294967295,o=t+(l<<10&4294967295|l>>>22),l=r+(t^(o|~n))+i[14]+2878612391&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~t))+i[5]+4237533241&4294967295,n=r+(l<<21&4294967295|l>>>11),l=t+(r^(n|~o))+i[12]+1700485571&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~r))+i[3]+2399980690&4294967295,o=t+(l<<10&4294967295|l>>>22),l=r+(t^(o|~n))+i[10]+4293915773&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~t))+i[1]+2240044497&4294967295,n=r+(l<<21&4294967295|l>>>11),l=t+(r^(n|~o))+i[8]+1873313359&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~r))+i[15]+4264355552&4294967295,o=t+(l<<10&4294967295|l>>>22),l=r+(t^(o|~n))+i[6]+2734768916&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~t))+i[13]+1309151649&4294967295,n=r+(l<<21&4294967295|l>>>11),l=t+(r^(n|~o))+i[4]+4149444226&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~r))+i[11]+3174756917&4294967295,o=t+(l<<10&4294967295|l>>>22),l=r+(t^(o|~n))+i[2]+718787259&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+o&4294967295}bn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(r==0)for(;o<=n;)yu(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(i[r++]=e.charCodeAt(o++),r==this.blockSize){yu(this,i),r=0;break}}else for(;o<t;)if(i[r++]=e[o++],r==this.blockSize){yu(this,i),r=0;break}}this.h=r,this.i+=t};bn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function Ht(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var o=e[r]|0;i&&o==t||(n[r]=o,i=!1)}this.g=n}var Nx={};function Ad(e){return-128<=e&&128>e?$v(Nx,e,function(t){return new Ht([t|0],0>t?-1:0)}):new Ht([e|0],0>e?-1:0)}function Nn(e){if(isNaN(e)||!isFinite(e))return Zs;if(0>e)return Ie(Nn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=ch;return new Ht(t,0)}function Hy(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ie(Hy(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(t,8)),i=Zs,r=0;r<e.length;r+=8){var o=Math.min(8,e.length-r),l=parseInt(e.substring(r,r+o),t);8>o?(o=Nn(Math.pow(t,o)),i=i.R(o).add(Nn(l))):(i=i.R(n),i=i.add(Nn(l)))}return i}var ch=4294967296,Zs=Ad(0),uh=Ad(1),Bm=Ad(16777216);Z=Ht.prototype;Z.ea=function(){if(on(this))return-Ie(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:ch+i)*t,t*=ch}return e};Z.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ti(this))return"0";if(on(this))return"-"+Ie(this).toString(e);for(var t=Nn(Math.pow(e,6)),n=this,i="";;){var r=yl(n,t).g;n=vl(n,r.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=r,ti(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};Z.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ti(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function on(e){return e.h==-1}Z.X=function(e){return e=vl(this,e),on(e)?-1:ti(e)?0:1};function Ie(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Ht(n,~e.h).add(uh)}Z.abs=function(){return on(this)?Ie(this):this};Z.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var o=i+(this.D(r)&65535)+(e.D(r)&65535),l=(o>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=l>>>16,o&=65535,l&=65535,n[r]=l<<16|o}return new Ht(n,n[n.length-1]&-2147483648?-1:0)};function vl(e,t){return e.add(Ie(t))}Z.R=function(e){if(ti(this)||ti(e))return Zs;if(on(this))return on(e)?Ie(this).R(Ie(e)):Ie(Ie(this).R(e));if(on(e))return Ie(this.R(Ie(e)));if(0>this.X(Bm)&&0>e.X(Bm))return Nn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var o=this.D(i)>>>16,l=this.D(i)&65535,u=e.D(r)>>>16,h=e.D(r)&65535;n[2*i+2*r]+=l*h,Pa(n,2*i+2*r),n[2*i+2*r+1]+=o*h,Pa(n,2*i+2*r+1),n[2*i+2*r+1]+=l*u,Pa(n,2*i+2*r+1),n[2*i+2*r+2]+=o*u,Pa(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Ht(n,0)};function Pa(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Fr(e,t){this.g=e,this.h=t}function yl(e,t){if(ti(t))throw Error("division by zero");if(ti(e))return new Fr(Zs,Zs);if(on(e))return t=yl(Ie(e),t),new Fr(Ie(t.g),Ie(t.h));if(on(t))return t=yl(e,Ie(t)),new Fr(Ie(t.g),t.h);if(30<e.g.length){if(on(e)||on(t))throw Error("slowDivide_ only works with positive integers.");for(var n=uh,i=t;0>=i.X(e);)n=zm(n),i=zm(i);var r=Ns(n,1),o=Ns(i,1);for(i=Ns(i,2),n=Ns(n,2);!ti(i);){var l=o.add(i);0>=l.X(e)&&(r=r.add(n),o=l),i=Ns(i,1),n=Ns(n,1)}return t=vl(e,r.R(t)),new Fr(r,t)}for(r=Zs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Nn(n),l=o.R(t);on(l)||0<l.X(e);)n-=i,o=Nn(n),l=o.R(t);ti(o)&&(o=uh),r=r.add(o),e=vl(e,l)}return new Fr(r,e)}Z.gb=function(e){return yl(this,e).h};Z.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Ht(n,this.h&e.h)};Z.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Ht(n,this.h|e.h)};Z.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Ht(n,this.h^e.h)};function zm(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Ht(n,e.h)}function Ns(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],o=0;o<i;o++)r[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Ht(r,e.h)}_l.prototype.createWebChannel=_l.prototype.g;Qe.prototype.send=Qe.prototype.u;Qe.prototype.open=Qe.prototype.m;Qe.prototype.close=Qe.prototype.close;tc.NO_ERROR=0;tc.TIMEOUT=8;tc.HTTP_ERROR=6;ay.COMPLETE="complete";ly.EventType=Fo;Fo.OPEN="a";Fo.CLOSE="b";Fo.ERROR="c";Fo.MESSAGE="d";we.prototype.listen=we.prototype.O;ie.prototype.listenOnce=ie.prototype.P;ie.prototype.getLastError=ie.prototype.Sa;ie.prototype.getLastErrorCode=ie.prototype.Ia;ie.prototype.getStatus=ie.prototype.da;ie.prototype.getResponseJson=ie.prototype.Wa;ie.prototype.getResponseText=ie.prototype.ja;ie.prototype.send=ie.prototype.ha;ie.prototype.setWithCredentials=ie.prototype.Oa;bn.prototype.digest=bn.prototype.l;bn.prototype.reset=bn.prototype.reset;bn.prototype.update=bn.prototype.j;Ht.prototype.add=Ht.prototype.add;Ht.prototype.multiply=Ht.prototype.R;Ht.prototype.modulo=Ht.prototype.gb;Ht.prototype.compare=Ht.prototype.X;Ht.prototype.toNumber=Ht.prototype.ea;Ht.prototype.toString=Ht.prototype.toString;Ht.prototype.getBits=Ht.prototype.D;Ht.fromNumber=Nn;Ht.fromString=Hy;var Mx=function(){return new _l},Dx=function(){return Jl()},wu=tc,Ux=ay,Fx=Es,$m={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bx=$o,Aa=ly,zx=ie,$x=bn,Gs=Ht;const Vm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Zh("@firebase/firestore");function Hm(){return ms.logLevel}function tt(e,...t){if(ms.logLevel<=Rt.DEBUG){const n=t.map(xd);ms.debug(`Firestore (${yr}): ${e}`,...n)}}function ai(e,...t){if(ms.logLevel<=Rt.ERROR){const n=t.map(xd);ms.error(`Firestore (${yr}): ${e}`,...n)}}function ir(e,...t){if(ms.logLevel<=Rt.WARN){const n=t.map(xd);ms.warn(`Firestore (${yr}): ${e}`,...n)}}function xd(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e="Unexpected state"){const t=`FIRESTORE (${yr}) INTERNAL ASSERTION FAILED: `+e;throw ai(t),new Error(t)}function Zt(e,t){e||ut()}function _t(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Hn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ae.UNAUTHENTICATED))}shutdown(){}}class Hx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jx{constructor(t){this.t=t,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ki,t.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;t.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ki)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Zt(typeof i.accessToken=="string"),new jy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string"),new Ae(t)}}class qx{constructor(t,n,i){this.h=t,this.l=n,this.m=i,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Wx{constructor(t,n,i){this.h=t,this.l=n,this.m=i}getToken(){return Promise.resolve(new qx(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zx{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const i=o=>{o.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,tt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Zt(typeof n.token=="string"),this.T=n.token,new Kx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Gx(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=t.charAt(r[o]%t.length))}return i}}function Dt(e,t){return e<t?-1:e>t?1:0}function sr(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new pe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new dt(t)}static min(){return new dt(new pe(0,0))}static max(){return new dt(new pe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n,i){n===void 0?n=0:n>t.length&&ut(),i===void 0?i=t.length-n:i>t.length-n&&ut(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Eo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Eo?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const o=t.get(r),l=n.get(r);if(o<l)return-1;if(o>l)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Kt extends Eo{construct(t,n,i){return new Kt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new J(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Kt(n)}static emptyPath(){return new Kt([])}}const Qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Re extends Eo{construct(t,n,i){return new Re(t,n,i)}static isValidIdentifier(t){return Qx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Re.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Re(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new J(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new J(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new J(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new J(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Re(n)}static emptyPath(){return new Re([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.path=t}static fromPath(t){return new st(Kt.fromString(t))}static fromName(t){return new st(Kt.fromString(t).popFirst(5))}static empty(){return new st(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new st(new Kt(t.slice()))}}function Xx(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=dt.fromTimestamp(i===1e9?new pe(n+1,0):new pe(n,i));return new Mi(r,st.empty(),t)}function Yx(e){return new Mi(e.readTime,e.key,-1)}class Mi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Mi(dt.min(),st.empty(),-1)}static max(){return new Mi(dt.max(),st.empty(),-1)}}function Jx(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=st.comparator(e.documentKey,t.documentKey),n!==0?n:Dt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ek{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==tk)throw e;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new z((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):z.reject(n)}static resolve(t){return new z((n,i)=>{n(t)})}static reject(t){return new z((n,i)=>{i(t)})}static waitFor(t){return new z((n,i)=>{let r=0,o=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&n()},h=>i(h))}),l=!0,o===r&&n()})}static or(t){let n=z.resolve(!1);for(const i of t)n=n.next(r=>r?z.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(t,n){return new z((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(t[f]).next(m=>{l[f]=m,++u,u===o&&i(l)},m=>r(m))}})}static doWhile(t,n){return new z((i,r)=>{const o=()=>{t()===!0?n().next(()=>{o()},r):i()};o()})}}function qo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}kd.ct=-1;function lc(e){return e==null}function wl(e){return e===0&&1/e==-1/0}function nk(e){return typeof e=="number"&&Number.isInteger(e)&&!wl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||be.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,be.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xa(this.root,t,this.comparator,!1)}getReverseIterator(){return new xa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xa(this.root,t,this.comparator,!0)}}class xa{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class be{constructor(t,n,i,r,o){this.key=t,this.value=n,this.color=i??be.RED,this.left=r??be.EMPTY,this.right=o??be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,o){return new be(t??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return be.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}be.EMPTY=null,be.RED=!0,be.BLACK=!1;be.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(e,t,n,i,r){return this}insert(e,t,n){return new be(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new qm(this.data.getIterator())}getIteratorFrom(t){return new qm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class qm{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(Re.comparator)}static empty(){return new yn([])}unionWith(t){let n=new De(Re.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return sr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Ky("Invalid base64 string: "+r):r}}(t);return new Be(n)}static fromUint8Array(t){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(e){if(Zt(!!e),typeof e=="string"){let t=0;const n=ik.exec(e);if(Zt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:de(e.seconds),nanos:de(e.nanos)}}function de(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gs(e){return typeof e=="string"?Be.fromBase64String(e):Be.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ld(e){const t=e.mapValue.fields.__previous_value__;return Rd(t)?Ld(t):t}function To(e){const t=Di(e.mapValue.fields.__local_write_time__.timestampValue);return new pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t,n,i,r,o,l,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class bo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _s(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rd(e)?4:rk(e)?9007199254740991:10:ut()}function $n(e,t){if(e===t)return!0;const n=_s(e);if(n!==_s(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return To(e).isEqual(To(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Di(i.timestampValue),l=Di(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return gs(i.bytesValue).isEqual(gs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return de(i.geoPointValue.latitude)===de(r.geoPointValue.latitude)&&de(i.geoPointValue.longitude)===de(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return de(i.integerValue)===de(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=de(i.doubleValue),l=de(r.doubleValue);return o===l?wl(o)===wl(l):isNaN(o)&&isNaN(l)}return!1}(e,t);case 9:return sr(e.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(jm(o)!==jm(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!$n(o[u],l[u])))return!1;return!0}(e,t);default:return ut()}}function Io(e,t){return(e.values||[]).find(n=>$n(n,t))!==void 0}function rr(e,t){if(e===t)return 0;const n=_s(e),i=_s(t);if(n!==i)return Dt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(e.booleanValue,t.booleanValue);case 2:return function(r,o){const l=de(r.integerValue||r.doubleValue),u=de(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return Wm(e.timestampValue,t.timestampValue);case 4:return Wm(To(e),To(t));case 5:return Dt(e.stringValue,t.stringValue);case 6:return function(r,o){const l=gs(r),u=gs(o);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const l=r.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Dt(l[h],u[h]);if(f!==0)return f}return Dt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const l=Dt(de(r.latitude),de(o.latitude));return l!==0?l:Dt(de(r.longitude),de(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,o){const l=r.values||[],u=o.values||[];for(let h=0;h<l.length&&h<u.length;++h){const f=rr(l[h],u[h]);if(f)return f}return Dt(l.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ka.mapValue&&o===ka.mapValue)return 0;if(r===ka.mapValue)return 1;if(o===ka.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const _=Dt(u[m],f[m]);if(_!==0)return _;const v=rr(l[u[m]],h[f[m]]);if(v!==0)return v}return Dt(u.length,f.length)}(e.mapValue,t.mapValue);default:throw ut()}}function Wm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Dt(e,t);const n=Di(e),i=Di(t),r=Dt(n.seconds,i.seconds);return r!==0?r:Dt(n.nanos,i.nanos)}function or(e){return hh(e)}function hh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const r=Di(i);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,st.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(i){let r="[",o=!0;for(const l of i.values||[])o?o=!1:r+=",",r+=hh(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${hh(i.fields[u])}`;return o+"}"}(e.mapValue):ut();var t,n}function Km(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function dh(e){return!!e&&"integerValue"in e}function Od(e){return!!e&&"arrayValue"in e}function Zm(e){return!!e&&"nullValue"in e}function Gm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wa(e){return!!e&&"mapValue"in e}function Jr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Jr(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rk(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Wa(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jr(n)}setAll(t){let n=Re.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=u.popLast()}l?i[u.lastSegment()]=Jr(l):r.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(t){const n=this.field(t.popLast());Wa(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Wa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){wr(n,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new an(Jr(this.value))}}function Zy(e){const t=[];return wr(e.fields,(n,i)=>{const r=new Re([n]);if(Wa(i)){const o=Zy(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,n,i,r,o,l,u){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new xe(t,0,dt.min(),dt.min(),dt.min(),an.empty(),0)}static newFoundDocument(t,n,i,r){return new xe(t,1,n,dt.min(),i,r,0)}static newNoDocument(t,n){return new xe(t,2,n,dt.min(),dt.min(),an.empty(),0)}static newUnknownDocument(t,n){return new xe(t,3,n,dt.min(),dt.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,n){this.position=t,this.inclusive=n}}function Qm(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],l=e.position[r];if(o.field.isKeyField()?i=st.comparator(st.fromName(l.referenceValue),n.key):i=rr(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n="asc"){this.field=t,this.dir=n}}function ok(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{}class fe extends Gy{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new lk(t,n,i):n==="array-contains"?new hk(t,i):n==="in"?new dk(t,i):n==="not-in"?new fk(t,i):n==="array-contains-any"?new pk(t,i):new fe(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new ck(t,i):new uk(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rr(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(rr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends Gy{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new In(t,n)}matches(t){return Qy(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function Qy(e){return e.op==="and"}function Xy(e){return ak(e)&&Qy(e)}function ak(e){for(const t of e.filters)if(t instanceof In)return!1;return!0}function fh(e){if(e instanceof fe)return e.field.canonicalString()+e.op.toString()+or(e.value);if(Xy(e))return e.filters.map(t=>fh(t)).join(",");{const t=e.filters.map(n=>fh(n)).join(",");return`${e.op}(${t})`}}function Yy(e,t){return e instanceof fe?function(n,i){return i instanceof fe&&n.op===i.op&&n.field.isEqual(i.field)&&$n(n.value,i.value)}(e,t):e instanceof In?function(n,i){return i instanceof In&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,o,l)=>r&&Yy(o,i.filters[l]),!0):!1}(e,t):void ut()}function Jy(e){return e instanceof fe?function(t){return`${t.field.canonicalString()} ${t.op} ${or(t.value)}`}(e):e instanceof In?function(t){return t.op.toString()+" {"+t.getFilters().map(Jy).join(" ,")+"}"}(e):"Filter"}class lk extends fe{constructor(t,n,i){super(t,n,i),this.key=st.fromName(i.referenceValue)}matches(t){const n=st.comparator(t.key,this.key);return this.matchesComparison(n)}}class ck extends fe{constructor(t,n){super(t,"in",n),this.keys=tw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class uk extends fe{constructor(t,n){super(t,"not-in",n),this.keys=tw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function tw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>st.fromName(i.referenceValue))}class hk extends fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Od(n)&&Io(n.arrayValue,this.value)}}class dk extends fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Io(this.value.arrayValue,n)}}class fk extends fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Io(this.value.arrayValue,n)}}class pk extends fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Io(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,n=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.ft=null}}function Ym(e,t=null,n=[],i=[],r=null,o=null,l=null){return new mk(e,t,n,i,r,o,l)}function Nd(e){const t=_t(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>fh(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),lc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>or(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>or(i)).join(",")),t.ft=n}return t.ft}function Md(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ok(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xm(e.startAt,t.startAt)&&Xm(e.endAt,t.endAt)}function ph(e){return st.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,n=null,i=[],r=[],o=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.dt=null,this._t=null,this.startAt,this.endAt}}function gk(e,t,n,i,r,o,l,u){return new Wo(e,t,n,i,r,o,l,u)}function ew(e){return new Wo(e)}function Jm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function nw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Dd(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function iw(e){return e.collectionGroup!==null}function Qs(e){const t=_t(e);if(t.dt===null){t.dt=[];const n=Dd(t),i=nw(t);if(n!==null&&i===null)n.isKeyField()||t.dt.push(new to(n)),t.dt.push(new to(Re.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new to(Re.keyField(),o))}}}return t.dt}function li(e){const t=_t(e);if(!t._t)if(t.limitType==="F")t._t=Ym(t.path,t.collectionGroup,Qs(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const o of Qs(t)){const l=o.dir==="desc"?"asc":"desc";n.push(new to(o.field,l))}const i=t.endAt?new El(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new El(t.startAt.position,t.startAt.inclusive):null;t._t=Ym(t.path,t.collectionGroup,n,t.filters,t.limit,i,r)}return t._t}function mh(e,t){t.getFirstInequalityField(),Dd(e);const n=e.filters.concat([t]);return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gh(e,t,n){return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cc(e,t){return Md(li(e),li(t))&&e.limitType===t.limitType}function sw(e){return`${Nd(li(e))}|lt:${e.limitType}`}function _h(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>Jy(i)).join(", ")}]`),lc(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>or(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>or(i)).join(",")),`Target(${n})`}(li(e))}; limitType=${e.limitType})`}function uc(e,t){return t.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):st.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,i){for(const r of Qs(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(r,o,l){const u=Qm(r,o,l);return r.inclusive?u<=0:u<0}(n.startAt,Qs(n),i)||n.endAt&&!function(r,o,l){const u=Qm(r,o,l);return r.inclusive?u>=0:u>0}(n.endAt,Qs(n),i))}(e,t)}function _k(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rw(e){return(t,n)=>{let i=!1;for(const r of Qs(e)){const o=vk(r,t,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function vk(e,t,n){const i=e.field.isKeyField()?st.comparator(t.key,n.key):function(r,o,l){const u=o.data.field(r),h=l.data.field(r);return u!==null&&h!==null?rr(u,h):ut()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wr(this.inner,(n,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Wy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new ee(st.comparator);function ci(){return yk}const ow=new ee(st.comparator);function qr(...e){let t=ow;for(const n of e)t=t.insert(n.key,n);return t}function aw(e){let t=ow;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ss(){return eo()}function lw(){return eo()}function eo(){return new Er(e=>e.toString(),(e,t)=>e.isEqual(t))}const wk=new ee(st.comparator),Ek=new De(st.comparator);function bt(...e){let t=Ek;for(const n of e)t=t.add(n);return t}const Tk=new De(Dt);function bk(){return Tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(t)?"-0":t}}function uw(e){return{integerValue:""+e}}function Ik(e,t){return nk(t)?uw(t):cw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function Ck(e,t,n){return e instanceof Tl?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Rd(r)&&(r=Ld(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,t):e instanceof Co?dw(e,t):e instanceof So?fw(e,t):function(i,r){const o=hw(i,r),l=tg(o)+tg(i.wt);return dh(o)&&dh(i.wt)?uw(l):cw(i.serializer,l)}(e,t)}function Sk(e,t,n){return e instanceof Co?dw(e,t):e instanceof So?fw(e,t):n}function hw(e,t){return e instanceof bl?dh(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}class Tl extends hc{}class Co extends hc{constructor(t){super(),this.elements=t}}function dw(e,t){const n=pw(t);for(const i of e.elements)n.some(r=>$n(r,i))||n.push(i);return{arrayValue:{values:n}}}class So extends hc{constructor(t){super(),this.elements=t}}function fw(e,t){let n=pw(t);for(const i of e.elements)n=n.filter(r=>!$n(r,i));return{arrayValue:{values:n}}}class bl extends hc{constructor(t,n){super(),this.serializer=t,this.wt=n}}function tg(e){return de(e.integerValue||e.doubleValue)}function pw(e){return Od(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Pk(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Co&&i instanceof Co||n instanceof So&&i instanceof So?sr(n.elements,i.elements,$n):n instanceof bl&&i instanceof bl?$n(n.wt,i.wt):n instanceof Tl&&i instanceof Tl}(e.transform,t.transform)}class Ak{constructor(t,n){this.version=t,this.transformResults=n}}class ni{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ka(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dc{}function mw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _w(e.key,ni.none()):new Ko(e.key,e.data,ni.none());{const n=e.data,i=an.empty();let r=new De(Re.comparator);for(let o of t.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Ts(e.key,i,new yn(r.toArray()),ni.none())}}function xk(e,t,n){e instanceof Ko?function(i,r,o){const l=i.value.clone(),u=ng(i.fieldTransforms,r,o.transformResults);l.setAll(u),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Ts?function(i,r,o){if(!Ka(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=ng(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(gw(i)),u.setAll(l),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function no(e,t,n,i){return e instanceof Ko?function(r,o,l,u){if(!Ka(r.precondition,o))return l;const h=r.value.clone(),f=ig(r.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ts?function(r,o,l,u){if(!Ka(r.precondition,o))return l;const h=ig(r.fieldTransforms,u,o),f=o.data;return f.setAll(gw(r)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(e,t,n,i):function(r,o,l){return Ka(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(e,t,n)}function kk(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),o=hw(i.transform,r||null);o!=null&&(n===null&&(n=an.empty()),n.set(i.field,o))}return n||null}function eg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&sr(n,i,(r,o)=>Pk(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ko extends dc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ts extends dc{constructor(t,n,i,r,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function ng(e,t,n){const i=new Map;Zt(e.length===n.length);for(let r=0;r<n.length;r++){const o=e[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,Sk(l,u,n[r]))}return i}function ig(e,t,n){const i=new Map;for(const r of e){const o=r.transform,l=n.data.field(r.field);i.set(r.field,Ck(o,l,t))}return i}class _w extends dc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rk extends dc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&xk(o,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=no(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=no(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=lw();return this.mutations.forEach(r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(r.key)?null:u;const h=mw(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(dt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),bt())}isEqual(t){return this.batchId===t.batchId&&sr(this.mutations,t.mutations,(n,i)=>eg(n,i))&&sr(this.baseMutations,t.baseMutations,(n,i)=>eg(n,i))}}class Ud{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Zt(t.mutations.length===i.length);let r=wk;const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Ud(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he,Pt;function Mk(e){switch(e){default:return ut();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function vw(e){if(e===void 0)return ai("GRPC error has no .code"),N.UNKNOWN;switch(e){case he.OK:return N.OK;case he.CANCELLED:return N.CANCELLED;case he.UNKNOWN:return N.UNKNOWN;case he.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case he.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case he.INTERNAL:return N.INTERNAL;case he.UNAVAILABLE:return N.UNAVAILABLE;case he.UNAUTHENTICATED:return N.UNAUTHENTICATED;case he.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case he.NOT_FOUND:return N.NOT_FOUND;case he.ALREADY_EXISTS:return N.ALREADY_EXISTS;case he.PERMISSION_DENIED:return N.PERMISSION_DENIED;case he.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case he.ABORTED:return N.ABORTED;case he.OUT_OF_RANGE:return N.OUT_OF_RANGE;case he.UNIMPLEMENTED:return N.UNIMPLEMENTED;case he.DATA_LOSS:return N.DATA_LOSS;default:return ut()}}(Pt=he||(he={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ra}static getOrCreateInstance(){return Ra===null&&(Ra=new Fd),Ra}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Ra=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Gs([4294967295,4294967295],0);function sg(e){const t=Dk().encode(e),n=new $x;return n.update(t),new Uint8Array(n.digest())}function rg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Gs([n,i],0),new Gs([r,o],0)]}class Bd{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wr(`Invalid padding: ${n}`);if(i<0)throw new Wr(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Wr(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Wr(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*t.length-n,this.It=Gs.fromNumber(this.yt)}Tt(t,n,i){let r=t.add(n.multiply(Gs.fromNumber(i)));return r.compare(Uk)===1&&(r=new Gs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}At(t){if(this.yt===0)return!1;const n=sg(t),[i,r]=rg(n);for(let o=0;o<this.hashCount;o++){const l=this.Tt(i,r,o);if(!this.Et(l))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new Bd(o,r,n);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.yt===0)return;const n=sg(t),[i,r]=rg(n);for(let o=0;o<this.hashCount;o++){const l=this.Tt(i,r,o);this.Rt(l)}}Rt(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Wr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n,i,r,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Zo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new fc(dt.min(),r,new ee(Dt),ci(),bt())}}class Zo{constructor(t,n,i,r,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Zo(i,n,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n,i,r){this.vt=t,this.removedTargetIds=n,this.key=i,this.Pt=r}}class yw{constructor(t,n){this.targetId=t,this.bt=n}}class ww{constructor(t,n,i=Be.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class og{constructor(){this.Vt=0,this.St=lg(),this.Dt=Be.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=bt(),n=bt(),i=bt();return this.St.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new Zo(this.Dt,this.Ct,t,n,i)}$t(){this.xt=!1,this.St=lg()}Ft(t,n){this.xt=!0,this.St=this.St.insert(t,n)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Fk{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=ci(),this.jt=ag(),this.zt=new ee(Dt)}Wt(t){for(const n of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(n,t.Pt):this.Jt(n,t.key,t.Pt);for(const n of t.removedTargetIds)this.Jt(n,t.key,t.Pt)}Yt(t){this.forEachTarget(t,n=>{const i=this.Xt(n);switch(t.state){case 0:this.Zt(n)&&i.Mt(t.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(t.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(i.Ut(),i.Mt(t.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),i.Mt(t.resumeToken));break;default:ut()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Gt.forEach((i,r)=>{this.Zt(r)&&n(r)})}ee(t){var n;const i=t.targetId,r=t.bt.count,o=this.ne(i);if(o){const l=o.target;if(ph(l))if(r===0){const u=new st(l.path);this.Jt(i,u,xe.newNoDocument(u,dt.min()))}else Zt(r===1);else{const u=this.se(i);if(u!==r){const h=this.ie(t,u);if(h!==0){this.te(i);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(i,f)}(n=Fd.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(f,m,_){var v,T,S,I,D,B;const q={localCacheCount:m,existenceFilterCount:_.count},M=_.unchangedNames;return M&&(q.bloomFilter={applied:f===0,hashCount:(v=M==null?void 0:M.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(I=(S=(T=M==null?void 0:M.bits)===null||T===void 0?void 0:T.bitmap)===null||S===void 0?void 0:S.length)!==null&&I!==void 0?I:0,padding:(B=(D=M==null?void 0:M.bits)===null||D===void 0?void 0:D.padding)!==null&&B!==void 0?B:0}),q}(h,u,t.bt))}}}}ie(t,n){const{unchangedNames:i,count:r}=t.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:l=0},hashCount:u=0}=i;let h,f;try{h=gs(o).toUint8Array()}catch(m){if(m instanceof Ky)return ir("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw m}try{f=new Bd(h,l,u)}catch(m){return ir(m instanceof Wr?"BloomFilter error: ":"Applying bloom filter failed: ",m),1}return f.yt===0?1:r!==n-this.re(t.targetId,f)?2:0}re(t,n){const i=this.Kt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.Kt.oe(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;n.At(u)||(this.Jt(t,o,null),r++)}),r}ue(t){const n=new Map;this.Gt.forEach((o,l)=>{const u=this.ne(l);if(u){if(o.current&&ph(u.target)){const h=new st(u.target.path);this.Qt.get(h)!==null||this.ce(l,h)||this.Jt(l,h,xe.newNoDocument(h,t))}o.kt&&(n.set(l,o.Ot()),o.$t())}});let i=bt();this.jt.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ne(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.Qt.forEach((o,l)=>l.setReadTime(t));const r=new fc(t,n,this.zt,this.Qt,i);return this.Qt=ci(),this.jt=ag(),this.zt=new ee(Dt),r}Ht(t,n){if(!this.Zt(t))return;const i=this.ce(t,n.key)?2:0;this.Xt(t).Ft(n.key,i),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(t))}Jt(t,n,i){if(!this.Zt(t))return;const r=this.Xt(t);this.ce(t,n)?r.Ft(n,1):r.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(t)),i&&(this.Qt=this.Qt.insert(n,i))}removeTarget(t){this.Gt.delete(t)}se(t){const n=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let n=this.Gt.get(t);return n||(n=new og,this.Gt.set(t,n)),n}ae(t){let n=this.jt.get(t);return n||(n=new De(Dt),this.jt=this.jt.insert(t,n)),n}Zt(t){const n=this.ne(t)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",t),n}ne(t){const n=this.Gt.get(t);return n&&n.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new og),this.Kt.getRemoteKeysForTarget(t).forEach(n=>{this.Jt(t,n,null)})}ce(t,n){return this.Kt.getRemoteKeysForTarget(t).has(n)}}function ag(){return new ee(st.comparator)}function lg(){return new ee(st.comparator)}const Bk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),zk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$k=(()=>({and:"AND",or:"OR"}))();class Vk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vh(e,t){return e.useProto3Json||lc(t)?t:{value:t}}function Il(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ew(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Hk(e,t){return Il(e,t.toTimestamp())}function Bn(e){return Zt(!!e),dt.fromTimestamp(function(t){const n=Di(t);return new pe(n.seconds,n.nanos)}(e))}function zd(e,t){return function(n){return new Kt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Tw(e){const t=Kt.fromString(e);return Zt(Sw(t)),t}function yh(e,t){return zd(e.databaseId,t.path)}function Eu(e,t){const n=Tw(t);if(n.get(1)!==e.databaseId.projectId)throw new J(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new st(bw(n))}function wh(e,t){return zd(e.databaseId,t)}function jk(e){const t=Tw(e);return t.length===4?Kt.emptyPath():bw(t)}function Eh(e){return new Kt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bw(e){return Zt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function cg(e,t,n){return{name:yh(e,t),fields:n.value.mapValue.fields}}function qk(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ut()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(Zt(f===void 0||typeof f=="string"),Be.fromBase64String(f||"")):(Zt(f===void 0||f instanceof Uint8Array),Be.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(h){const f=h.code===void 0?N.UNKNOWN:vw(h.code);return new J(f,h.message||"")}(l);n=new ww(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Eu(e,i.document.name),o=Bn(i.document.updateTime),l=i.document.createTime?Bn(i.document.createTime):dt.min(),u=new an({mapValue:{fields:i.document.fields}}),h=xe.newFoundDocument(r,o,l,u),f=i.targetIds||[],m=i.removedTargetIds||[];n=new Za(f,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Eu(e,i.document),o=i.readTime?Bn(i.readTime):dt.min(),l=xe.newNoDocument(r,o),u=i.removedTargetIds||[];n=new Za([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Eu(e,i.document),o=i.removedTargetIds||[];n=new Za([],o,r,null)}else{if(!("filter"in t))return ut();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new Nk(r,o),u=i.targetId;n=new yw(u,l)}}return n}function Wk(e,t){let n;if(t instanceof Ko)n={update:cg(e,t.key,t.value)};else if(t instanceof _w)n={delete:yh(e,t.key)};else if(t instanceof Ts)n={update:cg(e,t.key,t.data),updateMask:eR(t.fieldMask)};else{if(!(t instanceof Rk))return ut();n={verify:yh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const l=o.transform;if(l instanceof Tl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Co)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof So)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bl)return{fieldPath:o.field.canonicalString(),increment:l.wt};throw ut()}(0,i))),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:Hk(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ut()}(e,t.precondition)),n}function Kk(e,t){return e&&e.length>0?(Zt(t!==void 0),e.map(n=>function(i,r){let o=i.updateTime?Bn(i.updateTime):Bn(r);return o.isEqual(dt.min())&&(o=Bn(r)),new Ak(o,i.transformResults||[])}(n,t))):[]}function Zk(e,t){return{documents:[wh(e,t.path)]}}function Gk(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=wh(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wh(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(h.length!==0)return Cw(In.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const o=function(h){if(h.length!==0)return h.map(f=>function(m){return{field:Fs(m.field),direction:Yk(m.dir)}}(f))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vh(e,t.limit);var u;return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),n}function Qk(e){let t=jk(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Zt(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:t=t.child(m.collectionId)}let o=[];n.where&&(o=function(m){const _=Iw(m);return _ instanceof In&&Xy(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(m=>function(_){return new to(Bs(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m)));let u=null;n.limit&&(u=function(m){let _;return _=typeof m=="object"?m.value:m,lc(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(m){const _=!!m.before,v=m.values||[];return new El(v,_)}(n.startAt));let f=null;return n.endAt&&(f=function(m){const _=!m.before,v=m.values||[];return new El(v,_)}(n.endAt)),gk(t,r,l,o,u,"F",h,f)}function Xk(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Iw(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Bs(t.unaryFilter.field);return fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bs(t.unaryFilter.field);return fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bs(t.unaryFilter.field);return fe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bs(t.unaryFilter.field);return fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(e):e.fieldFilter!==void 0?function(t){return fe.create(Bs(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return In.create(t.compositeFilter.filters.map(n=>Iw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ut()}}(t.compositeFilter.op))}(e):ut()}function Yk(e){return Bk[e]}function Jk(e){return zk[e]}function tR(e){return $k[e]}function Fs(e){return{fieldPath:e.canonicalString()}}function Bs(e){return Re.fromServerFormat(e.fieldPath)}function Cw(e){return e instanceof fe?function(t){if(t.op==="=="){if(Gm(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NAN"}};if(Zm(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gm(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NAN"}};if(Zm(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(t.field),op:Jk(t.op),value:t.value}}}(e):e instanceof In?function(t){const n=t.getFilters().map(i=>Cw(i));return n.length===1?n[0]:{compositeFilter:{op:tR(t.op),filters:n}}}(e):ut()}function eR(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Sw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n,i,r,o=dt.min(),l=dt.min(),u=Be.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Ci(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.le=t}}function iR(e){const t=Qk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?gh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.sn=new rR}addToCollectionParentIndex(t,n){return this.sn.add(n),z.resolve()}getCollectionParents(t,n){return z.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return z.resolve()}deleteFieldIndex(t,n){return z.resolve()}getDocumentsMatchingTarget(t,n){return z.resolve(null)}getIndexType(t,n){return z.resolve(0)}getFieldIndexes(t,n){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,n){return z.resolve(Mi.min())}getMinOffsetFromCollectionGroup(t,n){return z.resolve(Mi.min())}updateCollectionGroup(t,n,i){return z.resolve()}updateIndexEntries(t,n){return z.resolve()}}class rR{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new De(Kt.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new De(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new ar(0)}static kn(){return new ar(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.changes=new Er(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?z.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&no(i.mutation,r,yn.empty(),pe.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,bt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=bt()){const r=ss();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(o=>{let l=qr();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=ss();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,bt()))}populateOverlays(t,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(t,n,i,r){let o=ci();const l=eo(),u=eo();return n.forEach((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof Ts)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),no(m.mutation,f,m.mutation.getFieldMask(),pe.now())):l.set(f.key,yn.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var _;return u.set(f,new aR(m,(_=l.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(t,n){const i=eo();let r=new ee((l,u)=>l-u),o=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=i.get(h)||yn.empty();m=u.applyToLocalView(f,m),i.set(h,m);const _=(r.get(u.batchId)||bt()).add(h);r=r.insert(u.batchId,_)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,_=lw();m.forEach(v=>{if(!o.has(v)){const T=mw(n.get(v),i.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,_))}return z.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return st.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):iw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-o.size):z.resolve(ss());let u=-1,h=o;return l.next(f=>z.forEach(f,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?z.resolve():this.remoteDocumentCache.getEntry(t,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,h,f,bt())).next(m=>({batchId:u,changes:aw(m)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new st(n)).next(i=>{let r=qr();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const r=n.collectionGroup;let o=qr();return this.indexManager.getCollectionParents(t,r).next(l=>z.forEach(l,u=>{const h=function(f,m){return new Wo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i).next(f=>{f.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r))).next(o=>{r.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,xe.newInvalidDocument(f)))});let l=qr();return o.forEach((u,h)=>{const f=r.get(u);f!==void 0&&no(f.mutation,h,yn.empty(),pe.now()),uc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,n){return z.resolve(this.us.get(n))}saveBundleMetadata(t,n){var i;return this.us.set(n.id,{id:(i=n).id,version:i.version,createTime:Bn(i.createTime)}),z.resolve()}getNamedQuery(t,n){return z.resolve(this.cs.get(n))}saveNamedQuery(t,n){return this.cs.set(n.name,function(i){return{name:i.name,query:iR(i.bundledQuery),readTime:Bn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.overlays=new ee(st.comparator),this.hs=new Map}getOverlay(t,n){return z.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ss();return z.forEach(n,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,o)=>{this.de(t,n,o)}),z.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.hs.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),z.resolve()}getOverlaysForCollection(t,n,i){const r=ss(),o=n.length+1,l=new st(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return z.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let o=new ee((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=ss(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=ss(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=r)););return z.resolve(u)}de(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Ok(n,i));let o=this.hs.get(n);o===void 0&&(o=bt(),this.hs.set(n,o)),this.hs.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.ls=new De(ve.fs),this.ds=new De(ve._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,n){const i=new ve(t,n);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.gs(new ve(t,n))}ys(t,n){t.forEach(i=>this.removeReference(i,n))}ps(t){const n=new st(new Kt([])),i=new ve(n,t),r=new ve(n,t+1),o=[];return this.ds.forEachInRange([i,r],l=>{this.gs(l),o.push(l.key)}),o}Is(){this.ls.forEach(t=>this.gs(t))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const n=new st(new Kt([])),i=new ve(n,t),r=new ve(n,t+1);let o=bt();return this.ds.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(t){const n=new ve(t,0),i=this.ls.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ve{constructor(t,n){this.key=t,this.Es=n}static fs(t,n){return st.comparator(t.key,n.key)||Dt(t.Es,n.Es)}static _s(t,n){return Dt(t.Es,n.Es)||st.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new De(ve.fs)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const o=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lk(o,n,i,r);this.mutationQueue.push(l);for(const u of r)this.Rs=this.Rs.add(new ve(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return z.resolve(l)}lookupMutationBatch(t,n){return z.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Ps(i),o=r<0?0:r;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ve(n,0),r=new ve(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],l=>{const u=this.vs(l.Es);o.push(u)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new De(Dt);return n.forEach(r=>{const o=new ve(r,0),l=new ve(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,l],u=>{i=i.add(u.Es)})}),z.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let o=i;st.isDocumentKey(o)||(o=o.child(""));const l=new ve(new st(o),0);let u=new De(Dt);return this.Rs.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Es)),!0)},l),z.resolve(this.bs(u))}bs(t){const n=[];return t.forEach(i=>{const r=this.vs(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Zt(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return z.forEach(n.mutations,r=>{const o=new ve(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Dn(t){}containsKey(t,n){const i=new ve(n,0),r=this.Rs.firstAfterOrEqual(i);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}Vs(t,n){return this.Ps(t)}Ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}vs(t){const n=this.Ps(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this.Ss=t,this.docs=new ee(st.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,l=this.Ss(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return z.resolve(i?i.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(t,n){let i=ci();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():xe.newInvalidDocument(r))}),z.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let o=ci();const l=n.path,u=new st(l.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Jx(Yx(m),i)<=0||(r.has(m.key)||uc(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(t,n,i,r){ut()}Ds(t,n){return z.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new fR(this)}getSize(t){return z.resolve(this.size)}}class fR extends oR{constructor(t){super(),this.rs=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.rs.addEntry(t,r)):this.rs.removeEntry(i)}),z.waitFor(n)}getFromCache(t,n){return this.rs.getEntry(t,n)}getAllFromCache(t,n){return this.rs.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.persistence=t,this.Cs=new Er(n=>Nd(n),Md),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new $d,this.targetCount=0,this.ks=ar.Nn()}forEachTarget(t,n){return this.Cs.forEach((i,r)=>n(r)),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.xs&&(this.xs=n),z.resolve()}$n(t){this.Cs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ks=new ar(n),this.highestTargetId=n),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,n){return this.$n(n),this.targetCount+=1,z.resolve()}updateTargetData(t,n){return this.$n(n),z.resolve()}removeTargetData(t,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,n,i){let r=0;const o=[];return this.Cs.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.Cs.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),z.waitFor(o).next(()=>r)}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,n){const i=this.Cs.get(n)||null;return z.resolve(i)}addMatchingKeys(t,n,i){return this.Ns.ws(n,i),z.resolve()}removeMatchingKeys(t,n,i){this.Ns.ys(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(l=>{o.push(r.markPotentiallyOrphaned(t,l))}),z.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Ns.ps(n),z.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ns.Ts(n);return z.resolve(i)}containsKey(t,n){return z.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n){this.Ms={},this.overlays={},this.Os=new kd(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new pR(this),this.indexManager=new sR,this.remoteDocumentCache=function(i){return new dR(i)}(i=>this.referenceDelegate.Bs(i)),this.serializer=new nR(n),this.Ls=new cR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new uR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Ms[t.toKey()];return i||(i=new hR(n,this.referenceDelegate),this.Ms[t.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,n,i){tt("MemoryPersistence","Starting transaction:",t);const r=new gR(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(t,n){return z.or(Object.values(this.Ms).map(i=>()=>i.containsKey(t,n)))}}class gR extends ek{constructor(t){super(),this.currentSequenceNumber=t}}class Vd{constructor(t){this.persistence=t,this.Gs=new $d,this.Qs=null}static js(t){return new Vd(t)}get zs(){if(this.Qs)return this.Qs;throw ut()}addReference(t,n,i){return this.Gs.addReference(i,n),this.zs.delete(i.toString()),z.resolve()}removeReference(t,n,i){return this.Gs.removeReference(i,n),this.zs.add(i.toString()),z.resolve()}markPotentiallyOrphaned(t,n){return this.zs.add(n.toString()),z.resolve()}removeTarget(t,n){this.Gs.ps(n.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}qs(){this.Qs=new Set}Us(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.zs,i=>{const r=st.fromPath(i);return this.Ws(t,r).next(o=>{o||n.removeEntry(r,dt.min())})}).next(()=>(this.Qs=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ws(t,n).next(i=>{i?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(t){return 0}Ws(t,n){return z.or([()=>z.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ks(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.$i=i,this.Fi=r}static Bi(t,n){let i=bt(),r=bt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Hd(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.Li=!1}initialize(t,n){this.qi=t,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(t,n,i,r){return this.Ui(t,n).next(o=>o||this.Ki(t,n,r,i)).next(o=>o||this.Gi(t,n))}Ui(t,n){if(Jm(n))return z.resolve(null);let i=li(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=gh(n,null,"F"),i=li(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=bt(...o);return this.qi.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Qi(n,u);return this.ji(n,f,l,h.readTime)?this.Ui(t,gh(n,null,"F")):this.zi(t,f,n,h)}))})))}Ki(t,n,i,r){return Jm(n)||r.isEqual(dt.min())?this.Gi(t,n):this.qi.getDocuments(t,i).next(o=>{const l=this.Qi(n,o);return this.ji(n,l,i,r)?this.Gi(t,n):(Hm()<=Rt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_h(n)),this.zi(t,l,n,Xx(r,-1)))})}Qi(t,n){let i=new De(rw(t));return n.forEach((r,o)=>{uc(t,o)&&(i=i.add(o))}),i}ji(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(t,n){return Hm()<=Rt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",_h(n)),this.qi.getDocumentsMatchingQuery(t,n,Mi.min())}zi(t,n,i,r){return this.qi.getDocumentsMatchingQuery(t,i,r).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,n,i,r){this.persistence=t,this.Wi=n,this.serializer=r,this.Hi=new ee(Dt),this.Ji=new Er(o=>Nd(o),Md),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(i)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lR(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Hi))}}function yR(e,t,n,i){return new vR(e,t,n,i)}async function Pw(e,t){const n=_t(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.Zi(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=bt();for(const f of r){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(f=>({tr:f,removedBatchIds:l,addedBatchIds:u}))})})}function wR(e,t){const n=_t(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const m=h.batch,_=m.keys();let v=z.resolve();return _.forEach(T=>{v=v.next(()=>f.getEntry(u,T)).next(S=>{const I=h.docVersions.get(T);Zt(I!==null),S.version.compareTo(I)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),f.addEntry(S)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,t,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=bt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function Aw(e){const t=_t(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Fs.getLastRemoteSnapshotVersion(n))}function ER(e,t){const n=_t(e),i=t.snapshotVersion;let r=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Xi.newChangeBuffer({trackRemovals:!0});r=n.Hi;const u=[];t.targetChanges.forEach((m,_)=>{const v=r.get(_);if(!v)return;u.push(n.Fs.removeMatchingKeys(o,m.removedDocuments,_).next(()=>n.Fs.addMatchingKeys(o,m.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?T=T.withResumeToken(Be.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),r=r.insert(_,T),function(S,I,D){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(v,T,m)&&u.push(n.Fs.updateTargetData(o,T))});let h=ci(),f=bt();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(TR(o,l,t.documentUpdates).next(m=>{h=m.er,f=m.nr})),!i.isEqual(dt.min())){const m=n.Fs.getLastRemoteSnapshotVersion(o).next(_=>n.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return z.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.Hi=r,o))}function TR(e,t,n){let i=bt(),r=bt();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let l=ci();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(dt.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):tt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{er:l,nr:r}})}function bR(e,t){const n=_t(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function IR(e,t){const n=_t(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Fs.getTargetData(i,t).next(o=>o?(r=o,z.resolve(r)):n.Fs.allocateTargetId(i).next(l=>(r=new Ci(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Hi.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(i.targetId,i),n.Ji.set(t,i.targetId)),i})}async function Th(e,t,n){const i=_t(e),r=i.Hi.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!qo(l))throw l;tt("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Hi=i.Hi.remove(t),i.Ji.delete(r.target)}function ug(e,t,n){const i=_t(e);let r=dt.min(),o=bt();return i.persistence.runTransaction("Execute query","readonly",l=>function(u,h,f){const m=_t(u),_=m.Ji.get(f);return _!==void 0?z.resolve(m.Hi.get(_)):m.Fs.getTargetData(h,f)}(i,l,li(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Wi.getDocumentsMatchingQuery(l,t,n?r:dt.min(),n?o:bt())).next(u=>(CR(i,_k(t),u),{documents:u,sr:o})))}function CR(e,t,n){let i=e.Yi.get(t)||dt.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e.Yi.set(t,i)}class hg{constructor(){this.activeTargetIds=bk()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SR{constructor(){this.Wr=new hg,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,n,i){this.Hr[t]=n}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new hg,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{Jr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La=null;function Tu(){return La===null?La=268435456+Math.round(2147483648*Math.random()):La++,"0x"+La.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe="WebChannelConnection";class kR extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,n,i,r,o){const l=Tu(),u=this.Io(t,n);tt("RestConnection",`Sending RPC '${t}' ${l}:`,u,i);const h={};return this.To(h,r,o),this.Eo(t,u,h,i).then(f=>(tt("RestConnection",`Received RPC '${t}' ${l}: `,f),f),f=>{throw ir("RestConnection",`RPC '${t}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Ao(t,n,i,r,o,l){return this.po(t,n,i,r,o)}To(t,n,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+yr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Io(t,n){const i=AR[t];return`${this.wo}/v1/${n}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,n,i,r){const o=Tu();return new Promise((l,u)=>{const h=new zx;h.setWithCredentials(!0),h.listenOnce(Ux.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case wu.NO_ERROR:const m=h.getResponseJson();tt(Pe,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(m)),l(m);break;case wu.TIMEOUT:tt(Pe,`RPC '${t}' ${o} timed out`),u(new J(N.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:const _=h.getStatus();if(tt(Pe,`RPC '${t}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const S=function(I){const D=I.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(D)>=0?D:N.UNKNOWN}(T.status);u(new J(S,T.message))}else u(new J(N.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new J(N.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{tt(Pe,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(r);tt(Pe,`RPC '${t}' ${o} sending request:`,r),h.send(n,"POST",f,i,15)})}Ro(t,n,i){const r=Tu(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=Mx(),u=Dx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Bx({})),this.To(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const f=o.join("");tt(Pe,`Creating RPC '${t}' stream ${r}: ${f}`,h);const m=l.createWebChannel(f,h);let _=!1,v=!1;const T=new xR({io:I=>{v?tt(Pe,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(_||(tt(Pe,`Opening RPC '${t}' stream ${r} transport.`),m.open(),_=!0),tt(Pe,`RPC '${t}' stream ${r} sending:`,I),m.send(I))},ro:()=>m.close()}),S=(I,D,B)=>{I.listen(D,q=>{try{B(q)}catch(M){setTimeout(()=>{throw M},0)}})};return S(m,Aa.EventType.OPEN,()=>{v||tt(Pe,`RPC '${t}' stream ${r} transport opened.`)}),S(m,Aa.EventType.CLOSE,()=>{v||(v=!0,tt(Pe,`RPC '${t}' stream ${r} transport closed`),T.fo())}),S(m,Aa.EventType.ERROR,I=>{v||(v=!0,ir(Pe,`RPC '${t}' stream ${r} transport errored:`,I),T.fo(new J(N.UNAVAILABLE,"The operation could not be completed")))}),S(m,Aa.EventType.MESSAGE,I=>{var D;if(!v){const B=I.data[0];Zt(!!B);const q=B,M=q.error||((D=q[0])===null||D===void 0?void 0:D.error);if(M){tt(Pe,`RPC '${t}' stream ${r} received error:`,M);const Y=M.status;let ft=function(Gt){const ot=he[Gt];if(ot!==void 0)return vw(ot)}(Y),Ot=M.message;ft===void 0&&(ft=N.INTERNAL,Ot="Unknown error status: "+Y+" with message "+M.message),v=!0,T.fo(new J(ft,Ot)),m.close()}else tt(Pe,`RPC '${t}' stream ${r} received:`,B),T._o(B)}}),S(u,Fx.STAT_EVENT,I=>{I.stat===$m.PROXY?tt(Pe,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===$m.NOPROXY&&tt(Pe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.lo()},0),T}}function bu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e){return new Vk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=n,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const n=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,n-i);r>0&&tt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),t())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,n,i,r,o,l,u,h){this.si=t,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new xw(t,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(t){this.Wo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(t,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,t!==4?this.Lo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.co(n)}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===n&&this.Xo(i,r)},i=>{t(()=>{const r=new J(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(t,n){const i=this.Yo(this.$o);this.stream=this.tu(t,n),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(t){return tt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return n=>{this.si.enqueueAndForget(()=>this.$o===t?n():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RR extends kw{constructor(t,n,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}tu(t,n){return this.connection.Ro("Listen",t,n)}onMessage(t){this.Lo.reset();const n=qk(this.serializer,t),i=function(r){if(!("targetChange"in r))return dt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?dt.min():o.readTime?Bn(o.readTime):dt.min()}(t);return this.listener.eu(n,i)}nu(t){const n={};n.database=Eh(this.serializer),n.addTarget=function(r,o){let l;const u=o.target;if(l=ph(u)?{documents:Zk(r,u)}:{query:Gk(r,u)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Ew(r,o.resumeToken);const h=vh(r,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(dt.min())>0){l.readTime=Il(r,o.snapshotVersion.toTimestamp());const h=vh(r,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=Xk(this.serializer,t);i&&(n.labels=i),this.zo(n)}su(t){const n={};n.database=Eh(this.serializer),n.removeTarget=t,this.zo(n)}}class LR extends kw{constructor(t,n,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const n=Kk(t.writeResults,t.commitTime),i=Bn(t.commitTime);return this.listener.uu(i,n)}return Zt(!t.writeResults||t.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const t={};t.database=Eh(this.serializer),this.zo(t)}ou(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Wk(this.serializer,i))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new J(N.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,n,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(t,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(N.UNKNOWN,r.toString())})}Ao(t,n,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ao(t,n,i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(N.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class NR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(t){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,t==="Online"&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ai(n),this.wu=!1):tt("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n,i,r,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(l=>{i.enqueueAndForget(async()=>{bs(this)&&(tt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=_t(u);h.Au.add(4),await Go(h),h.Pu.set("Unknown"),h.Au.delete(4),await mc(h)}(this))})}),this.Pu=new NR(i,r)}}async function mc(e){if(bs(e))for(const t of e.Ru)await t(!0)}async function Go(e){for(const t of e.Ru)await t(!1)}function Rw(e,t){const n=_t(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),Wd(n)?qd(n):Tr(n).Uo()&&jd(n,t))}function Lw(e,t){const n=_t(e),i=Tr(n);n.Eu.delete(t),i.Uo()&&Ow(n,t),n.Eu.size===0&&(i.Uo()?i.Qo():bs(n)&&n.Pu.set("Unknown"))}function jd(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tr(e).nu(t)}function Ow(e,t){e.bu.Lt(t),Tr(e).su(t)}function qd(e){e.bu=new Fk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),he:t=>e.Eu.get(t)||null,oe:()=>e.datastore.serializer.databaseId}),Tr(e).start(),e.Pu.mu()}function Wd(e){return bs(e)&&!Tr(e).qo()&&e.Eu.size>0}function bs(e){return _t(e).Au.size===0}function Nw(e){e.bu=void 0}async function DR(e){e.Eu.forEach((t,n)=>{jd(e,t)})}async function UR(e,t){Nw(e),Wd(e)?(e.Pu.pu(t),qd(e)):e.Pu.set("Unknown")}async function FR(e,t,n){if(e.Pu.set("Online"),t instanceof ww&&t.state===2&&t.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Eu.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Eu.delete(l),i.bu.removeTarget(l))}(e,t)}catch(i){tt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Cl(e,i)}else if(t instanceof Za?e.bu.Wt(t):t instanceof yw?e.bu.ee(t):e.bu.Yt(t),!n.isEqual(dt.min()))try{const i=await Aw(e.localStore);n.compareTo(i)>=0&&await function(r,o){const l=r.bu.ue(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Eu.get(h);f&&r.Eu.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=r.Eu.get(u);if(!f)return;r.Eu.set(u,f.withResumeToken(Be.EMPTY_BYTE_STRING,f.snapshotVersion)),Ow(r,u);const m=new Ci(f.target,u,h,f.sequenceNumber);jd(r,m)}),r.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){tt("RemoteStore","Failed to raise snapshot:",i),await Cl(e,i)}}async function Cl(e,t,n){if(!qo(t))throw t;e.Au.add(1),await Go(e),e.Pu.set("Offline"),n||(n=()=>Aw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tt("RemoteStore","Retrying IndexedDB access"),await n(),e.Au.delete(1),await mc(e)})}function Mw(e,t){return t().catch(n=>Cl(e,n,t))}async function gc(e){const t=_t(e),n=Ui(t);let i=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;BR(t);)try{const r=await bR(t.localStore,i);if(r===null){t.Tu.length===0&&n.Qo();break}i=r.batchId,zR(t,r)}catch(r){await Cl(t,r)}Dw(t)&&Uw(t)}function BR(e){return bs(e)&&e.Tu.length<10}function zR(e,t){e.Tu.push(t);const n=Ui(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function Dw(e){return bs(e)&&!Ui(e).qo()&&e.Tu.length>0}function Uw(e){Ui(e).start()}async function $R(e){Ui(e).au()}async function VR(e){const t=Ui(e);for(const n of e.Tu)t.ou(n.mutations)}async function HR(e,t,n){const i=e.Tu.shift(),r=Ud.from(i,t,n);await Mw(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await gc(e)}async function jR(e,t){t&&Ui(e).ru&&await async function(n,i){if(r=i.code,Mk(r)&&r!==N.ABORTED){const o=n.Tu.shift();Ui(n).Go(),await Mw(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await gc(n)}var r}(e,t),Dw(e)&&Uw(e)}async function fg(e,t){const n=_t(e);n.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const i=bs(n);n.Au.add(3),await Go(n),i&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Au.delete(3),await mc(n)}async function qR(e,t){const n=_t(e);t?(n.Au.delete(2),await mc(n)):t||(n.Au.add(2),await Go(n),n.Pu.set("Unknown"))}function Tr(e){return e.Vu||(e.Vu=function(t,n,i){const r=_t(t);return r.lu(),new RR(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(e.datastore,e.asyncQueue,{oo:DR.bind(null,e),co:UR.bind(null,e),eu:FR.bind(null,e)}),e.Ru.push(async t=>{t?(e.Vu.Go(),Wd(e)?qd(e):e.Pu.set("Unknown")):(await e.Vu.stop(),Nw(e))})),e.Vu}function Ui(e){return e.Su||(e.Su=function(t,n,i){const r=_t(t);return r.lu(),new LR(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(e.datastore,e.asyncQueue,{oo:$R.bind(null,e),co:jR.bind(null,e),cu:VR.bind(null,e),uu:HR.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Go(),await gc(e)):(await e.Su.stop(),e.Tu.length>0&&(tt("RemoteStore",`Stopping write stream with ${e.Tu.length} pending writes`),e.Tu=[]))})),e.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,n,i,r,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,n,i,r,o){const l=Date.now()+i,u=new Kd(t,n,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(e,t){if(ai("AsyncQueue",`${t}: ${e}`),qo(e))return new J(N.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.comparator=t?(n,i)=>t(n,i)||st.comparator(n.key,i.key):(n,i)=>st.comparator(n.key,i.key),this.keyedMap=qr(),this.sortedSet=new ee(this.comparator)}static emptySet(t){return new Xs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Xs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Du=new ee(st.comparator)}track(t){const n=t.doc.key,i=this.Du.get(n);i?t.type!==0&&i.type===3?this.Du=this.Du.insert(n,t):t.type===3&&i.type!==1?this.Du=this.Du.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Du=this.Du.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Du=this.Du.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Du=this.Du.remove(n):t.type===1&&i.type===2?this.Du=this.Du.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Du=this.Du.insert(n,{type:2,doc:t.doc}):ut():this.Du=this.Du.insert(n,t)}Cu(){const t=[];return this.Du.inorderTraversal((n,i)=>{t.push(i)}),t}}class lr{constructor(t,n,i,r,o,l,u,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,r,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new lr(t,n,Xs.emptySet(n),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.xu=void 0,this.listeners=[]}}class KR{constructor(){this.queries=new Er(t=>sw(t),cc),this.onlineState="Unknown",this.Nu=new Set}}async function ZR(e,t){const n=_t(e),i=t.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new WR),r)try{o.xu=await n.onListen(i)}catch(l){const u=Zd(l,`Initialization of query '${_h(t.query)}' failed`);return void t.onError(u)}n.queries.set(i,o),o.listeners.push(t),t.ku(n.onlineState),o.xu&&t.Mu(o.xu)&&Gd(n)}async function GR(e,t){const n=_t(e),i=t.query;let r=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(t);l>=0&&(o.listeners.splice(l,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function QR(e,t){const n=_t(e);let i=!1;for(const r of t){const o=r.query,l=n.queries.get(o);if(l){for(const u of l.listeners)u.Mu(r)&&(i=!0);l.xu=r}}i&&Gd(n)}function XR(e,t,n){const i=_t(e),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(t)}function Gd(e){e.Nu.forEach(t=>{t.next()})}class YR{constructor(t,n,i){this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new lr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),n=!0):this.Lu(t,this.onlineState)&&(this.qu(t),n=!0),this.Fu=t,n}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),n=!0),n}Lu(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.Uu||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Bu(t){if(t.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(t){t=lr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.key=t}}class Bw{constructor(t){this.key=t}}class JR{constructor(t,n){this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=bt(),this.mutatedKeys=bt(),this.Zu=rw(t),this.tc=new Xs(this.Zu)}get ec(){return this.Ju}nc(t,n){const i=n?n.sc:new pg,r=n?n.tc:this.tc;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((m,_)=>{const v=r.get(m),T=uc(this.query,_)?_:null,S=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let D=!1;v&&T?v.data.isEqual(T.data)?S!==I&&(i.track({type:3,doc:T}),D=!0):this.ic(v,T)||(i.track({type:2,doc:T}),D=!0,(h&&this.Zu(T,h)>0||f&&this.Zu(T,f)<0)&&(u=!0)):!v&&T?(i.track({type:0,doc:T}),D=!0):v&&!T&&(i.track({type:1,doc:v}),D=!0,(h||f)&&(u=!0)),D&&(T?(l=l.add(T),o=I?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tc:l,sc:i,ji:u,mutatedKeys:o}}ic(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const r=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const o=t.sc.Cu();o.sort((f,m)=>function(_,v){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return T(_)-T(v)}(f.type,m.type)||this.Zu(f.doc,m.doc)),this.rc(i);const l=n?this.oc():[],u=this.Xu.size===0&&this.current?1:0,h=u!==this.Yu;return this.Yu=u,o.length!==0||h?{snapshot:new lr(this.query,t.tc,r,o,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:l}:{uc:l}}ku(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new pg,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=bt(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const n=[];return t.forEach(i=>{this.Xu.has(i)||n.push(new Bw(i))}),this.Xu.forEach(i=>{t.has(i)||n.push(new Fw(i))}),n}ac(t){this.Ju=t.sr,this.Xu=bt();const n=this.nc(t.documents);return this.applyChanges(n,!0)}hc(){return lr.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class tL{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class eL{constructor(t){this.key=t,this.lc=!1}}class nL{constructor(t,n,i,r,o,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.fc={},this.dc=new Er(u=>sw(u),cc),this._c=new Map,this.wc=new Set,this.mc=new ee(st.comparator),this.gc=new Map,this.yc=new $d,this.Ic={},this.Tc=new Map,this.Ec=ar.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function iL(e,t){const n=fL(e);let i,r;const o=n.dc.get(t);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const l=await IR(n.localStore,li(t)),u=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=await sL(n,t,i,u==="current",l.resumeToken),n.isPrimaryClient&&Rw(n.remoteStore,l)}return r}async function sL(e,t,n,i,r){e.Rc=(_,v,T)=>async function(S,I,D,B){let q=I.view.nc(D);q.ji&&(q=await ug(S.localStore,I.query,!1).then(({documents:ft})=>I.view.nc(ft,q)));const M=B&&B.targetChanges.get(I.targetId),Y=I.view.applyChanges(q,S.isPrimaryClient,M);return gg(S,I.targetId,Y.uc),Y.snapshot}(e,_,v,T);const o=await ug(e.localStore,t,!0),l=new JR(t,o.sr),u=l.nc(o.documents),h=Zo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),f=l.applyChanges(u,e.isPrimaryClient,h);gg(e,n,f.uc);const m=new tL(t,n,l);return e.dc.set(t,m),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),f.snapshot}async function rL(e,t){const n=_t(e),i=n.dc.get(t),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(o=>!cc(o,t))),void n.dc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Th(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Lw(n.remoteStore,i.targetId),bh(n,i.targetId)}).catch(jo)):(bh(n,i.targetId),await Th(n.localStore,i.targetId,!0))}async function oL(e,t,n){const i=pL(e);try{const r=await function(o,l){const u=_t(o),h=pe.now(),f=l.reduce((v,T)=>v.add(T.key),bt());let m,_;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=ci(),S=bt();return u.Xi.getEntries(v,f).next(I=>{T=I,T.forEach((D,B)=>{B.isValidDocument()||(S=S.add(D))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,T)).next(I=>{m=I;const D=[];for(const B of l){const q=kk(B,m.get(B.key).overlayedDocument);q!=null&&D.push(new Ts(B.key,q,Zy(q.value.mapValue),ni.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,D,l)}).next(I=>{_=I;const D=I.applyToLocalDocumentSet(m,S);return u.documentOverlayCache.saveOverlays(v,I.batchId,D)})}).then(()=>({batchId:_.batchId,changes:aw(m)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let h=o.Ic[o.currentUser.toKey()];h||(h=new ee(Dt)),h=h.insert(l,u),o.Ic[o.currentUser.toKey()]=h}(i,r.batchId,n),await Qo(i,r.changes),await gc(i.remoteStore)}catch(r){const o=Zd(r,"Failed to persist write");n.reject(o)}}async function zw(e,t){const n=_t(e);try{const i=await ER(n.localStore,t);t.targetChanges.forEach((r,o)=>{const l=n.gc.get(o);l&&(Zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.lc=!0:r.modifiedDocuments.size>0?Zt(l.lc):r.removedDocuments.size>0&&(Zt(l.lc),l.lc=!1))}),await Qo(n,i,t)}catch(i){await jo(i)}}function mg(e,t,n){const i=_t(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.dc.forEach((o,l)=>{const u=l.view.ku(t);u.snapshot&&r.push(u.snapshot)}),function(o,l){const u=_t(o);u.onlineState=l;let h=!1;u.queries.forEach((f,m)=>{for(const _ of m.listeners)_.ku(l)&&(h=!0)}),h&&Gd(u)}(i.eventManager,t),r.length&&i.fc.eu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function aL(e,t,n){const i=_t(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.gc.get(t),o=r&&r.key;if(o){let l=new ee(st.comparator);l=l.insert(o,xe.newNoDocument(o,dt.min()));const u=bt().add(o),h=new fc(dt.min(),new Map,new ee(Dt),l,u);await zw(i,h),i.mc=i.mc.remove(o),i.gc.delete(t),Qd(i)}else await Th(i.localStore,t,!1).then(()=>bh(i,t,n)).catch(jo)}async function lL(e,t){const n=_t(e),i=t.batch.batchId;try{const r=await wR(n.localStore,t);Vw(n,i,null),$w(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Qo(n,r)}catch(r){await jo(r)}}async function cL(e,t,n){const i=_t(e);try{const r=await function(o,l){const u=_t(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(Zt(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(i.localStore,t);Vw(i,t,n),$w(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Qo(i,r)}catch(r){await jo(r)}}function $w(e,t){(e.Tc.get(t)||[]).forEach(n=>{n.resolve()}),e.Tc.delete(t)}function Vw(e,t,n){const i=_t(e);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(n?o.reject(n):o.resolve(),r=r.remove(t)),i.Ic[i.currentUser.toKey()]=r}}function bh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e._c.get(t))e.dc.delete(i),n&&e.fc.vc(i,n);e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach(i=>{e.yc.containsKey(i)||Hw(e,i)})}function Hw(e,t){e.wc.delete(t.path.canonicalString());const n=e.mc.get(t);n!==null&&(Lw(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),Qd(e))}function gg(e,t,n){for(const i of n)i instanceof Fw?(e.yc.addReference(i.key,t),uL(e,i)):i instanceof Bw?(tt("SyncEngine","Document no longer in limbo: "+i.key),e.yc.removeReference(i.key,t),e.yc.containsKey(i.key)||Hw(e,i.key)):ut()}function uL(e,t){const n=t.key,i=n.path.canonicalString();e.mc.get(n)||e.wc.has(i)||(tt("SyncEngine","New document in limbo: "+n),e.wc.add(i),Qd(e))}function Qd(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){const t=e.wc.values().next().value;e.wc.delete(t);const n=new st(Kt.fromString(t)),i=e.Ec.next();e.gc.set(i,new eL(n)),e.mc=e.mc.insert(n,i),Rw(e.remoteStore,new Ci(li(ew(n.path)),i,"TargetPurposeLimboResolution",kd.ct))}}async function Qo(e,t,n){const i=_t(e),r=[],o=[],l=[];i.dc.isEmpty()||(i.dc.forEach((u,h)=>{l.push(i.Rc(h,t,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){r.push(f);const m=Hd.Bi(h.targetId,f);o.push(m)}}))}),await Promise.all(l),i.fc.eu(r),await async function(u,h){const f=_t(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(h,_=>z.forEach(_.$i,v=>f.persistence.referenceDelegate.addReference(m,_.targetId,v)).next(()=>z.forEach(_.Fi,v=>f.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))}catch(m){if(!qo(m))throw m;tt("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const _=m.targetId;if(!m.fromCache){const v=f.Hi.get(_),T=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(T);f.Hi=f.Hi.insert(_,S)}}}(i.localStore,o))}async function hL(e,t){const n=_t(e);if(!n.currentUser.isEqual(t)){tt("SyncEngine","User change. New user:",t.toKey());const i=await Pw(n.localStore,t);n.currentUser=t,function(r,o){r.Tc.forEach(l=>{l.forEach(u=>{u.reject(new J(N.CANCELLED,o))})}),r.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Qo(n,i.tr)}}function dL(e,t){const n=_t(e),i=n.gc.get(t);if(i&&i.lc)return bt().add(i.key);{let r=bt();const o=n._c.get(t);if(!o)return r;for(const l of o){const u=n.dc.get(l);r=r.unionWith(u.view.ec)}return r}}function fL(e){const t=_t(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aL.bind(null,t),t.fc.eu=QR.bind(null,t.eventManager),t.fc.vc=XR.bind(null,t.eventManager),t}function pL(e){const t=_t(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cL.bind(null,t),t}class _g{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=pc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return yR(this.persistence,new _R,t.initialUser,this.serializer)}createPersistence(t){return new mR(Vd.js,this.serializer)}createSharedClientState(t){return new SR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mL{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mg(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hL.bind(null,this.syncEngine),await qR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new KR}createDatastore(t){const n=pc(t.databaseInfo.databaseId),i=(r=t.databaseInfo,new kR(r));var r;return function(o,l,u,h){return new OR(o,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return n=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>mg(this.syncEngine,u,0),l=dg.D()?new dg:new PR,new MR(n,i,r,o,l);var n,i,r,o,l}createSyncEngine(t,n){return function(i,r,o,l,u,h,f){const m=new nL(i,r,o,l,u,h);return f&&(m.Ac=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=_t(t);tt("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await Go(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):ai("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ae.UNAUTHENTICATED,this.clientId=qy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{tt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(tt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Zd(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Iu(e,t){e.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Pw(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function vg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yL(e);tt("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(r=>fg(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>fg(t.remoteStore,o)),e._onlineComponents=t}function vL(e){return e.name==="FirebaseError"?e.code===N.FAILED_PRECONDITION||e.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function yL(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Iu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!vL(n))throw n;ir("Error using user provided cache. Falling back to memory cache: "+n),await Iu(e,new _g)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),await Iu(e,new _g);return e._offlineComponents}async function jw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),await vg(e,e._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),await vg(e,new mL))),e._onlineComponents}function wL(e){return jw(e).then(t=>t.syncEngine)}async function EL(e){const t=await jw(e),n=t.eventManager;return n.onListen=iL.bind(null,t.syncEngine),n.onUnlisten=rL.bind(null,t.syncEngine),n}function TL(e,t,n={}){const i=new ki;return e.asyncQueue.enqueueAndForget(async()=>function(r,o,l,u,h){const f=new gL({next:_=>{o.enqueueAndForget(()=>GR(r,m)),_.fromCache&&u.source==="server"?h.reject(new J(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),m=new YR(l,f,{includeMetadataChanges:!0,Uu:!0});return ZR(r,m)}(await EL(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(e,t,n){if(!n)throw new J(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function bL(e,t,n,i){if(t===!0&&i===!0)throw new J(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function wg(e){if(!st.isDocumentKey(e))throw new J(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Eg(e){if(st.isDocumentKey(e))throw new J(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _c(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ut()}function Sl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_c(e);throw new J(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new J(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new J(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Vx;switch(n.type){case"firstParty":return new Wx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=yg.get(t);n&&(tt("ComponentProvider","Removing Datastore"),yg.delete(t),n.terminate())}(this),Promise.resolve()}}function IL(e,t,n,i={}){var r;const o=(e=Sl(e,vc))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==t&&ir("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let l,u;if(typeof i.mockUserToken=="string")l=i.mockUserToken,u=Ae.MOCK_USER;else{l=Y_(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new J(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ae(h)}e._authCredentials=new Hx(new jy(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class br{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new br(this.firestore,t,this._query)}}class Ri extends br{constructor(t,n,i){super(t,n,ew(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new st(t))}withConverter(t){return new Ri(this.firestore,t,this._path)}}function ii(e,t,...n){if(e=ye(e),qw("collection","path",t),e instanceof vc){const i=Kt.fromString(t,...n);return Eg(i),new Ri(e,null,i)}{if(!(e instanceof hn||e instanceof Ri))throw new J(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Kt.fromString(t,...n));return Eg(i),new Ri(e.firestore,null,i)}}function CL(e,t,...n){if(e=ye(e),arguments.length===1&&(t=qy.A()),qw("doc","path",t),e instanceof vc){const i=Kt.fromString(t,...n);return wg(i),new hn(e,null,new st(i))}{if(!(e instanceof hn||e instanceof Ri))throw new J(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Kt.fromString(t,...n));return wg(i),new hn(e.firestore,e instanceof Ri?e.converter:null,new st(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new xw(this,"async_queue_retry"),this.Yc=()=>{const n=bu();n&&tt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const t=bu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const n=bu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new ki;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Gc.push(t),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(t){if(!qo(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(t){const n=this.Kc.then(()=>(this.Wc=!0,t().catch(i=>{this.zc=i,this.Wc=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw ai("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Wc=!1,i))));return this.Kc=n,n}enqueueAfterDelay(t,n,i){this.Xc(),this.Jc.indexOf(t)>-1&&(n=0);const r=Kd.createAndSchedule(this,t,n,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&ut()}verifyOperationInProgress(){}async na(){let t;do t=this.Kc,await t;while(t!==this.Kc)}sa(t){for(const n of this.jc)if(n.timerId===t)return!0;return!1}ia(t){return this.na().then(()=>{this.jc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.na()})}ra(t){this.Jc.push(t)}ea(t){const n=this.jc.indexOf(t);this.jc.splice(n,1)}}class Xd extends vc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new SL,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kw(this),this._firestoreClient.terminate()}}function PL(e,t){const n=typeof e=="object"?e:Qh(),i=typeof e=="string"?e:t||"(default)",r=Hl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Q_("firestore");o&&IL(r,...o)}return r}function Ww(e){return e._firestoreClient||Kw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kw(e){var t,n,i;const r=e._freezeSettings(),o=function(l,u,h,f){return new sk(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new _L(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cr(Be.fromBase64String(t))}catch(n){throw new J(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cr(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Re(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=/^__.*__$/;class xL{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ko(t,this.data,n,this.fieldTransforms)}}function Gw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class tf{constructor(t,n,i,r,o,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new tf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ca({path:i,ha:!1});return r.la(t),r}fa(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ca({path:i,ha:!1});return r.oa(),r}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return Pl(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(t.length===0)throw this._a("Document fields must not be empty");if(Gw(this.ua)&&AL.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class kL{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||pc(t)}ga(t,n,i,r=!1){return new tf({ua:t,methodName:n,ma:i,path:Re.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qw(e){const t=e._freezeSettings(),n=pc(e._databaseId);return new kL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RL(e,t,n,i,r,o={}){const l=e.ga(o.merge||o.mergeFields?2:0,t,n,r);Jw("Data must be an object, but it was:",l,i);const u=Xw(i,l);let h,f;if(o.merge)h=new yn(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const v=OL(t,_,n);if(!l.contains(v))throw new J(N.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ML(m,v)||m.push(v)}h=new yn(m),f=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=l.fieldTransforms;return new xL(new an(u),h,f)}function LL(e,t,n,i=!1){return ef(n,e.ga(i?4:3,t))}function ef(e,t){if(Yw(e=ye(e)))return Jw("Unsupported field value:",t,e),Xw(e,t);if(e instanceof Zw)return function(n,i){if(!Gw(i.ua))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&t.ua!==4)throw t._a("Nested arrays are not supported");return function(n,i){const r=[];let o=0;for(const l of n){let u=ef(l,i.da(o));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(e,t)}return function(n,i){if((n=ye(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Ik(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=pe.fromDate(n);return{timestampValue:Il(i.serializer,r)}}if(n instanceof pe){const r=new pe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Il(i.serializer,r)}}if(n instanceof Jd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cr)return{bytesValue:Ew(i.serializer,n._byteString)};if(n instanceof hn){const r=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:zd(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${_c(n)}`)}(e,t)}function Xw(e,t){const n={};return Wy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wr(e,(i,r)=>{const o=ef(r,t.aa(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function Yw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof pe||e instanceof Jd||e instanceof cr||e instanceof hn||e instanceof Zw)}function Jw(e,t,n){if(!Yw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=_c(n);throw i==="an object"?t._a(e+" a custom object"):t._a(e+" "+i)}}function OL(e,t,n){if((t=ye(t))instanceof Yd)return t._internalPath;if(typeof t=="string")return t0(e,t);throw Pl("Field path arguments must be of type string or ",e,!1,void 0,n)}const NL=new RegExp("[~\\*/\\[\\]]");function t0(e,t,n){if(t.search(NL)>=0)throw Pl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Yd(...t.split("."))._internalPath}catch{throw Pl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pl(e,t,n,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new J(N.INVALID_ARGUMENT,u+e+h)}function ML(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,n,i,r,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(nf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DL extends e0{data(){return super.data()}}function nf(e,t){return typeof t=="string"?t0(e,t):t instanceof Yd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sf{}class FL extends sf{}function rf(e,t,...n){let i=[];t instanceof sf&&i.push(t),i=i.concat(n),function(r){const o=r.filter(u=>u instanceof af).length,l=r.filter(u=>u instanceof yc).length;if(o>1||o>0&&l>0)throw new J(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class yc extends FL{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new yc(t,n,i)}_apply(t){const n=this._parse(t);return n0(t._query,n),new br(t.firestore,t.converter,mh(t._query,n))}_parse(t){const n=Qw(t.firestore);return function(r,o,l,u,h,f,m){let _;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new J(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Ig(m,f);const v=[];for(const T of m)v.push(bg(u,r,T));_={arrayValue:{values:v}}}else _=bg(u,r,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Ig(m,f),_=LL(l,o,m,f==="in"||f==="not-in");return fe.create(h,f,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function of(e,t,n){const i=t,r=nf("where",e);return yc._create(r,i,n)}class af extends sf{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new af(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const u of l)n0(o,u),o=mh(o,u)}(t._query,n),new br(t.firestore,t.converter,mh(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bg(e,t,n){if(typeof(n=ye(n))=="string"){if(n==="")throw new J(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(t)&&n.indexOf("/")!==-1)throw new J(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Kt.fromString(n));if(!st.isDocumentKey(i))throw new J(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Km(e,new st(i))}if(n instanceof hn)return Km(e,n._key);throw new J(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_c(n)}.`)}function Ig(e,t){if(!Array.isArray(e)||e.length===0)throw new J(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function n0(e,t){if(t.isInequality()){const i=Dd(e),r=t.field;if(i!==null&&!i.isEqual(r))throw new J(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=nw(e);o!==null&&BL(e,r,o)}const n=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new J(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function BL(e,t,n){if(!n.isEqual(t))throw new J(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class zL{convertValue(t,n="none"){switch(_s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(gs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ut()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return wr(t,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(t){return new Jd(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ld(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(To(t));default:return null}}convertTimestamp(t){const n=Di(t);return new pe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Kt.fromString(t);Zt(Sw(i));const r=new bo(i.get(1),i.get(3)),o=new st(i.popFirst(5));return r.isEqual(n)||ai(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class VL extends e0{constructor(t,n,i,r,o,l){super(t,n,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(nf("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ga extends VL{data(t={}){return super.data(t)}}class HL{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Oa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ga(this._firestore,this._userDataWriter,i.key,i,new Oa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Ga(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new Ga(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:jL(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}class qL extends zL{constructor(t){super(),this.firestore=t}convertBytes(t){return new cr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Po(e){e=Sl(e,br);const t=Sl(e.firestore,Xd),n=Ww(t),i=new qL(t);return UL(e._query),TL(n,e._query).then(r=>new HL(t,i,e,r))}function Al(e,t){const n=Sl(e.firestore,Xd),i=CL(e),r=$L(e.converter,t);return WL(n,[RL(Qw(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,ni.exists(!1))]).then(()=>i)}function WL(e,t){return function(n,i){const r=new ki;return n.asyncQueue.enqueueAndForget(async()=>oL(await wL(n),i,r)),r.promise}(Ww(e),t)}(function(e,t=!0){(function(n){yr=n})(ys),ds(new Ni("firestore",(n,{instanceIdentifier:i,options:r})=>{const o=n.getProvider("app").getImmediate(),l=new Xd(new jx(n.getProvider("auth-internal")),new Zx(n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(u.options.projectId,h)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Dn(Vm,"3.11.0",e),Dn(Vm,"3.11.0","esm2017")})();const KL={data(){return{userEmail:null}},methods:{registerWithEmailAndPassword(){const e=document.getElementById("registerForm"),t=e.registerEmail.value,n=e.registerPassword.value,i=e.registerPasswordRepeat.value,r=e.registerName.value;n===i?FP(cn,t,n).then(async o=>{const l=await Al(ii(us,"users"),{name:r,email:t});console.log(`User added with ID: ${l.id}`);const u=o.user;console.log("User signed up successfully:",u.email)}).catch(o=>{const l=o.code,u=o.message;console.log(l+" - "+u),alert("Registration error - "+l+" - "+u)}):alert("Different passwords"),e.reset()},logInWithEmailAndPassword(){const e=document.getElementById("logInForm"),t=e.logInEmail.value,n=e.logInPassword.value;BP(cn,t,n).then(i=>{const r=i.user;console.log("User logged in successfully:",r.email)}).catch(i=>{const r=i.code,o=i.message;console.log(r+" - "+o),alert("Login error - "+r+" - "+o)}),e.reset()},signInWithGoogle(){const e=new Ln;lA(cn,e).then(async t=>{Ln.credentialFromResult(t).accessToken;const i=t.user,r=ii(us,"users"),o=rf(r,of("email","==",i.email));if((await Po(o)).empty){const u=await Al(ii(us,"users"),{name:i.displayName,email:i.email});console.log(`User added with ID: ${u.id}`)}console.log("User signed in with Google:",i.displayName)}).catch(t=>{const n=t.code,i=t.message;console.log(n+" - "+i),alert("Google registration error - "+n+" - "+i)})}},mounted(){Pv(cn,e=>{e?this.userEmail=e.email:this.userEmail=null})}},ZL={key:0,class:"container col-sm-4 col-md-4 text-center"},GL=x("h1",null,"Login form:",-1),QL={id:"logInForm"},XL={class:"row"},YL=fr('<div class="col-sm-12 col-md-12"><label for="logInEmail">Email: </label><input type="email" id="logInEmail" name="logInEmail" required></div><div class="col-sm-12 col-md-12"><label for="logInPassword">Password: </label><input type="password" id="logInPassword" name="logInPassword" required></div>',2),JL={class:"col-sm-12 col-md-12"},tO=x("h1",null,"Sign in with Google!",-1),eO=x("h1",null,"Registration form:",-1),nO={id:"registerForm"},iO=fr('<div class="row"><div class="col-sm-6 col-md-6"><label for="registerName">Name:</label><input type="text-name" class="form-control" id="registerName" name="registerName" required></div><div class="col-md-6 col-sm-6"><label for="registerEmail">E-mail:</label><input type="email" class="form-control" id="registerEmail" name="registerEmail" required></div><div class="col-md-6 col-sm-6"><label for="registerPassword">Password:</label><input type="password" class="form-control" id="registerPassword" name="registerPassword" required></div><div class="col-md-6 col-sm-6"><label for="registerPasswordRepeat">Repeat password:</label><input type="password" class="form-control" id="registerPasswordRepeat" name="registerPasswordRepeat" required></div></div>',1);function sO(e,t,n,i,r,o){return r.userEmail?x_("",!0):(ge(),Oe("div",ZL,[GL,x("form",QL,[x("div",XL,[YL,x("div",JL,[x("button",{type:"button",onClick:t[0]||(t[0]=l=>o.logInWithEmailAndPassword()),class:"btn btn-login"},"Log in")])])]),tO,x("button",{id:"login-google",onClick:t[1]||(t[1]=l=>o.signInWithGoogle())},"Sign In with Google"),eO,x("form",nO,[iO,x("button",{type:"button",onClick:t[2]||(t[2]=l=>o.registerWithEmailAndPassword()),class:"btn btn-primary"},"Register")])]))}const rO=Vn(KL,[["render",sO]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firebasestorage.googleapis.com",s0="storageBucket",oO=2*60*1e3,aO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re extends Hn{constructor(t,n,i=0){super(Cu(t),`Firebase Storage: ${n} (${Cu(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,re.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Cu(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var se;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(se||(se={}));function Cu(e){return"storage/"+e}function lf(){const e="An unknown error occurred, please check the error payload for server response.";return new re(se.UNKNOWN,e)}function lO(e){return new re(se.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function cO(e){return new re(se.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uO(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new re(se.UNAUTHENTICATED,e)}function hO(){return new re(se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dO(e){return new re(se.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function fO(){return new re(se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pO(){return new re(se.CANCELED,"User canceled the upload/download.")}function mO(e){return new re(se.INVALID_URL,"Invalid URL '"+e+"'.")}function gO(e){return new re(se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function _O(){return new re(se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s0+"' property when initializing the app?")}function vO(){return new re(se.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yO(){return new re(se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wO(e){return new re(se.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ih(e){return new re(se.INVALID_ARGUMENT,e)}function r0(){return new re(se.APP_DELETED,"The Firebase app was deleted.")}function EO(e){return new re(se.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function io(e,t){return new re(se.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Br(e){throw new re(se.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Ge.makeFromUrl(t,n)}catch{return new Ge(t,"")}if(i.path==="")return i;throw gO(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${m}/b/${r}/o${v}`,"i"),S={bucket:1,path:3},I=n===i0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",B=new RegExp(`^https?://${I}/${r}/${D}`,"i"),M=[{regex:u,indices:h,postModify:o},{regex:T,indices:S,postModify:f},{regex:B,indices:{bucket:1,path:2},postModify:f}];for(let Y=0;Y<M.length;Y++){const ft=M[Y],Ot=ft.regex.exec(t);if(Ot){const Gt=Ot[ft.indices.bucket];let ot=Ot[ft.indices.path];ot||(ot=""),i=new Ge(Gt,ot),ft.postModify(i);break}}if(i==null)throw mO(t);return i}}class TO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e,t,n){let i=1,r=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...D){f||(f=!0,t.apply(null,D))}function _(D){r=setTimeout(()=>{r=null,e(T,h())},D)}function v(){o&&clearTimeout(o)}function T(D,...B){if(f){v();return}if(D){v(),m.call(null,D,...B);return}if(h()||l){v(),m.call(null,D,...B);return}i<64&&(i*=2);let M;u===1?(u=2,M=0):M=(i+Math.random())*1e3,_(M)}let S=!1;function I(D){S||(S=!0,v(),!f&&(r!==null?(D||(u=2),clearTimeout(r),_(0)):D||(u=1)))}return _(0),o=setTimeout(()=>{l=!0,I(!0)},n),I}function IO(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(e){return e!==void 0}function SO(e){return typeof e=="object"&&!Array.isArray(e)}function cf(e){return typeof e=="string"||e instanceof String}function Cg(e){return uf()&&e instanceof Blob}function uf(){return typeof Blob<"u"&&!RC()}function Sg(e,t,n,i){if(i<t)throw Ih(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Ih(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function o0(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(cs||(cs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,n,i,r,o,l,u,h,f,m,_,v=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Na(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===cs.NO_ERROR,h=o.getStatus();if(!u||PO(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===cs.ABORT;i(!1,new Na(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Na(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());CO(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=lf();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(r.canceled){const h=this.appDelete_?r0():pO();l(h)}else{const h=fO();l(h)}};this.canceled_?n(!1,new Na(!1,null,!0)):this.backoffId_=bO(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&IO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Na{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function xO(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function kO(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function RO(e,t){t&&(e["X-Firebase-GMPID"]=t)}function LO(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function OO(e,t,n,i,r,o,l=!0){const u=o0(e.urlParams),h=e.url+u,f=Object.assign({},e.headers);return RO(f,t),xO(f,n),kO(f,o),LO(f,i),new AO(h,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MO(...e){const t=NO();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(uf())return new Blob(e);throw new re(se.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DO(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(e){if(typeof atob>"u")throw wO("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Su{constructor(t,n){this.data=t,this.contentType=n||null}}function FO(e,t){switch(e){case Mn.RAW:return new Su(a0(t));case Mn.BASE64:case Mn.BASE64URL:return new Su(l0(e,t));case Mn.DATA_URL:return new Su(zO(t),$O(t))}throw lf()}function a0(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=i,l=e.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function BO(e){let t;try{t=decodeURIComponent(e)}catch{throw io(Mn.DATA_URL,"Malformed data URL.")}return a0(t)}function l0(e,t){switch(e){case Mn.BASE64:{const r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw io(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Mn.BASE64URL:{const r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw io(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=UO(t)}catch(r){throw r.message.includes("polyfill")?r:io(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class c0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw io(Mn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=VO(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function zO(e){const t=new c0(e);return t.base64?l0(Mn.BASE64,t.rest):BO(t.rest)}function $O(e){return new c0(e).contentType}function VO(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n){let i=0,r="";Cg(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(Cg(this.data_)){const i=this.data_,r=DO(i,t,n);return r===null?null:new Ii(r)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new Ii(i,!0)}}static getBlob(...t){if(uf()){const n=t.map(i=>i instanceof Ii?i.data_:i);return new Ii(MO.apply(null,n))}else{const n=t.map(l=>cf(l)?FO(Mn.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new Ii(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(e){let t;try{t=JSON.parse(e)}catch{return null}return SO(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function jO(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function h0(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(e,t){return t}class ze{constructor(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||qO}}let Ma=null;function WO(e){return!cf(e)||e.length<2?e:h0(e)}function d0(){if(Ma)return Ma;const e=[];e.push(new ze("bucket")),e.push(new ze("generation")),e.push(new ze("metageneration")),e.push(new ze("name","fullPath",!0));function t(o,l){return WO(l)}const n=new ze("name");n.xform=t,e.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new ze("size");return r.xform=i,e.push(r),e.push(new ze("timeCreated")),e.push(new ze("updated")),e.push(new ze("md5Hash",null,!0)),e.push(new ze("cacheControl",null,!0)),e.push(new ze("contentDisposition",null,!0)),e.push(new ze("contentEncoding",null,!0)),e.push(new ze("contentLanguage",null,!0)),e.push(new ze("contentType",null,!0)),e.push(new ze("metadata","customMetadata",!0)),Ma=e,Ma}function KO(e,t){function n(){const i=e.bucket,r=e.fullPath,o=new Ge(i,r);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function ZO(e,t,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,t[l.server])}return KO(i,e),i}function f0(e,t,n){const i=u0(t);return i===null?null:ZO(e,i,n)}function GO(e,t,n,i){const r=u0(t);if(r===null||!cf(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=e.bucket,_=e.fullPath,v="/b/"+l(m)+"/o/"+l(_),T=hf(v,n,i),S=o0({alt:"media",token:f});return T+S})[0]}function QO(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class p0{constructor(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e){if(!e)throw lf()}function XO(e,t){function n(i,r){const o=f0(e,r,t);return m0(o!==null),o}return n}function YO(e,t){function n(i,r){const o=f0(e,r,t);return m0(o!==null),GO(o,r,e.host,e._protocol)}return n}function g0(e){function t(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=hO():r=uO():n.getStatus()===402?r=cO(e.bucket):n.getStatus()===403?r=dO(e.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return t}function JO(e){const t=g0(e);function n(i,r){let o=t(i,r);return i.getStatus()===404&&(o=lO(e.path)),o.serverResponse=r.serverResponse,o}return n}function tN(e,t,n){const i=t.fullServerUrl(),r=hf(i,e.host,e._protocol),o="GET",l=e.maxOperationRetryTime,u=new p0(r,o,YO(e,n),l);return u.errorHandler=JO(t),u}function eN(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function nN(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=eN(null,t)),i}function iN(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let M="";for(let Y=0;Y<2;Y++)M=M+Math.random().toString().slice(2);return M}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=nN(t,i,r),m=QO(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",T=Ii.getBlob(_,i,v);if(T===null)throw vO();const S={name:f.fullPath},I=hf(o,e.host,e._protocol),D="POST",B=e.maxUploadRetryTime,q=new p0(I,D,XO(e,n),B);return q.urlParams=S,q.headers=l,q.body=T.uploadData(),q.errorHandler=g0(t),q}class sN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cs.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cs.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cs.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,r){if(this.sent_)throw Br("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Br("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Br("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Br("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Br("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class rN extends sN{initXhr(){this.xhr_.responseType="text"}}function _0(){return new rN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n){this._service=t,n instanceof Ge?this._location=n:this._location=Ge.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new vs(t,n)}get root(){const t=new Ge(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h0(this._location.path)}get storage(){return this._service}get parent(){const t=HO(this._location.path);if(t===null)return null;const n=new Ge(this._location.bucket,t);return new vs(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw EO(t)}}function oN(e,t,n){e._throwIfRoot("uploadBytes");const i=iN(e.storage,e._location,d0(),new Ii(t,!0),n);return e.storage.makeRequestWithTokens(i,_0).then(r=>({metadata:r,ref:e}))}function aN(e){e._throwIfRoot("getDownloadURL");const t=tN(e.storage,e._location,d0());return e.storage.makeRequestWithTokens(t,_0).then(n=>{if(n===null)throw yO();return n})}function lN(e,t){const n=jO(e._location.path,t),i=new Ge(e._location.bucket,n);return new vs(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){return/^[A-Za-z]+:\/\//.test(e)}function uN(e,t){return new vs(e,t)}function v0(e,t){if(e instanceof df){const n=e;if(n._bucket==null)throw _O();const i=new vs(n,n._bucket);return t!=null?v0(i,t):i}else return t!==void 0?lN(e,t):e}function hN(e,t){if(t&&cN(t)){if(e instanceof df)return uN(e,t);throw Ih("To use ref(service, url), the first argument must be a Storage instance.")}else return v0(e,t)}function Pg(e,t){const n=t==null?void 0:t[s0];return n==null?null:Ge.makeFromBucketSpec(n,e)}function dN(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken=typeof r=="string"?r:Y_(r,e.app.options.projectId))}class df{constructor(t,n,i,r,o){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=i0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oO,this._maxUploadRetryTime=aO,this._requests=new Set,r!=null?this._bucket=Ge.makeFromBucketSpec(r,this._host):this._bucket=Pg(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ge.makeFromBucketSpec(this._url,t):this._bucket=Pg(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Sg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Sg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vs(this,t)}_makeRequest(t,n,i,r,o=!0){if(this._deleted)return new TO(r0());{const l=OO(t,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const Ag="@firebase/storage",xg="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="storage";function fN(e,t,n){return e=ye(e),oN(e,t,n)}function pN(e){return e=ye(e),aN(e)}function mN(e,t){return e=ye(e),hN(e,t)}function gN(e=Qh(),t){e=ye(e);const i=Hl(e,y0).getImmediate({identifier:t}),r=Q_("storage");return r&&_N(i,...r),i}function _N(e,t,n,i={}){dN(e,t,n,i)}function vN(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new df(n,i,r,t,ys)}function yN(){ds(new Ni(y0,vN,"PUBLIC").setMultipleInstances(!0)),Dn(Ag,xg,""),Dn(Ag,xg,"esm2017")}yN();const wN={data(){return{photo:null,constraints:{video:{facingMode:"environment"}},stream:null,userEmail:null}},methods:{async addAnimalToLoggedUser(){const e=document.getElementById("dodawanieForm"),t=e.animalName.value,n=e.animalSpecies.value,i=e.animalGender.value,r=e.animalBirthDate.value,o=e.animalPhoto.files[0];let l=null;if(t!==""&&n!==""&&i!==""&&r!==""&&o){const u=ii(us,"users"),h=rf(u,of("email","==",this.email));(await Po(h)).forEach(async m=>{console.log(`Owners ID: ${m.id}`);const _=ii(m.ref,"animals");try{const v=gN(),T=mN(v,o.name);await fN(T,o).then(()=>{console.log("Uploaded a file!")}),l=await pN(T);const S=await Al(_,{animalName:t,animalSpecies:n,animalGender:i,animalBirthDate:r,animalPhotoLink:l});console.log(`Collection added with ID: ${S.id}`)}catch(v){console.error(v)}}),e.reset()}else alert("All fields are required!")},takePhoto(){const e=document.createElement("canvas");e.width=this.$refs.video.videoWidth,e.height=this.$refs.video.videoHeight,e.getContext("2d").drawImage(this.$refs.video,0,0),this.photo=e.toDataURL("image/jpeg")},stopCamera(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.$refs.video.srcObject=null,this.stream=null)},startCamera(){navigator.mediaDevices.getUserMedia(this.constraints).then(e=>{this.$refs.video.srcObject=e,this.stream=e}).catch(e=>{console.error(e)})}},mounted(){this.startCamera();const e=cn.currentUser;e&&(this.email=e.email)}},EN={class:"container"},TN={id:"dodawanieForm"},bN={class:"add-animal"},IN={class:"row"},CN=fr('<div class="col-md-8" data-v-b2fc1984><div class="form-group" data-v-b2fc1984><label for="animalName" data-v-b2fc1984>Animal name:</label><input type="text" class="form-control" id="animalName" name="animalName" required data-v-b2fc1984></div><div class="form-group" data-v-b2fc1984><label for="animalSpecies" data-v-b2fc1984>Species:</label><input type="text" class="form-control" id="animalSpecies" name="animalSpecies" required data-v-b2fc1984></div><div class="form-group" data-v-b2fc1984><label for="animalGender" data-v-b2fc1984>Gender:</label><select class="form-control" id="animalGender" name="animalGender" required data-v-b2fc1984><option value="male" data-v-b2fc1984>Male</option><option value="female" data-v-b2fc1984>Female</option></select></div><div class="form-group" data-v-b2fc1984><label for="animalBirthDate" data-v-b2fc1984>Birth date:</label><input type="date" class="form-control" id="animalBirthDate" name="animalBirthDate" required data-v-b2fc1984></div></div><div class="form-group" data-v-b2fc1984><label for="animalPhoto" data-v-b2fc1984>Animal photo:</label><input type="file" class="form-control-file" id="animalPhoto" name="animalPhoto" required data-v-b2fc1984></div>',2),SN={class:"col-md-12"},PN={class:"video-container"},AN={class:"video",ref:"video",autoplay:""},xN={class:"button-container"},kN=["href"];function RN(e,t,n,i,r,o){return ge(),Oe("div",EN,[x("form",TN,[x("div",bN,[x("div",IN,[CN,x("div",SN,[x("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=l=>o.addAnimalToLoggedUser())},"Add animal! ")]),x("div",PN,[x("video",AN,null,512)]),x("div",xN,[x("button",{class:"buttonStartCam",onClick:t[1]||(t[1]=(...l)=>o.startCamera&&o.startCamera(...l))},"Start Camera"),x("button",{class:"buttonPhoto",onClick:t[2]||(t[2]=(...l)=>o.takePhoto&&o.takePhoto(...l))},"Take Photo"),x("a",{class:"button download-button",href:r.photo,download:"photo.jpg"},"Download Photo",8,kN),x("button",{class:"buttonStopCam",onClick:t[3]||(t[3]=(...l)=>o.stopCamera&&o.stopCamera(...l))},"Stop Camera")])])])])])}const LN=Vn(wN,[["render",RN],["__scopeId","data-v-b2fc1984"]]),ON={methods:{async saveAppointment(){const e=document.getElementById("appoForm"),t=e.appoAnimalName.value,n=e.appoDate.value,i=e.appoVetName.value;if(t!==""&&n!==""&&i!==""){const r=await Al(ii(us,"appointments"),{animalName:t,date:pe.fromDate(new Date(n)),owner:this.email,vetName:i});console.log(`Appointment added with ID: ${r.id}`),e.reset()}else alert("All fields are required!")}},mounted(){const e=cn.currentUser;e&&(this.email=e.email)}},NN={class:"container"},MN=x("h2",null,"Add Appointment",-1),DN={id:"appoForm"},UN={class:"row"},FN={class:"addApoinment"},BN={class:"col-md-8"},zN=fr('<div class="form-group"><label for="appoAnimalName">Animal name:</label><input type="text" class="form-control" id="appoAnimalName" placeholder="Enter name" name="appoAnimalName" required></div><div class="form-group"><label for="appoDate">Date of Visit:</label><input type="datetime-local" class="form-control" id="appoDate" placeholder="Enter date" name="appoDate" required></div><div class="form-group"><label for="appoVetName">Vet Doc Name:</label><input type="text" class="form-control" id="appoVetName" placeholder="Enter vet name" name="appoVetName" required></div>',3);function $N(e,t,n,i,r,o){return ge(),Oe("div",NN,[MN,x("form",DN,[x("div",UN,[x("div",FN,[x("div",BN,[zN,x("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=l=>o.saveAppointment())},"Submit")])])])])])}const VN=Vn(ON,[["render",$N]]),HN={name:"AnimalsList",data(){return{animals:[]}},created(){this.getAnimals()},methods:{async getAnimals(){const e=cn.currentUser;if(e){const t=ii(us,"users"),n=rf(t,of("email","==",e.email));(await Po(n)).forEach(async r=>{console.log(`Owners ID: ${r.id}`);const o=ii(r.ref,"animals");try{(await Po(o)).forEach(u=>{const h=u.data();this.animals.push({animalBirthDate:h.animalBirthDate,animalGender:h.animalGender,animalName:h.animalName,animalPhotoLink:h.animalPhotoLink,animalSpecies:h.animalSpecies})})}catch(l){console.error(l)}})}}}},jN={class:"container"},qN=x("h2",null,"List of Animals",-1),WN={class:"row"},KN={class:"col-sm-12 col-md-12"},ZN={class:"table-responsive-sm"},GN={class:"table"},QN=x("thead",null,[x("tr",null,[x("th",null,"Name"),x("th",null,"Species"),x("th",null,"Gender"),x("th",null,"Birth Date"),x("th",null,"Animal Photo")])],-1),XN=["src"];function YN(e,t,n,i,r,o){return ge(),Oe("div",jN,[qN,x("div",WN,[x("div",KN,[x("div",ZN,[x("table",GN,[QN,x("tbody",null,[(ge(!0),Oe(We,null,v_(r.animals,l=>(ge(),Oe("tr",{key:l.name},[x("td",null,ts(l.animalName),1),x("td",null,ts(l.animalSpecies),1),x("td",null,ts(l.animalGender),1),x("td",null,ts(l.animalBirthDate),1),x("td",null,[x("img",{src:l.animalPhotoLink,style:{maxWidth:"100px",maxHeight:"100px"},alt:"Animal image"},null,8,XN)])]))),128))])])])])])])}const JN=Vn(HN,[["render",YN]]),tM={name:"AppointmentsList",data(){return{appointments:[]}},created(){this.getAppointments()},methods:{async getAppointments(){const e=await Po(ii(us,"appointments")),t=cn.currentUser,n=i=>{const r=new Date(i.seconds*1e3),o=r.getFullYear(),l=("0"+(r.getMonth()+1)).slice(-2),u=("0"+r.getDate()).slice(-2),h=("0"+r.getHours()).slice(-2),f=("0"+r.getMinutes()).slice(-2);return`${o}-${l}-${u} ${h}:${f}`};t&&(this.email=t.email,e.forEach(i=>{const r=i.data();r.owner===t.email&&this.appointments.push({animalName:r.animalName,date:n(r.date),owner:r.owner,vetName:r.vetName})}))}},mounted(){const e=cn.currentUser;e&&(this.email=e.email)}},eM={class:"container"},nM=x("h2",null,"List of Appointments",-1),iM={class:"row"},sM={class:"col-sm-12 col-md-12"},rM={class:"table-responsive-sm"},oM={class:"table"},aM=x("thead",null,[x("tr",null,[x("th",null,"Animal"),x("th",null,"Date"),x("th",null,"Vet Name")])],-1);function lM(e,t,n,i,r,o){return ge(),Oe("div",eM,[nM,x("div",iM,[x("div",sM,[x("div",rM,[x("table",oM,[aM,x("tbody",null,[(ge(!0),Oe(We,null,v_(r.appointments,l=>(ge(),Oe("tr",{key:l.owner},[x("td",null,ts(l.animalName),1),x("td",null,ts(l.date),1),x("td",null,ts(l.vetName),1)]))),128))])])])])])])}const cM=Vn(tM,[["render",lM]]);var uM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ch={exports:{}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(uM,function(n){var i="1.9.3";function r(s){var a,c,d,p;for(c=1,d=arguments.length;c<d;c++){p=arguments[c];for(a in p)s[a]=p[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var d=c.call(arguments,2);return function(){return s.apply(a,d.length?d.concat(c.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,a,c){var d,p,g,w;return w=function(){d=!1,p&&(g.apply(c,p),p=!1)},g=function(){d?p=arguments:(s.apply(c,arguments),setTimeout(w,a),d=!0)},g}function m(s,a,c){var d=a[1],p=a[0],g=d-p;return s===d&&c?s:((s-p)%g+g)%g+p}function _(){return!1}function v(s,a){if(a===!1)return s;var c=Math.pow(10,a===void 0?6:a);return Math.round(s*c)/c}function T(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function S(s){return T(s).split(/\s+/)}function I(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in a)s.options[c]=a[c];return s.options}function D(s,a,c){var d=[];for(var p in s)d.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function q(s,a){return s.replace(B,function(c,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(a)),p})}var M=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Y(s,a){for(var c=0;c<s.length;c++)if(s[c]===a)return c;return-1}var ft="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ot(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Gt=0;function ot(s){var a=+new Date,c=Math.max(0,16-(a-Gt));return Gt=a+c,window.setTimeout(s,c)}var Ft=window.requestAnimationFrame||Ot("RequestAnimationFrame")||ot,Ut=window.cancelAnimationFrame||Ot("CancelAnimationFrame")||Ot("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Nt(s,a,c){if(c&&Ft===ot)s.call(a);else return Ft.call(window,l(s,a))}function Bt(s){s&&Ut.call(window,s)}var Ze={__proto__:null,extend:r,create:o,bind:l,get lastId(){return u},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:v,trim:T,splitWords:S,setOptions:I,getParamString:D,template:q,isArray:M,indexOf:Y,emptyImageUrl:ft,requestFn:Ft,cancelFn:Ut,requestAnimFrame:Nt,cancelAnimFrame:Bt};function me(){}me.extend=function(s){var a=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,d=o(c);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return s.statics&&r(a,s.statics),s.includes&&(zi(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=c.options?o(c.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,w=d._initHooks.length;g<w;g++)d._initHooks[g].call(this)}},a},me.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},me.mergeOptions=function(s){return r(this.prototype.options,s),this},me.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function zi(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=M(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a);else{s=S(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,c)}return this},off:function(s,a,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],a);else{s=S(s);for(var p=arguments.length===1,g=0,w=s.length;g<w;g++)p?this._off(s[g]):this._off(s[g],a,c)}return this},_on:function(s,a,c,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,c)===!1){c===this&&(c=void 0);var p={fn:a,ctx:c};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,a,c){var d,p,g;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,g=d.length;p<g;p++)d[p].fn=_;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var w=this._listens(s,a,c);if(w!==!1){var b=d[w];this._firingCount&&(b.fn=_,this._events[s]=d=d.slice()),d.splice(w,1)}}},fire:function(s,a,c){if(!this.listens(s,c))return this;var d=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,w=p.length;g<w;g++){var b=p[g],C=b.fn;b.once&&this.off(s,C,b.ctx),C.call(b.ctx||this,d)}this._firingCount--}}return c&&this._propagateEvent(d),this},listens:function(s,a,c,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,c=void 0);var g=this._events&&this._events[s];if(g&&g.length&&this._listens(s,p,c)!==!1)return!0;if(d){for(var w in this._eventParents)if(this._eventParents[w].listens(s,a,c,d))return!0}return!1},_listens:function(s,a,c){if(!this._events)return!1;var d=this._events[s]||[];if(!a)return!!d.length;c===this&&(c=void 0);for(var p=0,g=d.length;p<g;p++)if(d[p].fn===a&&d[p].ctx===c)return p;return!1},once:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a,!0);else{s=S(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var xt=me.extend(Ct);function G(s,a,c){this.x=c?Math.round(s):s,this.y=c?Math.round(a):a}var He=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(s){return this.clone()._add(rt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(rt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new G(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new G(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=He(this.x),this.y=He(this.y),this},distanceTo:function(s){s=rt(s);var a=s.x-this.x,c=s.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(s){return s=rt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=rt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function rt(s,a,c){return s instanceof G?s:M(s)?new G(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new G(s.x,s.y):new G(s,a,c)}function It(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}It.prototype={extend:function(s){var a,c;if(!s)return this;if(s instanceof G||typeof s[0]=="number"||"x"in s)a=c=rt(s);else if(s=zt(s),a=s.min,c=s.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return rt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return rt(this.min.x,this.max.y)},getTopRight:function(){return rt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,c;return typeof s[0]=="number"||s instanceof G?s=rt(s):s=zt(s),s instanceof It?(a=s.min,c=s.max):a=c=s,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=zt(s);var a=this.min,c=this.max,d=s.min,p=s.max,g=p.x>=a.x&&d.x<=c.x,w=p.y>=a.y&&d.y<=c.y;return g&&w},overlaps:function(s){s=zt(s);var a=this.min,c=this.max,d=s.min,p=s.max,g=p.x>a.x&&d.x<c.x,w=p.y>a.y&&d.y<c.y;return g&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,c=this.max,d=Math.abs(a.x-c.x)*s,p=Math.abs(a.y-c.y)*s;return zt(rt(a.x-d,a.y-p),rt(c.x+d,c.y+p))},equals:function(s){return s?(s=zt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function zt(s,a){return!s||s instanceof It?s:new It(s,a)}function oe(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}oe.prototype={extend:function(s){var a=this._southWest,c=this._northEast,d,p;if(s instanceof P)d=s,p=s;else if(s instanceof oe){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(F(s)||Jt(s)):this;return!a&&!c?(this._southWest=new P(d.lat,d.lng),this._northEast=new P(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(s){var a=this._southWest,c=this._northEast,d=Math.abs(a.lat-c.lat)*s,p=Math.abs(a.lng-c.lng)*s;return new oe(new P(a.lat-d,a.lng-p),new P(c.lat+d,c.lng+p))},getCenter:function(){return new P((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new P(this.getNorth(),this.getWest())},getSouthEast:function(){return new P(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof P||"lat"in s?s=F(s):s=Jt(s);var a=this._southWest,c=this._northEast,d,p;return s instanceof oe?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=a.lat&&p.lat<=c.lat&&d.lng>=a.lng&&p.lng<=c.lng},intersects:function(s){s=Jt(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>=a.lat&&d.lat<=c.lat,w=p.lng>=a.lng&&d.lng<=c.lng;return g&&w},overlaps:function(s){s=Jt(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>a.lat&&d.lat<c.lat,w=p.lng>a.lng&&d.lng<c.lng;return g&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=Jt(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Jt(s,a){return s instanceof oe?s:new oe(s,a)}function P(s,a,c){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,c!==void 0&&(this.alt=+c)}P.prototype={equals:function(s,a){if(!s)return!1;s=F(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return Q.distance(this,F(s))},wrap:function(){return Q.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,c=a/Math.cos(Math.PI/180*this.lat);return Jt([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new P(this.lat,this.lng,this.alt)}};function F(s,a,c){return s instanceof P?s:M(s)&&typeof s[0]!="object"?s.length===3?new P(s[0],s[1],s[2]):s.length===2?new P(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new P(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new P(s,a,c)}var H={latLngToPoint:function(s,a){var c=this.projection.project(s),d=this.scale(a);return this.transformation._transform(c,d)},pointToLatLng:function(s,a){var c=this.scale(a),d=this.transformation.untransform(s,c);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(s),d=this.transformation.transform(a.min,c),p=this.transformation.transform(a.max,c);return new It(d,p)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new P(c,a,d)},wrapLatLngBounds:function(s){var a=s.getCenter(),c=this.wrapLatLng(a),d=a.lat-c.lat,p=a.lng-c.lng;if(d===0&&p===0)return s;var g=s.getSouthWest(),w=s.getNorthEast(),b=new P(g.lat-d,g.lng-p),C=new P(w.lat-d,w.lng-p);return new oe(b,C)}},Q=r({},H,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var c=Math.PI/180,d=s.lat*c,p=a.lat*c,g=Math.sin((a.lat-s.lat)*c/2),w=Math.sin((a.lng-s.lng)*c/2),b=g*g+Math.cos(d)*Math.cos(p)*w*w,C=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*C}}),Et=6378137,jt={R:Et,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,s.lat),-c),p=Math.sin(d*a);return new G(this.R*s.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var a=180/Math.PI;return new P((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=Et*Math.PI;return new It([-s,-s],[s,s])}()};function mt(s,a,c,d){if(M(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=c,this._d=d}mt.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new G((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function y(s,a,c,d){return new mt(s,a,c,d)}var E=r({},Q,{code:"EPSG:3857",projection:jt,transformation:function(){var s=.5/(Math.PI*jt.R);return y(s,.5,-s,.5)}()}),A=r({},E,{code:"EPSG:900913"});function k(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function R(s,a){var c="",d,p,g,w,b,C;for(d=0,g=s.length;d<g;d++){for(b=s[d],p=0,w=b.length;p<w;p++)C=b[p],c+=(p?"L":"M")+C.x+" "+C.y;c+=a?nt.svg?"z":"x":""}return c||"M0 0"}var $=document.documentElement.style,W="ActiveXObject"in window,V=W&&!document.addEventListener,j="msLaunchUri"in navigator&&!("documentMode"in document),U=Cn("webkit"),et=Cn("android"),X=Cn("android 2")||Cn("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=et&&Cn("Google")&&it<537&&!("AudioNode"in window),vt=!!window.opera,$t=!j&&Cn("chrome"),Mt=Cn("gecko")&&!U&&!vt&&!W,ne=!$t&&Cn("safari"),je=Cn("phantom"),jn="OTransition"in $,Xo=navigator.platform.indexOf("Win")===0,hi=W&&"transition"in $,Is="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!X,Se="MozPerspective"in $,Xe=!window.L_DISABLE_3D&&(hi||Is||Se)&&!jn&&!je,di=typeof orientation<"u"||Cn("mobile"),T0=di&&U,b0=di&&Is,ff=!window.PointerEvent&&window.MSPointerEvent,pf=!!(window.PointerEvent||ff),mf="ontouchstart"in window||!!window.TouchEvent,I0=!window.L_NO_TOUCH&&(mf||pf),C0=di&&vt,S0=di&&Mt,P0=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,A0=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return s}(),x0=function(){return!!document.createElement("canvas").getContext}(),wc=!!(document.createElementNS&&k("svg").createSVGRect),k0=!!wc&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),R0=!wc&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),L0=navigator.platform.indexOf("Mac")===0,O0=navigator.platform.indexOf("Linux")===0;function Cn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var nt={ie:W,ielt9:V,edge:j,webkit:U,android:et,android23:X,androidStock:lt,opera:vt,chrome:$t,gecko:Mt,safari:ne,phantom:je,opera12:jn,win:Xo,ie3d:hi,webkit3d:Is,gecko3d:Se,any3d:Xe,mobile:di,mobileWebkit:T0,mobileWebkit3d:b0,msPointer:ff,pointer:pf,touch:I0,touchNative:mf,mobileOpera:C0,mobileGecko:S0,retina:P0,passiveEvents:A0,canvas:x0,svg:wc,vml:R0,inlineSvg:k0,mac:L0,linux:O0},gf=nt.msPointer?"MSPointerDown":"pointerdown",_f=nt.msPointer?"MSPointerMove":"pointermove",vf=nt.msPointer?"MSPointerUp":"pointerup",yf=nt.msPointer?"MSPointerCancel":"pointercancel",Ec={touchstart:gf,touchmove:_f,touchend:vf,touchcancel:yf},wf={touchstart:B0,touchmove:Yo,touchend:Yo,touchcancel:Yo},Cs={},Ef=!1;function N0(s,a,c){return a==="touchstart"&&F0(),wf[a]?(c=wf[a].bind(this,c),s.addEventListener(Ec[a],c,!1),c):(console.warn("wrong event specified:",a),_)}function M0(s,a,c){if(!Ec[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Ec[a],c,!1)}function D0(s){Cs[s.pointerId]=s}function U0(s){Cs[s.pointerId]&&(Cs[s.pointerId]=s)}function Tf(s){delete Cs[s.pointerId]}function F0(){Ef||(document.addEventListener(gf,D0,!0),document.addEventListener(_f,U0,!0),document.addEventListener(vf,Tf,!0),document.addEventListener(yf,Tf,!0),Ef=!0)}function Yo(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in Cs)a.touches.push(Cs[c]);a.changedTouches=[a],s(a)}}function B0(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Te(a),Yo(s,a)}function z0(s){var a={},c,d;for(d in s)c=s[d],a[d]=c&&c.bind?c.bind(s):c;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var $0=200;function V0(s,a){s.addEventListener("dblclick",a);var c=0,d;function p(g){if(g.detail!==1){d=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var w=Pf(g);if(!(w.some(function(C){return C instanceof HTMLLabelElement&&C.attributes.for})&&!w.some(function(C){return C instanceof HTMLInputElement||C instanceof HTMLSelectElement}))){var b=Date.now();b-c<=$0?(d++,d===2&&a(z0(g))):d=1,c=b}}}return s.addEventListener("click",p),{dblclick:a,simDblclick:p}}function H0(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var Tc=ea(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ir=ea(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bf=Ir==="webkitTransition"||Ir==="OTransition"?Ir+"End":"transitionend";function If(s){return typeof s=="string"?document.getElementById(s):s}function Cr(s,a){var c=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);c=d?d[a]:null}return c==="auto"?null:c}function kt(s,a,c){var d=document.createElement(s);return d.className=a||"",c&&c.appendChild(d),d}function te(s){var a=s.parentNode;a&&a.removeChild(s)}function Jo(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ss(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function Ps(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function bc(s,a){if(s.classList!==void 0)return s.classList.contains(a);var c=ta(s);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function yt(s,a){if(s.classList!==void 0)for(var c=S(a),d=0,p=c.length;d<p;d++)s.classList.add(c[d]);else if(!bc(s,a)){var g=ta(s);Ic(s,(g?g+" ":"")+a)}}function ae(s,a){s.classList!==void 0?s.classList.remove(a):Ic(s,T((" "+ta(s)+" ").replace(" "+a+" "," ")))}function Ic(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function ta(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ye(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&j0(s,a)}function j0(s,a){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):s.style.filter+=" progid:"+d+"(opacity="+a+")"}function ea(s){for(var a=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in a)return s[c];return!1}function $i(s,a,c){var d=a||new G(0,0);s.style[Tc]=(nt.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function ce(s,a){s._leaflet_pos=a,nt.any3d?$i(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function Vi(s){return s._leaflet_pos||new G(0,0)}var Sr,Pr,Cc;if("onselectstart"in document)Sr=function(){gt(window,"selectstart",Te)},Pr=function(){qt(window,"selectstart",Te)};else{var Ar=ea(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sr=function(){if(Ar){var s=document.documentElement.style;Cc=s[Ar],s[Ar]="none"}},Pr=function(){Ar&&(document.documentElement.style[Ar]=Cc,Cc=void 0)}}function Sc(){gt(window,"dragstart",Te)}function Pc(){qt(window,"dragstart",Te)}var na,Ac;function xc(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(ia(),na=s,Ac=s.style.outline,s.style.outline="none",gt(window,"keydown",ia))}function ia(){na&&(na.style.outline=Ac,na=void 0,Ac=void 0,qt(window,"keydown",ia))}function Cf(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function kc(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var q0={__proto__:null,TRANSFORM:Tc,TRANSITION:Ir,TRANSITION_END:bf,get:If,getStyle:Cr,create:kt,remove:te,empty:Jo,toFront:Ss,toBack:Ps,hasClass:bc,addClass:yt,removeClass:ae,setClass:Ic,getClass:ta,setOpacity:Ye,testProp:ea,setTransform:$i,setPosition:ce,getPosition:Vi,get disableTextSelection(){return Sr},get enableTextSelection(){return Pr},disableImageDrag:Sc,enableImageDrag:Pc,preventOutline:xc,restoreOutline:ia,getSizedParentNode:Cf,getScale:kc};function gt(s,a,c,d){if(a&&typeof a=="object")for(var p in a)Lc(s,p,a[p],c);else{a=S(a);for(var g=0,w=a.length;g<w;g++)Lc(s,a[g],c,d)}return this}var Sn="_leaflet_events";function qt(s,a,c,d){if(arguments.length===1)Sf(s),delete s[Sn];else if(a&&typeof a=="object")for(var p in a)Oc(s,p,a[p],c);else if(a=S(a),arguments.length===2)Sf(s,function(b){return Y(a,b)!==-1});else for(var g=0,w=a.length;g<w;g++)Oc(s,a[g],c,d);return this}function Sf(s,a){for(var c in s[Sn]){var d=c.split(/\d/)[0];(!a||a(d))&&Oc(s,d,null,null,c)}}var Rc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Lc(s,a,c,d){var p=a+h(c)+(d?"_"+h(d):"");if(s[Sn]&&s[Sn][p])return this;var g=function(b){return c.call(d||s,b||window.event)},w=g;!nt.touchNative&&nt.pointer&&a.indexOf("touch")===0?g=N0(s,a,g):nt.touch&&a==="dblclick"?g=V0(s,g):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(Rc[a]||a,g,nt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(g=function(b){b=b||window.event,Mc(s,b)&&w(b)},s.addEventListener(Rc[a],g,!1)):s.addEventListener(a,w,!1):s.attachEvent("on"+a,g),s[Sn]=s[Sn]||{},s[Sn][p]=g}function Oc(s,a,c,d,p){p=p||a+h(c)+(d?"_"+h(d):"");var g=s[Sn]&&s[Sn][p];if(!g)return this;!nt.touchNative&&nt.pointer&&a.indexOf("touch")===0?M0(s,a,g):nt.touch&&a==="dblclick"?H0(s,g):"removeEventListener"in s?s.removeEventListener(Rc[a]||a,g,!1):s.detachEvent("on"+a,g),s[Sn][p]=null}function Hi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Nc(s){return Lc(s,"wheel",Hi),this}function xr(s){return gt(s,"mousedown touchstart dblclick contextmenu",Hi),s._leaflet_disable_click=!0,this}function Te(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ji(s){return Te(s),Hi(s),this}function Pf(s){if(s.composedPath)return s.composedPath();for(var a=[],c=s.target;c;)a.push(c),c=c.parentNode;return a}function Af(s,a){if(!a)return new G(s.clientX,s.clientY);var c=kc(a),d=c.boundingClientRect;return new G((s.clientX-d.left)/c.x-a.clientLeft,(s.clientY-d.top)/c.y-a.clientTop)}var W0=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xf(s){return nt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/W0:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Mc(s,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var K0={__proto__:null,on:gt,off:qt,stopPropagation:Hi,disableScrollPropagation:Nc,disableClickPropagation:xr,preventDefault:Te,stop:ji,getPropagationPath:Pf,getMousePosition:Af,getWheelDelta:xf,isExternalTarget:Mc,addListener:gt,removeListener:qt},kf=xt.extend({run:function(s,a,c,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Vi(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Nt(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var c=this._startPos.add(this._offset.multiplyBy(s));a&&c._round(),ce(this._el,c),this.fire("step")},_complete:function(){Bt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),St=xt.extend({options:{crs:E,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=I(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(F(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ir&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,bf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(F(s),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,c.zoom):this._tryAnimatedPan(s,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,c){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),g=s instanceof G?s:this.latLngToContainerPoint(s),w=g.subtract(p).multiplyBy(1-1/d),b=this.containerPointToLatLng(p.add(w));return this.setView(b,a,{zoom:c})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():Jt(s);var c=rt(a.paddingTopLeft||a.padding||[0,0]),d=rt(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(s,!1,c.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var g=d.subtract(c).divideBy(2),w=this.project(s.getSouthWest(),p),b=this.project(s.getNorthEast(),p),C=this.unproject(w.add(b).divideBy(2).add(g),p);return{center:C,zoom:p}},fitBounds:function(s,a){if(s=Jt(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=rt(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new kf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,c){if(c=c||{},c.animate===!1||!nt.any3d)return this.setView(s,a,c);this._stop();var d=this.project(this.getCenter()),p=this.project(s),g=this.getSize(),w=this._zoom;s=F(s),a=a===void 0?w:a;var b=Math.max(g.x,g.y),C=b*this.getZoomScale(w,a),O=p.distanceTo(d)||1,K=1.42,ct=K*K;function Tt(ue){var ga=ue?-1:1,ME=ue?C:b,DE=C*C-b*b+ga*ct*ct*O*O,UE=2*ME*ct*O,Wc=DE/UE,up=Math.sqrt(Wc*Wc+1)-Wc,FE=up<1e-9?-18:Math.log(up);return FE}function tn(ue){return(Math.exp(ue)-Math.exp(-ue))/2}function Wi(ue){return(Math.exp(ue)+Math.exp(-ue))/2}function ma(ue){return tn(ue)/Wi(ue)}var mi=Tt(0);function qc(ue){return b*(Wi(mi)/Wi(mi+K*ue))}function RE(ue){return b*(Wi(mi)*ma(mi+K*ue)-tn(mi))/ct}function LE(ue){return 1-Math.pow(1-ue,1.5)}var OE=Date.now(),lp=(Tt(1)-mi)/K,NE=c.duration?1e3*c.duration:1e3*lp*.8;function cp(){var ue=(Date.now()-OE)/NE,ga=LE(ue)*lp;ue<=1?(this._flyToFrame=Nt(cp,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(RE(ga)/O)),w),this.getScaleZoom(b/qc(ga),w),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),cp.call(this),this},flyToBounds:function(s,a){var c=this._getBoundsCenterZoom(s,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(s){return s=Jt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,Jt(s));return c.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var c=rt(a.paddingTopLeft||a.padding||[0,0]),d=rt(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(s),w=this.getPixelBounds(),b=zt([w.min.add(c),w.max.subtract(d)]),C=b.getSize();if(!b.contains(g)){this._enforcingBounds=!0;var O=g.subtract(b.getCenter()),K=b.extend(g).getSize().subtract(C);p.x+=O.x<0?-K.x:K.x,p.y+=O.y<0?-K.y:K.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),d=a.divideBy(2).round(),p=c.divideBy(2).round(),g=d.subtract(p);return!g.x&&!g.y?this:(s.animate&&s.pan?this.panBy(g):(s.pan&&this._rawPanBy(g),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,s):navigator.geolocation.getCurrentPosition(a,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,c=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,c=s.coords.longitude,d=new P(a,c),p=d.toBounds(s.coords.accuracy*2),g=this._locateOptions;if(g.setView){var w=this.getBoundsZoom(p);this.setView(d,g.maxZoom?Math.min(w,g.maxZoom):w)}var b={latlng:d,bounds:p,timestamp:s.timestamp};for(var C in s.coords)typeof s.coords[C]=="number"&&(b[C]=s.coords[C]);this.fire("locationfound",b)}},addHandler:function(s,a){if(!a)return this;var c=this[s]=new a(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Bt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)te(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=kt("div",c,a||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new oe(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,c){s=Jt(s),c=rt(c||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),w=s.getNorthWest(),b=s.getSouthEast(),C=this.getSize().subtract(c),O=zt(this.project(b,d),this.project(w,d)).getSize(),K=nt.any3d?this.options.zoomSnap:1,ct=C.x/O.x,Tt=C.y/O.y,tn=a?Math.max(ct,Tt):Math.min(ct,Tt);return d=this.getScaleZoom(tn,d),K&&(d=Math.round(d/(K/100))*(K/100),d=a?Math.ceil(d/K)*K:Math.floor(d/K)*K),Math.max(p,Math.min(g,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var c=this._getTopLeftPoint(s,a);return new It(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(s)/c.scale(a)},getScaleZoom:function(s,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var d=c.zoom(s*c.scale(a));return isNaN(d)?1/0:d},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(F(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(rt(s),a)},layerPointToLatLng:function(s){var a=rt(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(F(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(F(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Jt(s))},distance:function(s,a){return this.options.crs.distance(F(s),F(a))},containerPointToLayerPoint:function(s){return rt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return rt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(rt(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(s)))},mouseEventToContainerPoint:function(s){return Af(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=If(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,yt(s,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Cr(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ce(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(s.markerPane,"leaflet-zoom-hide"),yt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,c){ce(this._mapPane,new G(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,c)._move(s,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,c,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Bt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ce(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var a=s?qt:gt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Bt(this._resizeRequest),this._resizeRequest=Nt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var c=[],d,p=a==="mouseout"||a==="mouseover",g=s.target||s.srcElement,w=!1;g;){if(d=this._targets[h(g)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){w=!0;break}if(d&&d.listens(a,!0)&&(p&&!Mc(g,s)||(c.push(d),p))||g===this._container)break;g=g.parentNode}return!c.length&&!w&&!p&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var c=s.type;c==="mousedown"&&xc(a),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,c){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,c)}var p=this._findEventTargets(s,a);if(c){for(var g=[],w=0;w<c.length;w++)c[w].listens(a,!0)&&g.push(c[w]);p=g.concat(p)}if(p.length){a==="contextmenu"&&Te(s);var b=p[0],C={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var O=b.getLatLng&&(!b._radius||b._radius<=10);C.containerPoint=O?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(s),C.layerPoint=this.containerPointToLayerPoint(C.containerPoint),C.latlng=O?b.getLatLng():this.layerPointToLatLng(C.layerPoint)}for(w=0;w<p.length;w++)if(p[w].fire(a,C,!0),C.originalEvent._stopped||p[w].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return Vi(this._mapPane)||new G(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var c=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var c=this.getSize()._divideBy(2);return this.project(s,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return this.project(s,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return zt([this.project(s.getSouthWest(),a)._subtract(d),this.project(s.getNorthWest(),a)._subtract(d),this.project(s.getSouthEast(),a)._subtract(d),this.project(s.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,c){if(!c)return s;var d=this.project(s,a),p=this.getSize().divideBy(2),g=new It(d.subtract(p),d.add(p)),w=this._getBoundsOffset(g,c,a);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?s:this.unproject(d.add(w),a)},_limitOffset:function(s,a){if(!a)return s;var c=this.getPixelBounds(),d=new It(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(s,a,c){var d=zt(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),p=d.min.subtract(s.min),g=d.max.subtract(s.max),w=this._rebound(p.x,-g.x),b=this._rebound(p.y,-g.y);return new G(w,b)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),c=this.getMaxZoom(),d=nt.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(a,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var c=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var s=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var c=Tc,d=this._proxy.style[c];$i(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();$i(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(s)._divideBy(1-1/d);return c.animate!==!0&&!this.getSize().contains(p)?!1:(Nt(function(){this._moveStart(!0,!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Z0(s,a){return new St(s,a)}var fn=me.extend({options:{position:"topright"},initialize:function(s){I(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),c=this.getPosition(),d=s._controlCorners[c];return yt(a,"leaflet-control"),c.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),kr=function(s){return new fn(s)};St.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",c=this._controlContainer=kt("div",a+"control-container",this._container);function d(p,g){var w=a+p+" "+a+g;s[p+g]=kt("div",w,c)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)te(this._controlCorners[s]);te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Rf=fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,c,d){return c<d?-1:d<c?1:0}},initialize:function(s,a,c){I(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return fn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=kt("div",s),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),xr(a),Nc(a);var d=this._section=kt("section",s+"-list");c&&(this._map.on("click",this.collapse,this),gt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=kt("a",s+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),gt(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){Te(g),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=kt("div",s+"-base",d),this._separator=kt("div",s+"-separator",d),this._overlaysList=kt("div",s+"-overlays",d),a.appendChild(d)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jo(this._baseLayersList),Jo(this._overlaysList),this._layerControlInputs=[];var s,a,c,d,p=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),a=a||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(h(s.target)),c=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(s,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(s){var a=document.createElement("label"),c=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=c):d=this._createRadioElement("leaflet-base-layers_"+h(this),c),this._layerControlInputs.push(d),d.layerId=h(s.layer),gt(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var g=document.createElement("span");a.appendChild(g),g.appendChild(d),g.appendChild(p);var w=s.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){var s=this._layerControlInputs,a,c,d=[],p=[];this._handlingClick=!0;for(var g=s.length-1;g>=0;g--)a=s[g],c=this._getLayer(a.layerId).layer,a.checked?d.push(c):a.checked||p.push(c);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])||this._map.addLayer(d[g]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,c,d=this._map.getZoom(),p=s.length-1;p>=0;p--)a=s[p],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&d<c.options.minZoom||c.options.maxZoom!==void 0&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;gt(s,"click",Te),this.expand(),setTimeout(function(){qt(s,"click",Te)})}}),G0=function(s,a,c){return new Rf(s,a,c)},Dc=fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",c=kt("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,c,d,p){var g=kt("a",c,d);return g.innerHTML=s,g.href="#",g.title=a,g.setAttribute("role","button"),g.setAttribute("aria-label",a),xr(g),gt(g,"click",ji),gt(g,"click",p,this),gt(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";ae(this._zoomInButton,a),ae(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(yt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(yt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});St.mergeOptions({zoomControl:!0}),St.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Dc,this.addControl(this.zoomControl))});var Q0=function(s){return new Dc(s)},Lf=fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",c=kt("div",a),d=this.options;return this._addScales(d,a+"-line",c),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,c){s.metric&&(this._mScale=kt("div",a,c)),s.imperial&&(this._iScale=kt("div",a,c))},_update:function(){var s=this._map,a=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/s)},_updateImperial:function(s){var a=s*3.2808399,c,d,p;a>5280?(c=a/5280,d=this._getRoundNum(c),this._updateScale(this._iScale,d+" mi",d/c)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(s,a,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),c=s/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),X0=function(s){return new Lf(s)},Y0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Uc=fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?Y0+" ":"")+"Leaflet</a>"},initialize:function(s){I(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),xr(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});St.mergeOptions({attributionControl:!0}),St.addInitHook(function(){this.options.attributionControl&&new Uc().addTo(this)});var J0=function(s){return new Uc(s)};fn.Layers=Rf,fn.Zoom=Dc,fn.Scale=Lf,fn.Attribution=Uc,kr.layers=G0,kr.zoom=Q0,kr.scale=X0,kr.attribution=J0;var Pn=me.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pn.addTo=function(s,a){return s.addHandler(a,this),this};var tE={Events:Ct},Of=nt.touch?"touchstart mousedown":"mousedown",fi=xt.extend({options:{clickTolerance:3},initialize:function(s,a,c,d){I(this,d),this._element=s,this._dragStartTarget=a||s,this._preventOutline=c},enable:function(){this._enabled||(gt(this._dragStartTarget,Of,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(fi._dragging===this&&this.finishDrag(!0),qt(this._dragStartTarget,Of,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!bc(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){fi._dragging===this&&this.finishDrag();return}if(!(fi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(fi._dragging=this,this._preventOutline&&xc(this._element),Sc(),Sr(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,c=Cf(this._element);this._startPoint=new G(a.clientX,a.clientY),this._startPos=Vi(this._element),this._parentScale=kc(c);var d=s.type==="mousedown";gt(document,d?"mousemove":"touchmove",this._onMove,this),gt(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,c=new G(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Te(s),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ce(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ae(document.body,"leaflet-dragging"),this._lastTarget&&(ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qt(document,"mousemove touchmove",this._onMove,this),qt(document,"mouseup touchend touchcancel",this._onUp,this),Pc(),Pr(),this._moved&&this._moving&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,fi._dragging=!1}});function Nf(s,a){if(!a||!s.length)return s.slice();var c=a*a;return s=iE(s,c),s=nE(s,c),s}function Mf(s,a,c){return Math.sqrt(Rr(s,a,c,!0))}function eE(s,a,c){return Rr(s,a,c)}function nE(s,a){var c=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new d(c);p[0]=p[c-1]=1,Fc(s,p,a,0,c-1);var g,w=[];for(g=0;g<c;g++)p[g]&&w.push(s[g]);return w}function Fc(s,a,c,d,p){var g=0,w,b,C;for(b=d+1;b<=p-1;b++)C=Rr(s[b],s[d],s[p],!0),C>g&&(w=b,g=C);g>c&&(a[w]=1,Fc(s,a,c,d,w),Fc(s,a,c,w,p))}function iE(s,a){for(var c=[s[0]],d=1,p=0,g=s.length;d<g;d++)sE(s[d],s[p])>a&&(c.push(s[d]),p=d);return p<g-1&&c.push(s[g-1]),c}var Df;function Uf(s,a,c,d,p){var g=d?Df:qi(s,c),w=qi(a,c),b,C,O;for(Df=w;;){if(!(g|w))return[s,a];if(g&w)return!1;b=g||w,C=sa(s,a,b,c,p),O=qi(C,c),b===g?(s=C,g=O):(a=C,w=O)}}function sa(s,a,c,d,p){var g=a.x-s.x,w=a.y-s.y,b=d.min,C=d.max,O,K;return c&8?(O=s.x+g*(C.y-s.y)/w,K=C.y):c&4?(O=s.x+g*(b.y-s.y)/w,K=b.y):c&2?(O=C.x,K=s.y+w*(C.x-s.x)/g):c&1&&(O=b.x,K=s.y+w*(b.x-s.x)/g),new G(O,K,p)}function qi(s,a){var c=0;return s.x<a.min.x?c|=1:s.x>a.max.x&&(c|=2),s.y<a.min.y?c|=4:s.y>a.max.y&&(c|=8),c}function sE(s,a){var c=a.x-s.x,d=a.y-s.y;return c*c+d*d}function Rr(s,a,c,d){var p=a.x,g=a.y,w=c.x-p,b=c.y-g,C=w*w+b*b,O;return C>0&&(O=((s.x-p)*w+(s.y-g)*b)/C,O>1?(p=c.x,g=c.y):O>0&&(p+=w*O,g+=b*O)),w=s.x-p,b=s.y-g,d?w*w+b*b:new G(p,g)}function Je(s){return!M(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Ff(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Je(s)}function Bf(s,a){var c,d,p,g,w,b,C,O;if(!s||s.length===0)throw new Error("latlngs not passed");Je(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var K=[];for(var ct in s)K.push(a.project(F(s[ct])));var Tt=K.length;for(c=0,d=0;c<Tt-1;c++)d+=K[c].distanceTo(K[c+1])/2;if(d===0)O=K[0];else for(c=0,g=0;c<Tt-1;c++)if(w=K[c],b=K[c+1],p=w.distanceTo(b),g+=p,g>d){C=(g-d)/p,O=[b.x-C*(b.x-w.x),b.y-C*(b.y-w.y)];break}return a.unproject(rt(O))}var rE={__proto__:null,simplify:Nf,pointToSegmentDistance:Mf,closestPointOnSegment:eE,clipSegment:Uf,_getEdgeIntersection:sa,_getBitCode:qi,_sqClosestPointOnSegment:Rr,isFlat:Je,_flat:Ff,polylineCenter:Bf};function zf(s,a,c){var d,p=[1,4,2,8],g,w,b,C,O,K,ct,Tt;for(g=0,K=s.length;g<K;g++)s[g]._code=qi(s[g],a);for(b=0;b<4;b++){for(ct=p[b],d=[],g=0,K=s.length,w=K-1;g<K;w=g++)C=s[g],O=s[w],C._code&ct?O._code&ct||(Tt=sa(O,C,ct,a,c),Tt._code=qi(Tt,a),d.push(Tt)):(O._code&ct&&(Tt=sa(O,C,ct,a,c),Tt._code=qi(Tt,a),d.push(Tt)),d.push(C));s=d}return s}function $f(s,a){var c,d,p,g,w,b,C,O,K;if(!s||s.length===0)throw new Error("latlngs not passed");Je(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ct=[];for(var Tt in s)ct.push(a.project(F(s[Tt])));var tn=ct.length;for(b=C=O=0,c=0,d=tn-1;c<tn;d=c++)p=ct[c],g=ct[d],w=p.y*g.x-g.y*p.x,C+=(p.x+g.x)*w,O+=(p.y+g.y)*w,b+=w*3;return b===0?K=ct[0]:K=[C/b,O/b],a.unproject(rt(K))}var oE={__proto__:null,clipPolygon:zf,polygonCenter:$f},Bc={project:function(s){return new G(s.lng,s.lat)},unproject:function(s){return new P(s.y,s.x)},bounds:new It([-180,-90],[180,90])},zc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new It([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,c=this.R,d=s.lat*a,p=this.R_MINOR/c,g=Math.sqrt(1-p*p),w=g*Math.sin(d),b=Math.tan(Math.PI/4-d/2)/Math.pow((1-w)/(1+w),g/2);return d=-c*Math.log(Math.max(b,1e-10)),new G(s.lng*a*c,d)},unproject:function(s){for(var a=180/Math.PI,c=this.R,d=this.R_MINOR/c,p=Math.sqrt(1-d*d),g=Math.exp(-s.y/c),w=Math.PI/2-2*Math.atan(g),b=0,C=.1,O;b<15&&Math.abs(C)>1e-7;b++)O=p*Math.sin(w),O=Math.pow((1-O)/(1+O),p/2),C=Math.PI/2-2*Math.atan(g*O)-w,w+=C;return new P(w*a,s.x*a/c)}},aE={__proto__:null,LonLat:Bc,Mercator:zc,SphericalMercator:jt},lE=r({},Q,{code:"EPSG:3395",projection:zc,transformation:function(){var s=.5/(Math.PI*zc.R);return y(s,.5,-s,.5)}()}),Vf=r({},Q,{code:"EPSG:4326",projection:Bc,transformation:y(1/180,1,-1/180,.5)}),cE=r({},H,{projection:Bc,transformation:y(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var c=a.lng-s.lng,d=a.lat-s.lat;return Math.sqrt(c*c+d*d)},infinite:!0});H.Earth=Q,H.EPSG3395=lE,H.EPSG3857=E,H.EPSG900913=A,H.EPSG4326=Vf,H.Simple=cE;var pn=xt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});St.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=h(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},_addLayers:function(s){s=s?M(s)?s:[s]:[];for(var a=0,c=s.length;a<c;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=h(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var As=pn.extend({initialize:function(s,a){I(this,a),this._layers={};var c,d;if(s)for(c=0,d=s.length;c<d;c++)this.addLayer(s[c])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[s]&&d[s].apply(d,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),uE=function(s,a){return new As(s,a)},qn=As.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),As.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),As.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new oe;for(var a in this._layers){var c=this._layers[a];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),hE=function(s,a){return new qn(s,a)},xs=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){I(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,a){var c=this.options,d=c[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=rt(d),g=rt(a==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(c.className||""),g&&(s.style.marginLeft=-g.x+"px",s.style.marginTop=-g.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return nt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function dE(s){return new xs(s)}var Lr=xs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Lr.imagePath!="string"&&(Lr.imagePath=this._detectIconPath()),(this.options.imagePath||Lr.imagePath)+xs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(c,d,p){var g=d.exec(c);return g&&g[p]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=kt("div","leaflet-default-icon-path",document.body),a=Cr(s,"background-image")||Cr(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Hf=Pn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new fi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,c=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=Vi(a._icon),w=c.getPixelBounds(),b=c.getPixelOrigin(),C=zt(w.min._subtract(b).add(p),w.max._subtract(b).subtract(p));if(!C.contains(g)){var O=rt((Math.max(C.max.x,g.x)-C.max.x)/(w.max.x-C.max.x)-(Math.min(C.min.x,g.x)-C.min.x)/(w.min.x-C.min.x),(Math.max(C.max.y,g.y)-C.max.y)/(w.max.y-C.max.y)-(Math.min(C.min.y,g.y)-C.min.y)/(w.min.y-C.min.y)).multiplyBy(d);c.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),ce(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Nt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Bt(this._panRequest),this._panRequest=Nt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,c=a._shadow,d=Vi(a._icon),p=a._map.layerPointToLatLng(d);c&&ce(c,d),a._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Bt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ra=pn.extend({options:{icon:new Lr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){I(this,a),this._latlng=F(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=F(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),yt(c,a),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(c,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(yt(p,a),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qt(this._icon,"focus",this._panOnFocus,this),te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&te(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ce(this._icon,s),this._shadow&&ce(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hf)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hf(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ye(this._icon,s),this._shadow&&Ye(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,c=a.iconSize?rt(a.iconSize):rt(0,0),d=a.iconAnchor?rt(a.iconAnchor):rt(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:c.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fE(s,a){return new ra(s,a)}var pi=pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return I(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oa=pi.extend({options:{fill:!0,radius:10},initialize:function(s,a){I(this,a),this._latlng=F(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=F(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return pi.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,c=this._clickTolerance(),d=[s+c,a+c];this._pxBounds=new It(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pE(s,a){return new oa(s,a)}var $c=oa.extend({initialize:function(s,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),I(this,a),this._latlng=F(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:pi.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===Q.distance){var p=Math.PI/180,g=this._mRadius/Q.R/p,w=c.project([a+g,s]),b=c.project([a-g,s]),C=w.add(b).divideBy(2),O=c.unproject(C).lat,K=Math.acos((Math.cos(g*p)-Math.sin(a*p)*Math.sin(O*p))/(Math.cos(a*p)*Math.cos(O*p)))/p;(isNaN(K)||K===0)&&(K=g/Math.cos(Math.PI/180*a)),this._point=C.subtract(c.getPixelOrigin()),this._radius=isNaN(K)?0:C.x-c.project([O,s-K]).x,this._radiusY=C.y-w.y}else{var ct=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ct).x}this._updateBounds()}});function mE(s,a,c){return new $c(s,a,c)}var Wn=pi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){I(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,c=null,d=Rr,p,g,w=0,b=this._parts.length;w<b;w++)for(var C=this._parts[w],O=1,K=C.length;O<K;O++){p=C[O-1],g=C[O];var ct=d(s,p,g,!0);ct<a&&(a=ct,c=d(s,p,g))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=F(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new oe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Je(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],c=Je(s),d=0,p=s.length;d<p;d++)c?(a[d]=F(s[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(s[d]);return a},_project:function(){var s=new It;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new G(s,s);this._rawPxBounds&&(this._pxBounds=new It([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,c){var d=s[0]instanceof P,p=s.length,g,w;if(d){for(w=[],g=0;g<p;g++)w[g]=this._map.latLngToLayerPoint(s[g]),c.extend(w[g]);a.push(w)}else for(g=0;g<p;g++)this._projectLatlngs(s[g],a,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,d,p,g,w,b,C;for(c=0,p=0,g=this._rings.length;c<g;c++)for(C=this._rings[c],d=0,w=C.length;d<w-1;d++)b=Uf(C[d],C[d+1],s,d,!0),b&&(a[p]=a[p]||[],a[p].push(b[0]),(b[1]!==C[d+1]||d===w-2)&&(a[p].push(b[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,c=0,d=s.length;c<d;c++)s[c]=Nf(s[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var c,d,p,g,w,b,C=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,g=this._parts.length;c<g;c++)for(b=this._parts[c],d=0,w=b.length,p=w-1;d<w;p=d++)if(!(!a&&d===0)&&Mf(s,b[p],b[d])<=C)return!0;return!1}});function gE(s,a){return new Wn(s,a)}Wn._flat=Ff;var ks=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $f(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=Wn.prototype._convertLatLngs.call(this,s),c=a.length;return c>=2&&a[0]instanceof P&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(s){Wn.prototype._setLatLngs.call(this,s),Je(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Je(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,c=new G(a,a);if(s=new It(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,g;d<p;d++)g=zf(this._rings[d],s,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,c,d,p,g,w,b,C,O;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,C=this._parts.length;g<C;g++)for(c=this._parts[g],w=0,O=c.length,b=O-1;w<O;b=w++)d=c[w],p=c[b],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||Wn.prototype._containsPoint.call(this,s,!0)}});function _E(s,a){return new ks(s,a)}var Kn=qn.extend({initialize:function(s,a){I(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=M(s)?s:s.features,c,d,p;if(a){for(c=0,d=a.length;c<d;c++)p=a[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(s))return this;var w=aa(s,g);return w?(w.feature=ua(s),w.defaultOptions=w.options,this.resetStyle(w),g.onEachFeature&&g.onEachFeature(s,w),this.addLayer(w)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function aa(s,a){var c=s.type==="Feature"?s.geometry:s,d=c?c.coordinates:null,p=[],g=a&&a.pointToLayer,w=a&&a.coordsToLatLng||Vc,b,C,O,K;if(!d&&!c)return null;switch(c.type){case"Point":return b=w(d),jf(g,s,b,a);case"MultiPoint":for(O=0,K=d.length;O<K;O++)b=w(d[O]),p.push(jf(g,s,b,a));return new qn(p);case"LineString":case"MultiLineString":return C=la(d,c.type==="LineString"?0:1,w),new Wn(C,a);case"Polygon":case"MultiPolygon":return C=la(d,c.type==="Polygon"?1:2,w),new ks(C,a);case"GeometryCollection":for(O=0,K=c.geometries.length;O<K;O++){var ct=aa({geometry:c.geometries[O],type:"Feature",properties:s.properties},a);ct&&p.push(ct)}return new qn(p);case"FeatureCollection":for(O=0,K=c.features.length;O<K;O++){var Tt=aa(c.features[O],a);Tt&&p.push(Tt)}return new qn(p);default:throw new Error("Invalid GeoJSON object.")}}function jf(s,a,c,d){return s?s(a,c):new ra(c,d&&d.markersInheritOptions&&d)}function Vc(s){return new P(s[1],s[0],s[2])}function la(s,a,c){for(var d=[],p=0,g=s.length,w;p<g;p++)w=a?la(s[p],a-1,c):(c||Vc)(s[p]),d.push(w);return d}function Hc(s,a){return s=F(s),s.alt!==void 0?[v(s.lng,a),v(s.lat,a),v(s.alt,a)]:[v(s.lng,a),v(s.lat,a)]}function ca(s,a,c,d){for(var p=[],g=0,w=s.length;g<w;g++)p.push(a?ca(s[g],Je(s[g])?0:a-1,c,d):Hc(s[g],d));return!a&&c&&p.push(p[0].slice()),p}function Rs(s,a){return s.feature?r({},s.feature,{geometry:a}):ua(a)}function ua(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var jc={toGeoJSON:function(s){return Rs(this,{type:"Point",coordinates:Hc(this.getLatLng(),s)})}};ra.include(jc),$c.include(jc),oa.include(jc),Wn.include({toGeoJSON:function(s){var a=!Je(this._latlngs),c=ca(this._latlngs,a?1:0,!1,s);return Rs(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),ks.include({toGeoJSON:function(s){var a=!Je(this._latlngs),c=a&&!Je(this._latlngs[0]),d=ca(this._latlngs,c?2:a?1:0,!0,s);return a||(d=[d]),Rs(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),As.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(s).geometry.coordinates)}),Rs(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var c=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(s);if(c)d.push(g.geometry);else{var w=ua(g);w.type==="FeatureCollection"?d.push.apply(d,w.features):d.push(w)}}}),c?Rs(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function qf(s,a){return new Kn(s,a)}var vE=qf,ha=pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,c){this._url=s,this._bounds=Jt(a),I(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ss(this._image),this},bringToBack:function(){return this._map&&Ps(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Jt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:kt("img");if(yt(a,"leaflet-image-layer"),this._zoomAnimated&&yt(a,"leaflet-zoom-animated"),this.options.className&&yt(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;$i(this._image,c,a)},_reset:function(){var s=this._image,a=new It(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();ce(s,a.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),yE=function(s,a,c){return new ha(s,a,c)},Wf=ha.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:kt("video");if(yt(a,"leaflet-image-layer"),this._zoomAnimated&&yt(a,"leaflet-zoom-animated"),this.options.className&&yt(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),s){for(var c=a.getElementsByTagName("source"),d=[],p=0;p<c.length;p++)d.push(c[p].src);this._url=c.length>0?d:[a.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var w=kt("source");w.src=this._url[g],a.appendChild(w)}}});function wE(s,a,c){return new Wf(s,a,c)}var Kf=ha.extend({_initImage:function(){var s=this._image=this._url;yt(s,"leaflet-image-layer"),this._zoomAnimated&&yt(s,"leaflet-zoom-animated"),this.options.className&&yt(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function EE(s,a,c){return new Kf(s,a,c)}var An=pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof P||M(s))?(this._latlng=F(s),I(this,a)):(I(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ye(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ye(this._container,0),this._removeTimeout=setTimeout(l(te,void 0,this._container),200)):te(this._container),this.options.interactive&&(ae(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=F(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ss(this._container),this},bringToBack:function(){return this._map&&Ps(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof qn){a=null;var c=this._source._layers;for(var d in c)if(c[d]._map){a=c[d];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=rt(this.options.offset),c=this._getAnchor();this._zoomAnimated?ce(this._container,s.add(c)):a=a.add(s).add(c);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});St.include({_initOverlay:function(s,a,c,d){var p=a;return p instanceof s||(p=new s(d).setContent(a)),c&&p.setLatLng(c),p}}),pn.include({_initOverlay:function(s,a,c,d){var p=c;return p instanceof s?(I(p,d),p._source=this):(p=a&&!d?a:new s(d,this),p.setContent(c)),p}});var da=An.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,An.prototype.openOn.call(this,s)},onAdd:function(s){An.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pi||this._source.on("preclick",Hi))},onRemove:function(s){An.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pi||this._source.off("preclick",Hi))},getEvents:function(){var s=An.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=kt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=kt("div",s+"-content-wrapper",a);if(this._contentNode=kt("div",s+"-content",c),xr(a),Nc(this._contentNode),gt(a,"contextmenu",Hi),this._tipContainer=kt("div",s+"-tip-container",a),this._tip=kt("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=kt("a",s+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',gt(d,"click",function(p){Te(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var d=s.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",yt(s,g)):ae(s,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();ce(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(Cr(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,d=this._containerWidth,p=new G(this._containerLeft,-c-this._containerBottom);p._add(Vi(this._container));var g=s.layerPointToContainerPoint(p),w=rt(this.options.autoPanPadding),b=rt(this.options.autoPanPaddingTopLeft||w),C=rt(this.options.autoPanPaddingBottomRight||w),O=s.getSize(),K=0,ct=0;g.x+d+C.x>O.x&&(K=g.x+d-O.x+C.x),g.x-K-b.x<0&&(K=g.x-b.x),g.y+c+C.y>O.y&&(ct=g.y+c-O.y+C.y),g.y-ct-b.y<0&&(ct=g.y-b.y),(K||ct)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([K,ct]))}},_getAnchor:function(){return rt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),TE=function(s,a){return new da(s,a)};St.mergeOptions({closePopupOnClick:!0}),St.include({openPopup:function(s,a,c){return this._initOverlay(da,s,a,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),pn.include({bindPopup:function(s,a){return this._popup=this._initOverlay(da,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ji(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof pi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var fa=An.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){An.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){An.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=An.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,c,d=this._map,p=this._container,g=d.latLngToContainerPoint(d.getCenter()),w=d.layerPointToContainerPoint(s),b=this.options.direction,C=p.offsetWidth,O=p.offsetHeight,K=rt(this.options.offset),ct=this._getAnchor();b==="top"?(a=C/2,c=O):b==="bottom"?(a=C/2,c=0):b==="center"?(a=C/2,c=O/2):b==="right"?(a=0,c=O/2):b==="left"?(a=C,c=O/2):w.x<g.x?(b="right",a=0,c=O/2):(b="left",a=C+(K.x+ct.x)*2,c=O/2),s=s.subtract(rt(a,c,!0)).add(K).add(ct),ae(p,"leaflet-tooltip-right"),ae(p,"leaflet-tooltip-left"),ae(p,"leaflet-tooltip-top"),ae(p,"leaflet-tooltip-bottom"),yt(p,"leaflet-tooltip-"+b),ce(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ye(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return rt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bE=function(s,a){return new fa(s,a)};St.include({openTooltip:function(s,a,c){return this._initOverlay(fa,s,a,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),pn.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fa,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=s.getElement();a&&(gt(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),gt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0))},_moveTooltip:function(s){var a=s.latlng,c,d;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var Zf=xs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Jo(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var d=rt(c.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function IE(s){return new Zf(s)}xs.Default=Lr;var Or=pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){I(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),te(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ss(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ps(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof G?s:new G(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,c=-s(-1/0,1/0),d=0,p=a.length,g;d<p;d++)g=a[d].style.zIndex,a[d]!==this._container&&g&&(c=s(c,+g));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){Ye(this._container,this.options.opacity);var s=+new Date,a=!1,c=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var g=Math.min(1,(s-p.loaded)/200);Ye(p.el,g),g<1?a=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(Bt(this._fadeFrame),this._fadeFrame=Nt(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=a-Math.abs(s-c),this._onUpdateLevel(c)):(te(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)te(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,c,d){var p=Math.floor(s/2),g=Math.floor(a/2),w=c-1,b=new G(+p,+g);b.z=+w;var C=this._tileCoordsToKey(b),O=this._tiles[C];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),w>d?this._retainParent(p,g,w,d):!1)},_retainChildren:function(s,a,c,d){for(var p=2*s;p<2*s+2;p++)for(var g=2*a;g<2*a+2;g++){var w=new G(p,g);w.z=c+1;var b=this._tileCoordsToKey(w),C=this._tiles[b];if(C&&C.active){C.retain=!0;continue}else C&&C.loaded&&(C.retain=!0);c+1<d&&this._retainChildren(p,g,c+1,d)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,c,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,a)},_setZoomTransform:function(s,a,c){var d=this._map.getZoomScale(c,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,c)).round();nt.any3d?$i(s.el,p,d):ce(s.el,p)},_resetGrid:function(){var s=this._map,a=s.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],d).x/c.x),Math.ceil(s.project([0,a.wrapLng[1]],d).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],d).y/c.x),Math.ceil(s.project([a.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(c,this._tileZoom),p=a.project(s,this._tileZoom).floor(),g=a.getSize().divideBy(d*2);return new It(p.subtract(g),p.add(g))},_update:function(s){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),g=p.getCenter(),w=[],b=this.options.keepBuffer,C=new It(p.getBottomLeft().subtract([b,-b]),p.getTopRight().add([b,-b]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var K=this._tiles[O].coords;(K.z!==this._tileZoom||!C.contains(new G(K.x,K.y)))&&(this._tiles[O].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var ct=p.min.y;ct<=p.max.y;ct++)for(var Tt=p.min.x;Tt<=p.max.x;Tt++){var tn=new G(Tt,ct);if(tn.z=this._tileZoom,!!this._isValidTile(tn)){var Wi=this._tiles[this._tileCoordsToKey(tn)];Wi?Wi.current=!0:w.push(tn)}}if(w.sort(function(mi,qc){return mi.distanceTo(g)-qc.distanceTo(g)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ma=document.createDocumentFragment();for(Tt=0;Tt<w.length;Tt++)this._addTile(w[Tt],ma);this._level.el.appendChild(ma)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!a.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return Jt(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,c=this.getTileSize(),d=s.scaleBy(c),p=d.add(c),g=a.unproject(d,s.z),w=a.unproject(p,s.z);return[g,w]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),c=new oe(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),c=new G(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(s){var a=this._tiles[s];a&&(te(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){yt(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=_,s.onmousemove=_,nt.ielt9&&this.options.opacity<1&&Ye(s,this.options.opacity)},_addTile:function(s,a){var c=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&Nt(l(this._tileReady,this,s,null,p)),ce(p,c),this._tiles[d]={el:p,coords:s,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:s});var d=this._tileCoordsToKey(s);c=this._tiles[d],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ye(c.el,0),Bt(this._fadeFrame),this._fadeFrame=Nt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(yt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?Nt(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new G(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new It(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function CE(s){return new Or(s)}var Ls=Or.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=I(this,a),a.detectRetina&&nt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var c=document.createElement("img");return gt(c,"load",l(this._tileOnLoad,this,a,c)),gt(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var a={r:nt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=c),a["-y"]=c}return q(this._url,r(a,this.options))},_tileOnLoad:function(s,a){nt.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,c){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),s(c,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(s=a-s),s+d},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=_,a.onerror=_,!a.complete)){a.src=ft;var c=this._tiles[s].coords;te(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",ft),Or.prototype._removeTile.call(this,s)},_tileReady:function(s,a,c){if(!(!this._map||c&&c.getAttribute("src")===ft))return Or.prototype._tileReady.call(this,s,a,c)}});function Gf(s,a){return new Ls(s,a)}var Qf=Ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var c=r({},this.defaultWmsParams);for(var d in a)d in this.options||(c[d]=a[d]);a=I(this,a);var p=a.detectRetina&&nt.retina?2:1,g=this.getTileSize();c.width=g.x*p,c.height=g.y*p,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Ls.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),c=this._crs,d=zt(c.project(a[0]),c.project(a[1])),p=d.min,g=d.max,w=(this._wmsVersion>=1.3&&this._crs===Vf?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),b=Ls.prototype.getTileUrl.call(this,s);return b+D(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function SE(s,a){return new Qf(s,a)}Ls.WMS=Qf,Gf.wms=SE;var Zn=pn.extend({options:{padding:.1},initialize:function(s){I(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var c=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),g=d.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(s,a));nt.any3d?$i(this._container,g,c):ce(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new It(c,c.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xf=Zn.extend({options:{tolerance:0},getEvents:function(){var s=Zn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");gt(s,"mousemove",this._onMouseMove,this),gt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Bt(this._redrawRequest),delete this._ctx,te(this._container),qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var s=this._bounds,a=this._container,c=s.getSize(),d=nt.retina?2:1;ce(a,s.min),a.width=d*c.x,a.height=d*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,c=a.next,d=a.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),c=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;c.push(d)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Nt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new It,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var c,d,p,g,w=s._parts,b=w.length,C=this._ctx;if(b){for(C.beginPath(),c=0;c<b;c++){for(d=0,p=w[c].length;d<p;d++)g=w[c][d],C[d?"lineTo":"moveTo"](g.x,g.y);a&&C.closePath()}this._fillStroke(C,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,c=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,a){var c=a.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(ae(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(yt(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,c){this._map._fireDOMEvent(a,c||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(c)c.prev=d;else return;d?d.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(d)d.next=c;else return;c?c.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function Yf(s){return nt.canvas?new Xf(s):null}var Nr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),PE={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=Nr("shape");yt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=Nr("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;te(a),s.removeInteractiveTarget(a),delete this._layers[h(s)]},_updateStyle:function(s){var a=s._stroke,c=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=s._stroke=Nr("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=M(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),s._stroke=null),d.fill?(c||(c=s._fill=Nr("fill")),p.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(p.removeChild(c),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),c=Math.round(s._radius),d=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+d+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){Ss(s._container)},_bringToBack:function(s){Ps(s._container)}},pa=nt.vml?Nr:k,Mr=Zn.extend({_initContainer:function(){this._container=pa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){te(this._container),qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var s=this._bounds,a=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),ce(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=pa("path");s.options.className&&yt(a,s.options.className),s.options.interactive&&yt(a,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){te(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,c=s.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,R(s._parts,a))},_updateCircle:function(s){var a=s._point,c=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||c,p="a"+c+","+d+" 0 1,0 ",g=s._empty()?"M0 0":"M"+(a.x-c)+","+a.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(s,g)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){Ss(s._path)},_bringToBack:function(s){Ps(s._path)}});nt.vml&&Mr.include(PE);function Jf(s){return nt.svg||nt.vml?new Mr(s):null}St.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&Yf(s)||Jf(s)}});var tp=ks.extend({initialize:function(s,a){ks.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Jt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function AE(s,a){return new tp(s,a)}Mr.create=pa,Mr.pointsToPath=R,Kn.geometryToLayer=aa,Kn.coordsToLatLng=Vc,Kn.coordsToLatLngs=la,Kn.latLngToCoords=Hc,Kn.latLngsToCoords=ca,Kn.getFeature=Rs,Kn.asFeature=ua,St.mergeOptions({boxZoom:!0});var ep=Pn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sr(),Sc(),this._startPoint=this._map.mouseEventToContainerPoint(s),gt(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new It(this._point,this._startPoint),c=a.getSize();ce(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(te(this._box),ae(this._container,"leaflet-crosshair")),Pr(),Pc(),qt(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});St.addInitHook("addHandler","boxZoom",ep),St.mergeOptions({doubleClickZoom:!0});var np=Pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,c=a.getZoom(),d=a.options.zoomDelta,p=s.originalEvent.shiftKey?c-d:c+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(s.containerPoint,p)}});St.addInitHook("addHandler","doubleClickZoom",np),St.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ip=Pn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new fi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ae(this._map._container,"leaflet-grab"),ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Jt(this._map.options.maxBounds);this._offsetLimit=zt(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+c)%s+a-c,g=(d+a+c)%s-a-c,w=Math.abs(p+c)<Math.abs(g+c)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(s){var a=this._map,c=a.options,d=!c.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,w=c.easeLinearity,b=p.multiplyBy(w/g),C=b.distanceTo([0,0]),O=Math.min(c.inertiaMaxSpeed,C),K=b.multiplyBy(O/C),ct=O/(c.inertiaDeceleration*w),Tt=K.multiplyBy(-ct/2).round();!Tt.x&&!Tt.y?a.fire("moveend"):(Tt=a._limitOffset(Tt,a.options.maxBounds),Nt(function(){a.panBy(Tt,{duration:ct,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});St.addInitHook("addHandler","dragging",ip),St.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sp=Pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),gt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,c=s.scrollTop||a.scrollTop,d=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},c=this.keyCodes,d,p;for(d=0,p=c.left.length;d<p;d++)a[c.left[d]]=[-1*s,0];for(d=0,p=c.right.length;d<p;d++)a[c.right[d]]=[s,0];for(d=0,p=c.down.length;d<p;d++)a[c.down[d]]=[0,s];for(d=0,p=c.up.length;d<p;d++)a[c.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},c=this.keyCodes,d,p;for(d=0,p=c.zoomIn.length;d<p;d++)a[c.zoomIn[d]]=s;for(d=0,p=c.zoomOut.length;d<p;d++)a[c.zoomOut[d]]=-s},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,c=this._map,d;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(d=this._panKeys[a],s.shiftKey&&(d=rt(d).multiplyBy(3)),c.options.maxBounds&&(d=c._limitOffset(rt(d),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(d)));c.panTo(p)}else c.panBy(d)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;ji(s)}}});St.addInitHook("addHandler","keyboard",sp),St.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rp=Pn.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=xf(s),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),ji(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,g=c?Math.ceil(p/c)*c:p,w=s._limitZoom(a+(this._delta>0?g:-g))-a;this._delta=0,this._startTime=null,w&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+w):s.setZoomAround(this._lastMousePos,a+w))}});St.addInitHook("addHandler","scrollWheelZoom",rp);var xE=600;St.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var op=Pn.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new G(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",Te),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),xE),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){qt(document,"touchend",Te),qt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),qt(document,"touchend touchcancel contextmenu",this._cancel,this),qt(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new G(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});St.addInitHook("addHandler","tapHold",op),St.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var ap=Pn.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ae(this._map._container,"leaflet-touch-zoom"),qt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),Te(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]),p=c.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Bt(this._animRequest);var w=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Nt(w,this,!0),Te(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Bt(this._animRequest),qt(document,"touchmove",this._onTouchMove,this),qt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});St.addInitHook("addHandler","touchZoom",ap),St.BoxZoom=ep,St.DoubleClickZoom=np,St.Drag=ip,St.Keyboard=sp,St.ScrollWheelZoom=rp,St.TapHold=op,St.TouchZoom=ap,n.Bounds=It,n.Browser=nt,n.CRS=H,n.Canvas=Xf,n.Circle=$c,n.CircleMarker=oa,n.Class=me,n.Control=fn,n.DivIcon=Zf,n.DivOverlay=An,n.DomEvent=K0,n.DomUtil=q0,n.Draggable=fi,n.Evented=xt,n.FeatureGroup=qn,n.GeoJSON=Kn,n.GridLayer=Or,n.Handler=Pn,n.Icon=xs,n.ImageOverlay=ha,n.LatLng=P,n.LatLngBounds=oe,n.Layer=pn,n.LayerGroup=As,n.LineUtil=rE,n.Map=St,n.Marker=ra,n.Mixin=tE,n.Path=pi,n.Point=G,n.PolyUtil=oE,n.Polygon=ks,n.Polyline=Wn,n.Popup=da,n.PosAnimation=kf,n.Projection=aE,n.Rectangle=tp,n.Renderer=Zn,n.SVG=Mr,n.SVGOverlay=Kf,n.TileLayer=Ls,n.Tooltip=fa,n.Transformation=mt,n.Util=Ze,n.VideoOverlay=Wf,n.bind=l,n.bounds=zt,n.canvas=Yf,n.circle=mE,n.circleMarker=pE,n.control=kr,n.divIcon=IE,n.extend=r,n.featureGroup=hE,n.geoJSON=qf,n.geoJson=vE,n.gridLayer=CE,n.icon=dE,n.imageOverlay=yE,n.latLng=F,n.latLngBounds=Jt,n.layerGroup=uE,n.map=Z0,n.marker=fE,n.point=rt,n.polygon=_E,n.polyline=gE,n.popup=TE,n.rectangle=AE,n.setOptions=I,n.stamp=h,n.svg=Jf,n.svgOverlay=EE,n.tileLayer=Gf,n.tooltip=bE,n.transformation=y,n.version=i,n.videoOverlay=wE;var kE=window.L;n.noConflict=function(){return window.L=kE,this},window.L=n})})(Ch,Ch.exports);var dM=Ch.exports;const Ms=hM(dM);const fM={name:"Map",data(){return{currentLocation:null}},async mounted(){const e=Ms.map(this.$el).setView([51.505,-.09],10);if(Ms.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(e),navigator.geolocation){const t=await this.getCurrentPosition();this.currentLocation=Ms.latLng(t.coords.latitude,t.coords.longitude),e.setView(this.currentLocation,10),Ms.marker(this.currentLocation).addTo(e).bindPopup("Your current location").openPopup();const i=await this.getNearestVets(this.currentLocation);i&&i.forEach(r=>{r.addTo(e)})}},methods:{getCurrentPosition(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)})},async getNearestVets(e){const n=await(await fetch(`https://nominatim.openstreetmap.org/search?q=weterynarz&format=json&limit=10&bounded=1&viewbox=${e.lng-.1},${e.lat-.1},${e.lng+.1},${e.lat+.1}`)).json();return n.length>0?n.map(r=>{const o=Ms.latLng(r.lat,r.lon),h=`<strong>${r.display_name||""}</strong><br>`;return Ms.marker(o).bindPopup(h)}):null}}},pM=e=>(o_("data-v-25b4f822"),e=e(),a_(),e),mM={class:"col-sm-12 col-md-12"},gM=pM(()=>x("div",{class:"map"},null,-1)),_M=[gM];function vM(e,t,n,i,r,o){return ge(),Oe("div",mM,_M)}const yM=Vn(fM,[["render",vM],["__scopeId","data-v-25b4f822"]]),w0=hC({history:xI("/HealthyAnimalsSite/"),routes:[{path:"/",name:"home",component:I1},{path:"/about",name:"about",component:A1},{path:"/contact",name:"contact",component:U1},{path:"/loggedContent",name:"logCont",component:q_},{path:"/login",name:"log",component:rO},{path:"/addAnimal",name:"addAnim",component:LN},{path:"/makeAppointment",name:"amakeAppo",component:VN},{path:"/showAnimals",name:"shAnimal",component:JN},{path:"/showAppointment",name:"shAppo",component:cM},{path:"/findVet",name:"fVet",component:yM}]});w0.beforeEach((e,t,n)=>{document.querySelector('meta[name="Permissions-Policy"]').setAttribute("content","interest-cohort=(self)"),n()});var wM="firebase",EM="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(wM,EM,"app");const TM={apiKey:"AIzaSyDe4LI9zLeRdLkdKBemzK1Aq0udU-50W90",authDomain:"projekt-a9a54.firebaseapp.com",projectId:"projekt-a9a54",storageBucket:"projekt-a9a54.appspot.com",messagingSenderId:"999250009417",appId:"1:999250009417:web:a1b9e4717d0f285fe80e98"},bM=ev(TM),us=PL(bM),cn=JA(),E0=cI(_1);E0.use(w0);E0.mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("sw.js").then(e=>console.log("service worker registered")).catch(e=>console.log("service worker not registered",e))});
